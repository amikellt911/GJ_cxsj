<!DOCTYPE html>
<!-- saved from url=(0040)https://hacpai.com/article/1554268298675 -->
<html lang="zh-cmn-Hans"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="theme-color" content="#3b3e43">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="google-site-verification" content="l6JwXAuzDd2K09z9xYaeZTFjnXVJATmJ7xX1q2_HuEo">
<meta name="baidu-site-verification" content="flB16pdAO9">
<meta name="msvalidate.01" content="43B15631A6176E01B4CC074375AD7AF1">
<meta name="p:domain_verify" content="4ad0f1e10883fcfd6c18da6c6b84e8a0">
<meta name="format-detection" content="telephone=no">
<title>[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派</title>
<meta name="description" content="[图片] 这一部分与前面的两部分不太一样，他通过实际操作来完成一个完整的案例。并且引入一些常见的设计模式，开篇介绍了薪水支付系统的初步规格说明，相当于需求分析。 对于钟点工，按照他们雇员记录中每小时报酬字段的值对他们进行支付。每天提交工作时间卡，其中记录了日期以及工作小时数。如果一天超过八小时，超过的部分会按照正常报酬">
<meta property="og:description" content="[图片] 这一部分与前面的两部分不太一样，他通过实际操作来完成一个完整的案例。并且引入一些常见的设计模式，开篇介绍了薪水支付系统的初步规格说明，相当于需求分析。 对于钟点工，按照他们雇员记录中每小时报酬字段的值对他们进行支付。每天提交工作时间卡，其中记录了日期以及工作小时数。如果一天超过八小时，超过的部分会按照正常报酬">
<link rel="dns-prefetch" href="https://static.hacpai.com/">
<link rel="dns-prefetch" href="https://img.hacpai.com/">
<link rel="dns-prefetch" href="https://cdn.jsdelivr.net/">
<link rel="preconnect" href="https://static.hacpai.com/">
<link rel="icon" type="image/png" href="https://static.hacpai.com/images/favicon.png">
<link rel="apple-touch-icon" href="https://hacpai.com/images/apple-touch-icon.png">
<link rel="shortcut icon" type="image/x-icon" href="https://static.hacpai.com/images/favicon.png">
            <meta name="robots" content="all">
<meta name="copyright" content="B3log">
<meta http-equiv="Window-target" content="_top">
<meta property="og:locale" content="zh-cmn-Hans">
<meta property="og:title" content="[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派">
<meta property="og:site_name" content="黑客派">
<meta property="og:url" content="https://hacpai.com/article/1554268298675?">
<meta property="og:image" content="https://img.hacpai.com/avatar/1537288023455_1537340696166.jpeg?imageView2/1/w/256/h/256/interlace/0/q/100">
<link rel="search" type="application/opensearchdescription+xml" title="HacPai" href="https://hacpai.com/opensearch.xml">
<script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/osd.js.下载"></script><script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/f.txt" id="google_shimpl"></script><script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/hm.js.下载"></script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?f241a238dc8343347478081db6c7cf5c";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><!-- Global site tag (gtag.js) - Google Analytics --><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-144249821-1"></script><script>window.dataLayer = window.dataLayer || [];function gtag(){dataLayer.push(arguments);}gtag('js', new Date());gtag('config', 'UA-144249821-1', { 'optimize_id': 'GTM-T6C3897'});</script>
    <link rel="canonical" href="https://hacpai.com/article/1554268298675">
        <link rel="prev" title="Solo 登录验证 GitHub OAuth" href="https://hacpai.com/article/1554262218912">
        <link rel="next" title="SSO 单点登录" href="https://hacpai.com/article/1554269572571">
    <meta property="og:type" content="article">
    <meta property="article:published_time" content="2019-04-03 13:11:38">
    <meta property="article:modified_time" content="2019-04-03 13:11:38">
    <meta property="og:release_date" content="2019-04-03 13:11:38">
    <meta property="og:author" content="lizhongyue248">
    <meta property="og:bbs:replay" content="0">
        <meta property="article:tag" content="阅读">
<link href="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/style.common.8d39c156239f7b54f762.css" rel="stylesheet"><link href="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/style.index.bb3b20975e8b4d214543.css" rel="stylesheet"><script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/vendors.6fbe79a6bbd84d403d6a.js.下载" defer=""></script><script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/style.common.92da32aee16fe0d8dd9b.js.下载" defer=""></script><script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/style.index.629130dd0fecbc991126.js.下载" defer=""></script><script src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/article.ee0069504e826403b6c9.js.下载" defer=""></script><link rel="preload" href="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/f(1).txt" as="script"><script type="text/javascript" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/f(1).txt"></script><link rel="preload" href="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/f.txt" as="script"><link id="vditorHljsStyle" rel="stylesheet" type="text/css" href="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/github.css"></head>
<body class="article fn__flex-column"><svg style="position: absolute; width: 0; height: 0; overflow: hidden;" version="1.1" xmlns="http://www.w3.org/2000/svg"><defs>
  <symbol id="iconAlipay" viewBox="0 0 32 32">
    <path d="M32 21.906v-15.753c0-3.396-2.757-6.152-6.155-6.152h-19.692c-3.396 0-6.152 2.756-6.152 6.152v19.694c0 3.396 2.754 6.152 6.152 6.152h19.694c3.027 0 5.545-2.189 6.058-5.066-1.632-0.707-8.703-3.76-12.388-5.519-2.804 3.397-5.74 5.434-10.166 5.434s-7.38-2.726-7.025-6.062c0.234-2.19 1.736-5.771 8.26-5.157 3.438 0.323 5.012 0.965 7.815 1.89 0.726-1.329 1.329-2.794 1.785-4.35h-12.433v-1.233h6.151v-2.212h-7.503v-1.357h7.504v-3.195c0 0 0.068-0.499 0.62-0.499h3.077v3.692h7.999v1.357h-7.999v2.212h6.526c-0.6 2.442-1.51 4.686-2.651 6.645 1.895 0.686 10.523 3.324 10.523 3.324v0 0 0zM8.859 24.736c-4.677 0-5.417-2.953-5.168-4.187 0.246-1.227 1.6-2.831 4.201-2.831 2.987 0 5.664 0.767 8.876 2.328-2.256 2.94-5.029 4.69-7.908 4.69v0 0z"></path>
  </symbol>
  <symbol id="iconPoints" viewBox="0 0 32 32">
    <path d="M13.027 18.403c0 1.902 1.482 2.643 3.164 2.643 1.101 0 2.783-0.32 2.783-1.782 0-1.542-2.142-1.802-4.245-2.363-2.122-0.561-4.265-1.382-4.265-4.065 0-2.923 2.763-4.325 5.346-4.325 2.983 0 5.726 1.301 5.726 4.605h-3.043c-0.1-1.722-1.322-2.162-2.823-2.162-1.001 0-2.162 0.42-2.162 1.622 0 1.101 0.681 1.241 4.265 2.162 1.041 0.26 4.245 0.921 4.245 4.165 0 2.623-2.062 4.585-5.947 4.585-3.164 0-6.127-1.562-6.087-5.086h3.043zM17.052 9.705c0 0.242-0.197 0.439-0.439 0.439h-1.097c-0.242 0-0.439-0.197-0.439-0.439v-2.268c0-0.242 0.197-0.439 0.439-0.439h1.097c0.242 0 0.439 0.197 0.439 0.439v2.268zM17.052 24.519c0 0.242-0.197 0.439-0.439 0.439h-1.097c-0.242 0-0.439-0.197-0.439-0.439v-2.268c0-0.242 0.197-0.439 0.439-0.439h1.097c0.242 0 0.439 0.197 0.439 0.439v2.268zM16 0.017c-8.827 0-15.983 7.156-15.983 15.983s7.156 15.983 15.983 15.983 15.983-7.156 15.983-15.983c0-8.827-7.156-15.983-15.983-15.983zM15.982 29.040c-7.181 0-13.003-5.822-13.003-13.003s5.822-13.003 13.003-13.003c7.181 0 13.003 5.822 13.003 13.003s-5.822 13.003-13.003 13.003z"></path>
  </symbol>
  <symbol id="icon-local" viewBox="0 0 32 32">
    <path d="M16 0c-6.62 0-12 5-12 11 0 9.040 12 21 12 21s12-11.96 12-21c0-6-5.38-11-12-11zM16 29.1c-3.72-4.060-10-12.22-10-18.1 0-4.96 4.5-9 10-9 2.68 0 5.22 0.96 7.12 2.72 1.84 1.72 2.88 3.94 2.88 6.28 0 5.88-6.28 14.040-10 18.1zM20 11c0 2.22-1.78 4-4 4s-4-1.78-4-4 1.78-4 4-4 4 1.78 4 4z"></path>
  </symbol>
  <symbol id="icon-check" viewBox="0 0 32 32">
    <path d="M27.094 19.485v6.12c0 3.059-2.483 5.542-5.542 5.542h-16.010c-3.059 0-5.542-2.483-5.542-5.542v-16.010c0-3.059 2.483-5.542 5.542-5.542h16.010c0.769 0 1.54 0.154 2.251 0.481 0.174 0.077 0.308 0.25 0.346 0.443 0.039 0.211-0.019 0.404-0.174 0.558l-0.943 0.943c-0.115 0.115-0.289 0.193-0.443 0.193-0.058 0-0.115-0.019-0.174-0.039-0.289-0.077-0.578-0.115-0.866-0.115h-16.010c-1.693 0-3.079 1.386-3.079 3.079v16.010c0 1.693 1.386 3.079 3.079 3.079h16.010c1.693 0 3.079-1.386 3.079-3.079v-4.888c0-0.154 0.058-0.308 0.174-0.424l1.232-1.232c0.135-0.135 0.289-0.193 0.443-0.193 0.077 0 0.154 0.019 0.231 0.058 0.231 0.096 0.385 0.308 0.385 0.558zM31.54 10.076l-15.664 15.664c-0.615 0.615-1.578 0.615-2.194 0l-8.275-8.275c-0.615-0.615-0.615-1.578 0-2.194l2.116-2.116c0.615-0.615 1.578-0.615 2.194 0l5.060 5.060 12.451-12.451c0.615-0.615 1.578-0.615 2.194 0l2.116 2.116c0.615 0.615 0.615 1.578 0 2.194z"></path>
  </symbol>
  <symbol id="icon-check-last" viewBox="0 0 30 32">
    <path d="M23.268 17.214l-9.143 9.143c-0.232 0.214-0.589 0.214-0.821 0l-5.143-5.143c-0.214-0.232-0.214-0.589 0-0.804l0.821-0.821c0.214-0.214 0.571-0.214 0.804 0l3.929 3.929 7.929-7.929c0.232-0.214 0.589-0.214 0.804 0l0.821 0.821c0.214 0.214 0.214 0.571 0 0.804zM2.286 29.714h25.143v-18.286h-25.143v18.286zM9.143 8v-5.143c0-0.321-0.25-0.571-0.571-0.571h-1.143c-0.321 0-0.571 0.25-0.571 0.571v5.143c0 0.321 0.25 0.571 0.571 0.571h1.143c0.321 0 0.571-0.25 0.571-0.571zM22.857 8v-5.143c0-0.321-0.25-0.571-0.571-0.571h-1.143c-0.321 0-0.571 0.25-0.571 0.571v5.143c0 0.321 0.25 0.571 0.571 0.571h1.143c0.321 0 0.571-0.25 0.571-0.571zM29.714 6.857v22.857c0 1.25-1.036 2.286-2.286 2.286h-25.143c-1.25 0-2.286-1.036-2.286-2.286v-22.857c0-1.25 1.036-2.286 2.286-2.286h2.286v-1.714c0-1.571 1.286-2.857 2.857-2.857h1.143c1.571 0 2.857 1.286 2.857 2.857v1.714h6.857v-1.714c0-1.571 1.286-2.857 2.857-2.857h1.143c1.571 0 2.857 1.286 2.857 2.857v1.714h2.286c1.25 0 2.286 1.036 2.286 2.286z"></path>
  </symbol>
  <symbol id="icon-podcast" viewBox="0 0 27 32">
    <path d="M17.75 21.286c0 1.179-0.125 2.357-0.304 3.518-0.268 1.857-0.536 3.768-0.982 5.589-0.321 1.304-1.536 1.607-2.714 1.607s-2.393-0.304-2.714-1.607c-0.446-1.821-0.714-3.732-0.982-5.589-0.179-1.161-0.304-2.339-0.304-3.518 0-2.411 1.946-3 4-3s4 0.589 4 3zM27.429 13.714c0 5.786-3.571 10.732-8.643 12.75-0.196 0.071-0.411-0.107-0.375-0.321 0.054-0.375 0.107-0.768 0.179-1.179 0.036-0.286 0.071-0.571 0.107-0.839 0.018-0.107 0.071-0.179 0.161-0.214 3.714-1.893 6.286-5.75 6.286-10.196 0-6.518-5.464-11.768-12.054-11.411-6.036 0.321-10.839 5.464-10.804 11.5 0.036 4.446 2.625 8.286 6.357 10.143 0.089 0.036 0.143 0.125 0.161 0.214 0.036 0.25 0.071 0.518 0.107 0.804 0.071 0.429 0.125 0.821 0.196 1.214 0.036 0.214-0.196 0.393-0.393 0.304-5.304-2.071-9-7.357-8.696-13.446 0.339-6.911 5.911-12.571 12.821-13 7.964-0.5 14.589 5.821 14.589 13.679zM17.75 13.143c0 2.214-1.786 4-4 4s-4-1.786-4-4 1.786-4 4-4 4 1.786 4 4zM22.893 13.714c0 2.946-1.411 5.589-3.571 7.25-0.179 0.143-0.429 0.018-0.464-0.214-0.054-0.5-0.196-1.089-0.518-1.643-0.071-0.107-0.054-0.25 0.054-0.357 1.357-1.25 2.214-3.036 2.214-5.036 0-4.036-3.518-7.268-7.643-6.821-3.161 0.357-5.732 2.964-6.036 6.143-0.232 2.25 0.661 4.321 2.179 5.714 0.107 0.107 0.125 0.25 0.054 0.357-0.321 0.554-0.464 1.143-0.518 1.661-0.036 0.214-0.286 0.339-0.464 0.196-2.214-1.714-3.625-4.411-3.571-7.446 0.107-4.75 3.964-8.714 8.696-8.929 5.25-0.25 9.589 3.929 9.589 9.125z"></path>
  </symbol>
  <symbol id="iconZhihu" viewBox="0 0 32 32">
    <path d="M32 26.67c0 2.931-2.382 5.33-5.33 5.33h-21.339c-2.948 0-5.33-2.382-5.33-5.33v-21.339c0-2.948 2.382-5.33 5.33-5.33h21.339c2.948 0 5.33 2.382 5.33 5.33v21.339zM12.358 17.191h4.713c0-1.114-0.531-1.748-0.531-1.748h-4.079c0.103-2.005 0.189-4.576 0.223-5.536h3.874s-0.017-1.645-0.463-1.645h-6.822s0.411-2.142 0.96-3.085c0 0-2.040-0.12-2.742 2.605-0.686 2.725-1.731 4.354-1.851 4.662s0.6 0.137 0.891 0c0.309-0.137 1.663-0.617 2.057-2.537h2.108c0.034 1.2 0.12 4.885 0.086 5.536h-4.336c-0.6 0.446-0.823 1.748-0.823 1.748h4.971c-0.206 1.371-0.566 3.137-1.080 4.062-0.806 1.491-1.234 2.828-4.131 5.176 0 0-0.48 0.36 0.994 0.223 1.474-0.12 2.845-0.514 3.839-2.434 0.514-0.994 1.011-2.28 1.423-3.565l4.079 4.713s0.548-1.268 0.137-2.657l-3.034-3.394-1.028 0.754c0.291-0.994 0.497-1.988 0.548-2.845 0.017 0.017 0.017 0 0.017-0.034zM18.048 7.936v16.3h1.714l0.703 1.954 2.965-1.954h3.754v-16.3h-9.136zM25.401 22.487h-1.937l-2.434 1.611-0.566-1.611h-0.6v-12.735h5.553v12.735h-0.017z"></path>
  </symbol>
  <symbol id="iconV2ex" viewBox="0 0 32 32">
    <path d="M18.55 2.354h-17.391c-0.64 0-1.159 0.514-1.159 1.148v7.94h16.309c0.339 0 0.663 0.138 0.896 0.382l3.785 3.962c0.084 0.088 0.085 0.226 0.001 0.315l-3.785 4c-0.233 0.246-0.489 0.449-0.831 0.449h-16.375v7.95c0 0.634 0.519 1.148 1.159 1.148h17.388c0.383 0 0.75-0.151 1.021-0.419l11.748-11.641c0.915-0.907 0.912-2.378-0.007-3.281l-11.741-11.537c-0.271-0.266-0.636-0.415-1.017-0.415z"></path>
  </symbol>
  <symbol id="iconFacebook" viewBox="0 0 28 28">
    <path d="M22.75 0c2.898 0 5.25 2.352 5.25 5.25v17.5c0 2.898-2.352 5.25-5.25 5.25h-3.427v-10.846h3.628l0.547-4.229h-4.174v-2.698c0-1.221 0.328-2.042 2.096-2.042l2.224-0.018v-3.773c-0.383-0.055-1.714-0.164-3.245-0.164-3.227 0-5.451 1.969-5.451 5.578v3.117h-3.646v4.229h3.646v10.846h-9.698c-2.898 0-5.25-2.352-5.25-5.25v-17.5c0-2.898 2.352-5.25 5.25-5.25h17.5z"></path>
  </symbol>
  <symbol id="iconLinkedin" viewBox="0 0 28 28">
    <path d="M4.32 23.443h4.211v-12.651h-4.211v12.651zM8.805 6.891c-0.018-1.24-0.911-2.188-2.352-2.188s-2.388 0.948-2.388 2.188c0 1.203 0.911 2.187 2.333 2.187h0.018c1.477 0 2.388-0.984 2.388-2.187zM19.469 23.443h4.211v-7.255c0-3.883-2.078-5.688-4.849-5.688-2.26 0-3.263 1.258-3.81 2.133h0.036v-1.841h-4.211s0.055 1.185 0 12.651v0h4.211v-7.073c0-0.365 0.018-0.747 0.128-1.021 0.31-0.747 1.003-1.531 2.169-1.531 1.513 0 2.115 1.148 2.115 2.862v6.763zM28 5.25v17.5c0 2.898-2.352 5.25-5.25 5.25h-17.5c-2.898 0-5.25-2.352-5.25-5.25v-17.5c0-2.898 2.352-5.25 5.25-5.25h17.5c2.898 0 5.25 2.352 5.25 5.25z"></path>
  </symbol>
  <symbol id="iconStackOverflow" viewBox="0 0 28 28">
    <path d="M22.141 25.5h-17.469v-7.5h-2.5v10h22.469v-10h-2.5v7.5zM7.422 17.313l0.516-2.453 12.234 2.578-0.516 2.438zM9.031 11.469l1.047-2.281 11.328 5.297-1.047 2.266zM12.172 5.906l1.594-1.922 9.594 8.016-1.594 1.922zM18.375 0l7.453 10.016-2 1.5-7.453-10.016zM7.156 22.984v-2.484h12.5v2.484h-12.5z"></path>
  </symbol>
  <symbol id="iconInstagram" viewBox="0 0 28 28">
    <path d="M18.666 14c0-2.57-2.096-4.666-4.666-4.666s-4.666 2.096-4.666 4.666 2.096 4.666 4.666 4.666 4.666-2.096 4.666-4.666zM21.182 14c0 3.974-3.208 7.182-7.182 7.182s-7.182-3.208-7.182-7.182 3.208-7.182 7.182-7.182 7.182 3.208 7.182 7.182zM23.15 6.527c0 0.93-0.747 1.677-1.677 1.677s-1.677-0.747-1.677-1.677 0.747-1.677 1.677-1.677 1.677 0.747 1.677 1.677zM14 2.517c-2.042 0-6.416-0.164-8.257 0.565-0.638 0.255-1.112 0.565-1.604 1.057s-0.802 0.966-1.057 1.604c-0.729 1.841-0.565 6.216-0.565 8.257s-0.164 6.416 0.565 8.257c0.255 0.638 0.565 1.112 1.057 1.604s0.966 0.802 1.604 1.057c1.841 0.729 6.216 0.565 8.257 0.565s6.416 0.164 8.257-0.565c0.638-0.255 1.112-0.565 1.604-1.057s0.802-0.966 1.057-1.604c0.729-1.841 0.565-6.216 0.565-8.257s0.164-6.416-0.565-8.257c-0.255-0.638-0.565-1.112-1.057-1.604s-0.966-0.802-1.604-1.057c-1.841-0.729-6.216-0.565-8.257-0.565zM27.999 14c0 1.932 0.018 3.846-0.091 5.778-0.109 2.242-0.62 4.229-2.26 5.869s-3.627 2.151-5.869 2.26c-1.932 0.109-3.846 0.091-5.778 0.091s-3.846 0.018-5.778-0.091c-2.242-0.109-4.229-0.62-5.869-2.26s-2.151-3.627-2.26-5.869c-0.109-1.932-0.091-3.846-0.091-5.778s-0.018-3.846 0.091-5.778c0.109-2.242 0.62-4.229 2.26-5.869s3.627-2.151 5.869-2.26c1.932-0.109 3.846-0.091 5.778-0.091s3.846-0.018 5.778 0.091c2.242 0.109 4.229 0.62 5.869 2.26s2.151 3.627 2.26 5.869c0.109 1.932 0.091 3.846 0.091 5.778z"></path>
  </symbol>
  <symbol id="iconDribbble" viewBox="0 0 28 28">
    <path d="M18.667 25.010c-0.182-1.057-0.875-4.703-2.552-9.078-0.018 0-0.055 0.018-0.073 0.018 0 0-7.091 2.479-9.388 7.474-0.109-0.091-0.273-0.201-0.273-0.201 2.078 1.695 4.721 2.734 7.62 2.734 1.659 0 3.227-0.346 4.667-0.948zM15.294 13.945c-0.292-0.674-0.62-1.349-0.966-2.023-6.161 1.841-12.068 1.695-12.268 1.695-0.018 0.128-0.018 0.255-0.018 0.383 0 3.063 1.167 5.87 3.063 7.984v0c3.263-5.815 9.716-7.893 9.716-7.893 0.164-0.055 0.328-0.091 0.474-0.146zM13.344 10.081c-2.078-3.682-4.284-6.672-4.448-6.891-3.336 1.568-5.815 4.648-6.599 8.349 0.31 0 5.305 0.055 11.047-1.458zM25.813 15.896c-0.255-0.073-3.591-1.13-7.456-0.529 1.568 4.32 2.206 7.839 2.333 8.549 2.68-1.805 4.576-4.685 5.122-8.021zM11.138 2.388c-0.018 0-0.018 0-0.036 0.018 0 0 0.018-0.018 0.036-0.018zM21.893 5.031c-2.096-1.859-4.867-2.99-7.893-2.99-0.966 0-1.914 0.128-2.826 0.346 0.182 0.237 2.443 3.208 4.484 6.964 4.503-1.677 6.198-4.266 6.234-4.32zM25.958 13.872c-0.036-2.826-1.039-5.432-2.716-7.474-0.036 0.036-1.951 2.807-6.672 4.74 0.273 0.565 0.547 1.148 0.802 1.732 0.091 0.201 0.164 0.419 0.255 0.62 4.12-0.529 8.185 0.365 8.331 0.383zM28 14c0 7.729-6.271 14-14 14s-14-6.271-14-14 6.271-14 14-14 14 6.271 14 14z"></path>
  </symbol>
  <symbol id="iconBehance" viewBox="0 0 28 28">
    <path d="M25.266 6.385h-6.986v1.695h6.986v-1.695zM21.82 12.209c-1.641 0-2.734 1.025-2.844 2.666h5.578c-0.15-1.654-1.012-2.666-2.734-2.666zM22.039 20.207c1.039 0 2.379-0.561 2.707-1.627h3.021c-0.93 2.857-2.857 4.197-5.838 4.197-3.938 0-6.385-2.666-6.385-6.549 0-3.746 2.584-6.604 6.385-6.604 3.91 0 6.070 3.076 6.070 6.768 0 0.219-0.014 0.438-0.027 0.643h-8.996c0 1.996 1.053 3.172 3.063 3.172zM3.787 19.523h4.047c1.545 0 2.803-0.547 2.803-2.283 0-1.764-1.053-2.461-2.721-2.461h-4.129v4.744zM3.787 12.182h3.842c1.354 0 2.311-0.588 2.311-2.051 0-1.586-1.23-1.969-2.598-1.969h-3.555v4.020zM0 5.223h8.121c2.953 0 5.51 0.834 5.51 4.266 0 1.736-0.807 2.857-2.352 3.596 2.119 0.602 3.145 2.201 3.145 4.361 0 3.5-2.939 5.004-6.070 5.004h-8.354v-17.227z"></path>
  </symbol>
  <symbol id="iconMedium" viewBox="0 0 28 28">
    <path d="M9.328 6.578v18.328c0 0.484-0.234 0.938-0.766 0.938-0.187 0-0.359-0.047-0.516-0.125l-7.266-3.641c-0.438-0.219-0.781-0.781-0.781-1.25v-17.813c0-0.391 0.187-0.75 0.609-0.75 0.25 0 0.469 0.125 0.688 0.234l7.984 4c0.016 0.016 0.047 0.063 0.047 0.078zM10.328 8.156l8.344 13.531-8.344-4.156v-9.375zM28 8.437v16.469c0 0.516-0.297 0.875-0.812 0.875-0.266 0-0.516-0.078-0.734-0.203l-6.891-3.437zM27.953 6.563c0 0.063-8.078 13.172-8.703 14.172l-6.094-9.906 5.063-8.234c0.172-0.281 0.484-0.438 0.812-0.438 0.141 0 0.281 0.031 0.406 0.094l8.453 4.219c0.031 0.016 0.063 0.047 0.063 0.094z"></path>
  </symbol>
  <symbol id="iconChat" viewBox="0 0 24 24">
    <path d="M20.016 2.016c1.078 0 1.969 0.891 1.969 1.969v12c0 1.078-0.891 2.016-1.969 2.016h-14.016l-3.984 3.984v-18c0-1.078 0.891-1.969 1.969-1.969h16.031z"></path>
  </symbol>
  <symbol id="iconUnvision" viewBox="0 0 28 28">
    <path d="M5.234 20.187c-0.031 0-0.063-0.016-0.094-0.031-1.828-1.219-3.656-3.219-4.813-5.078-0.219-0.313-0.328-0.688-0.328-1.078 0-0.812 0.562-1.469 1.016-2.078 1.813-2.469 4.234-4.5 7.063-5.703-0.234-0.422-1.719-3.016-1.719-3.297 0-0.187 0.109-0.359 0.266-0.453 0.313-0.172 1.719-1 2-1 0.172 0 0.344 0.094 0.438 0.25l1.937 3.578c0.984-0.203 2-0.297 3-0.297 5.656 0 10.687 3.203 13.687 7.922 0.203 0.313 0.313 0.688 0.313 1.078s-0.109 0.766-0.313 1.078c-1.859 2.922-4.578 5.344-7.766 6.703 0.234 0.422 1.719 3.016 1.719 3.297 0 0.187-0.094 0.359-0.266 0.453-0.313 0.172-1.719 1-1.984 1-0.187 0-0.359-0.094-0.453-0.25l-1.937-3.578-1-1.859-6.937-12.812 0.109-0.109c-0.531 0.219-1.047 0.453-1.547 0.734 0.187 0.359 7.641 14.047 7.641 14.156 0 0.078-0.063 0.125-0.141 0.141-0.344 0.078-0.781 0.047-1.125 0.047-0.172 0-0.875 0.031-0.938-0.109l-7.125-13.141c-0.453 0.328-0.875 0.688-1.281 1.062 0.344 0.609 6.312 11.594 6.312 11.688 0 0.125-0.078 0.156-0.172 0.156-0.266 0-2.344-0.641-2.422-0.781l-1.656-3.078-3.5-6.453c-0.438 0.531-0.844 1.078-1.219 1.656 0.203 0.297 0.469 0.609 0.641 0.922 0.219 0.406 2.75 5.016 2.75 5.109 0 0.078-0.078 0.156-0.156 0.156zM18.203 18.594l0.766 1.422c2.922-1.188 5.328-3.375 7.031-6.016-1.734-2.672-4.203-4.891-7.172-6.078 1.391 1.328 2.172 3.156 2.172 5.078 0 2.203-1.031 4.281-2.797 5.594zM13.25 9c0 0.406 0.344 0.75 0.75 0.75 0.859 0 1.687 0.344 2.297 0.953s0.953 1.437 0.953 2.297c0 0.406 0.344 0.75 0.75 0.75s0.75-0.344 0.75-0.75c0-2.625-2.125-4.75-4.75-4.75-0.406 0-0.75 0.344-0.75 0.75zM18.969 7.984l-0.141-0.063 0.109 0.109z"></path>
  </symbol>
  <symbol id="iconLogo" viewBox="0 0 32 32">
    <path fill="#d23f31" style="fill: var(--color1, #d23f31)" d="M5.787 17.226h17.033l5.954 9.528c0.47 0.752 0.003 1.361-1.042 1.361h-15.141z"></path>
    <path d="M10.74 3.927h17.033c1.045 0 1.512 0.609 1.042 1.361l-5.954 9.528h-19.872l6.379-10.209c0.235-0.376 0.849-0.681 1.372-0.681z"></path>
    <path d="M2.953 17.226h2.839l6.804 10.889h-1.892c-0.523 0-1.137-0.305-1.372-0.681z"></path>
  </symbol>
  <symbol id="iconQQ" viewBox="0 0 32 32">
    <path d="M4.821 14.393c-0.125-0.304-0.143-0.607-0.143-0.929 0-0.5 0.321-1.304 0.625-1.679-0.018-0.464 0.179-1.411 0.536-1.714 0-3.304 2.554-7.464 5.536-8.893 1.839-0.875 3.768-1.179 5.786-1.179 1.571 0 3.286 0.375 4.75 0.982 4.196 1.768 5.143 5.054 6.036 9.25l0.018 0.089c0.518 0.786 0.982 1.714 0.982 2.679 0 0.482-0.321 0.964-0.321 1.393 0 0.036 0.107 0.179 0.125 0.214 1.536 2.268 2.929 4.732 2.929 7.554 0 0.625-0.339 2.804-1.339 2.804-0.696 0-1.464-1.696-1.714-2.161-0.018-0.018-0.036-0.018-0.054-0.018l-0.089 0.071c-0.571 1.482-1.196 2.875-2.357 3.982 1.018 0.982 2.661 0.893 2.964 2.589-0.089 0.196-0.054 0.411-0.196 0.607-1.018 1.536-3.75 1.732-5.393 1.732-2.179 0-3.946-0.571-6-1.179-0.429-0.125-1.071-0.054-1.536-0.107-1.089 1.196-3.75 1.518-5.286 1.518-1.357 0-6.607-0.089-6.607-2.411 0-1 0.214-1.286 0.911-1.929 0.554-0.107 0.964-0.411 1.607-0.446 0.089 0 0.161-0.018 0.25-0.036 0.018-0.018 0.036-0.018 0.036-0.071l-0.036-0.054c-1.232-0.286-2.964-3.393-3.232-4.679l-0.089-0.054c-0.125 0-0.179 0.268-0.214 0.357-0.393 0.911-1.321 1.893-2.357 2h-0.018c-0.143 0-0.089-0.143-0.196-0.179-0.25-0.589-0.411-1.125-0.411-1.786 0-3.571 1.714-6.214 4.5-8.321z"></path>
  </symbol>
  <symbol id="iconGithub" viewBox="0 0 32 32">
    <path d="M16 0.331c-8.836 0-16 7.163-16 16 0 7.069 4.585 13.067 10.942 15.182 0.8 0.148 1.094-0.347 1.094-0.77 0-0.381-0.015-1.642-0.022-2.979-4.452 0.968-5.391-1.888-5.391-1.888-0.728-1.849-1.776-2.341-1.776-2.341-1.452-0.993 0.11-0.973 0.11-0.973 1.606 0.113 2.452 1.649 2.452 1.649 1.427 2.446 3.743 1.739 4.656 1.33 0.143-1.034 0.558-1.74 1.016-2.14-3.554-0.404-7.29-1.777-7.29-7.907 0-1.747 0.625-3.174 1.649-4.295-0.166-0.403-0.714-2.030 0.155-4.234 0 0 1.344-0.43 4.401 1.64 1.276-0.355 2.645-0.532 4.005-0.539 1.359 0.006 2.729 0.184 4.008 0.539 3.054-2.070 4.395-1.64 4.395-1.64 0.871 2.204 0.323 3.831 0.157 4.234 1.026 1.12 1.647 2.548 1.647 4.295 0 6.145-3.743 7.498-7.306 7.895 0.574 0.497 1.085 1.47 1.085 2.963 0 2.141-0.019 3.864-0.019 4.391 0 0.426 0.288 0.925 1.099 0.768 6.354-2.118 10.933-8.113 10.933-15.18 0-8.837-7.164-16-16-16z"></path>
  </symbol>
  <symbol id="iconWeibo" viewBox="0 0 32 32">
    <path d="M13.444 27.064c-5.3 0.525-9.875-1.875-10.219-5.35-0.344-3.481 3.675-6.719 8.969-7.244 5.3-0.525 9.875 1.875 10.212 5.35 0.35 3.481-3.669 6.725-8.963 7.244zM24.038 15.521c-0.45-0.137-0.762-0.225-0.525-0.819 0.512-1.287 0.563-2.394 0.006-3.188-1.038-1.481-3.881-1.406-7.137-0.037 0 0-1.025 0.444-0.762-0.363 0.5-1.613 0.425-2.956-0.356-3.737-1.769-1.769-6.469 0.069-10.5 4.1-3.013 3.006-4.763 6.212-4.763 8.981 0 5.287 6.787 8.506 13.425 8.506 8.7 0 14.494-5.056 14.494-9.069 0-2.431-2.044-3.806-3.881-4.375z"></path>
    <path d="M29.819 5.833c-2.1-2.331-5.2-3.219-8.063-2.612v0c-0.663 0.144-1.081 0.794-0.938 1.45 0.144 0.662 0.788 1.081 1.45 0.938 2.038-0.431 4.238 0.2 5.731 1.856s1.9 3.913 1.256 5.888v0c-0.206 0.644 0.144 1.331 0.788 1.544 0.644 0.206 1.331-0.144 1.544-0.787v-0.006c0.9-2.762 0.331-5.938-1.769-8.269z"></path>
    <path d="M26.588 8.752c-1.025-1.138-2.538-1.569-3.925-1.269-0.569 0.119-0.931 0.688-0.813 1.256 0.125 0.569 0.688 0.931 1.25 0.806v0c0.681-0.144 1.419 0.069 1.919 0.619 0.5 0.556 0.637 1.313 0.419 1.975v0c-0.175 0.55 0.125 1.15 0.681 1.331 0.556 0.175 1.15-0.125 1.331-0.681 0.438-1.356 0.163-2.906-0.863-4.037z"></path>
    <path d="M13.738 20.771c-0.188 0.319-0.594 0.469-0.912 0.337-0.319-0.125-0.412-0.488-0.231-0.794 0.188-0.306 0.581-0.456 0.894-0.337 0.313 0.113 0.425 0.469 0.25 0.794zM12.044 22.933c-0.512 0.819-1.613 1.175-2.438 0.8-0.813-0.369-1.056-1.319-0.544-2.119 0.506-0.794 1.569-1.15 2.388-0.806 0.831 0.356 1.1 1.3 0.594 2.125zM13.969 17.146c-2.519-0.656-5.369 0.6-6.463 2.819-1.119 2.262-0.037 4.781 2.506 5.606 2.638 0.85 5.75-0.456 6.831-2.894 1.069-2.394-0.262-4.85-2.875-5.531z"></path>
  </symbol>
  <symbol id="iconTelegram" viewBox="0 0 32 32">
    <path d="M12.036 27.787c-0.952 0-0.791-0.361-1.119-1.266l-2.805-9.23 21.577-12.802z"></path><path d="M12.036 27.787c0.736 0 1.060-0.336 1.474-0.738l3.923-3.811-4.896-2.953z"></path><path d="M12.536 20.285l11.857 8.76c1.354 0.747 2.331 0.361 2.668-1.256l4.828-22.745c0.496-1.983-0.752-2.88-2.046-2.294l-28.348 10.933c-1.934 0.776-1.925 1.857-0.352 2.338l7.276 2.267 16.838-10.621c0.794-0.48 1.525-0.223 0.926 0.309z"></path>
  </symbol>
  <symbol id="iconPerfect" viewBox="0 0 28 32">
    <path d="M22.93 19.257c-0.052 0.155-0.090 0.306-0.099 0.442-0.081 1.367-1.258 2.524-2.626 2.579-0.571 0.022-1.473 0.533-1.788 1.012-0.171 0.259-0.389 0.482-0.639 0.666l5.296 5.296v-4.926h4.926l-5.070-5.070zM9.961 23.924c-0.276-0.197-0.526-0.427-0.708-0.714-0.318-0.502-1.177-1.008-1.769-1.042-1.367-0.081-2.524-1.259-2.581-2.626-0.005-0.104-0.039-0.224-0.070-0.341l-4.833 4.833h4.926v4.926l5.036-5.035zM24.046 11.892c0.419-0.798 0.145-1.851-0.606-2.346-0.753-0.496-1.395-1.632-1.433-2.533s-0.8-1.676-1.7-1.729c-0.884-0.052-2.031-0.728-2.506-1.476-0.456-0.718-1.568-1.033-2.337-0.648-0.756 0.38-2.16 0.367-2.909-0.025-0.739-0.387-1.892-0.083-2.346 0.607-0.481 0.728-1.664 1.398-2.533 1.433-0.884 0.036-1.677 0.815-1.728 1.699-0.053 0.883-0.728 2.031-1.476 2.506-0.761 0.483-1.053 1.531-0.648 2.337 0.403 0.806 0.393 2.11-0.025 2.909-0.419 0.798-0.145 1.851 0.606 2.346 0.753 0.496 1.395 1.631 1.433 2.531s0.8 1.677 1.7 1.731c0.884 0.052 2.031 0.728 2.506 1.476 0.456 0.718 1.57 1.033 2.336 0.648 0.368-0.185 0.871-0.287 1.418-0.287 0.577 0 1.106 0.11 1.491 0.312 0.382 0.199 0.848 0.246 1.287 0.134 0.446-0.115 0.822-0.379 1.061-0.741 0.48-0.729 1.664-1.399 2.533-1.433 0.884-0.035 1.675-0.814 1.728-1.699 0.052-0.884 0.728-2.032 1.476-2.506 0.761-0.483 1.052-1.531 0.648-2.337-0.406-0.806-0.394-2.11 0.023-2.909zM13.923 21.196c-4.372 0-7.93-3.557-7.93-7.93s3.557-7.93 7.93-7.93 7.93 3.557 7.93 7.93-3.557 7.93-7.93 7.93zM13.923 6.272c-3.856 0-6.993 3.138-6.993 6.993s3.138 6.993 6.993 6.993 6.993-3.138 6.993-6.993-3.138-6.993-6.993-6.993z"></path>
  </symbol>
  <symbol id="iconVideo" viewBox="0 0 32 32">
    <path d="M18.286 5.714c-1.262 0-2.286 1.023-2.286 2.286s1.023 2.286 2.286 2.286 2.286-1.023 2.286-2.286-1.023-2.286-2.286-2.286zM29.714 12.571l-4.571 4.571v-2.286c0-1.094-0.768-2.008-1.795-2.232 1.115-1.219 1.795-2.843 1.795-4.625 0-3.787-3.070-6.857-6.857-6.857-3.612 0-6.571 2.792-6.838 6.335-1.216-1.096-2.825-1.764-4.591-1.764-3.787 0-6.857 3.070-6.857 6.857s3.070 6.857 6.857 6.857h-2.286v4.571h2.286v4.571c0 1.262 1.023 2.286 2.286 2.286h13.714c1.262 0 2.286-1.023 2.286-2.286v-2.286l4.571 4.571h2.286v-18.286h-2.286zM6.857 10.286c-1.262 0-2.286 1.023-2.286 2.286s1.023 2.286 2.286 2.286v2.286c-2.525 0-4.571-2.047-4.571-4.571s2.047-4.571 4.571-4.571 4.571 2.047 4.571 4.571h-2.286c0-1.262-1.023-2.286-2.286-2.286zM18.286 24h-4.571v-4.571h4.571v4.571zM22.857 20.1c-1.197-1.198-2.51-2.511-2.62-2.622-0.207-0.207-0.492-0.335-0.808-0.335h-6.857c-0.631 0-1.143 0.512-1.143 1.143v6.857c0 0.297 0.114 0.568 0.3 0.772 0.019 0.021 1.397 1.399 2.657 2.657h-4.1c-0.631 0-1.143-0.512-1.143-1.143v-11.429c0-0.631 0.512-1.143 1.143-1.143h11.429c0.631 0 1.143 0.512 1.143 1.143v4.1zM18.286 12.571c-2.525 0-4.571-2.047-4.571-4.571s2.047-4.571 4.571-4.571 4.571 2.047 4.571 4.571c0 2.525-2.047 4.571-4.571 4.571zM29.714 24l-2.286-2.286 0.003-4.574 2.283-2.283v9.143z"></path>
  </symbol>
  <symbol id="iconLocked" viewBox="0 0 32 32">
    <path d="M3.31 32v-17.655h3.31v-5.517c0-4.875 3.951-8.828 8.828-8.828h1.103c4.875 0 8.828 3.953 8.828 8.828v5.517h3.31v17.655h-25.379zM15.166 22.937l-0.821 5.752h3.31l-0.822-5.752c0.804-0.329 1.374-1.118 1.374-2.041 0-1.218-0.989-2.207-2.207-2.207-1.219 0-2.207 0.989-2.207 2.207 0 0.924 0.568 1.713 1.373 2.041zM22.069 9.379c0-3.352-2.718-6.069-6.069-6.069-3.352 0-6.069 2.717-6.069 6.069v4.966h12.138v-4.966z"></path>
  </symbol>
  <symbol id="iconFeed" viewBox="0 0 32 32">
    <path d="M12 16c0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.209-1.791 4-4 4s-4-1.791-4-4zM20.761 7.204c3.12 1.692 5.239 4.997 5.239 8.796s-2.119 7.104-5.239 8.796c1.377-2.191 2.239-5.321 2.239-8.796s-0.862-6.605-2.239-8.796zM9 16c0 3.475 0.862 6.605 2.239 8.796-3.12-1.692-5.239-4.997-5.239-8.796s2.119-7.104 5.239-8.796c-1.377 2.191-2.239 5.321-2.239 8.796zM3 16c0 5.372 1.7 10.193 4.395 13.491-4.447-2.842-7.395-7.822-7.395-13.491s2.948-10.649 7.395-13.491c-2.695 3.298-4.395 8.119-4.395 13.491zM24.605 2.509c4.447 2.842 7.395 7.822 7.395 13.491s-2.948 10.649-7.395 13.491c2.695-3.298 4.395-8.119 4.395-13.491s-1.7-10.193-4.395-13.491z"></path>
  </symbol>
  <symbol id="iconPin" viewBox="0 0 32 32">
    <path d="M20.015 18.592l-10.584-6.111c-1.298-0.751-2.96-0.306-3.71 0.993-0.75 1.3-0.304 2.96 0.994 3.71l10.582 6.111c1.3 0.751 2.96 0.306 3.71-0.994 0.752-1.298 0.307-2.959-0.993-3.709zM11.286 11.984l8.232 4.753 2.8-7.792-5.684-3.281-5.348 6.32zM5.217 32l7.875-9.565-3.528-2.037-4.347 11.602zM25.72 4.636l-7.055-4.074c-0.975-0.562-2.22-0.229-2.782 0.746-0.564 0.975-0.228 2.22 0.746 2.782l7.056 4.074c0.975 0.562 2.22 0.229 2.782-0.746s0.228-2.22-0.747-2.782z"></path>
  </symbol>
  <symbol id="iconBell" viewBox="0 0 28 32">
    <path d="M27.98 22.995v1.999h-27.98v-1.999l1.459-1.159c1.539-1.539 1.619-5.096 2.378-8.834 1.539-7.535 8.154-9.993 8.154-9.993 0-1.099 0.899-1.999 1.999-1.999s1.999 0.899 1.999 1.999c0 0 6.775 2.458 8.314 9.993 0.759 3.757 0.839 7.315 2.378 8.834l1.319 1.159h-0.020zM13.99 30.989c2.218 0 3.997-1.779 3.997-3.997h-7.994c0 2.218 1.779 3.997 3.997 3.997z"></path>
  </symbol>
  <symbol id="iconChevronDown" viewBox="0 0 32 32">
    <path d="M32 9q0 0.812-0.594 1.406l-14 14q-0.594 0.594-1.406 0.594t-1.406-0.594l-14-14q-0.594-0.594-0.594-1.406t0.594-1.406 1.406-0.594h28q0.812 0 1.406 0.594t0.594 1.406z"></path>
  </symbol>
  <symbol id="iconChevronRight" viewBox="0 0 32 32">
    <path d="M9 0q0.812 0 1.406 0.594l14 14q0.594 0.594 0.594 1.406t-0.594 1.406l-14 14q-0.594 0.594-1.406 0.594t-1.406-0.594-0.594-1.406v-28q0-0.812 0.594-1.406t1.406-0.594z"></path>
  </symbol>
  <symbol id="iconChevronLeft" viewBox="0 0 32 32">
    <path d="M23 32q-0.812 0-1.406-0.594l-14-14q-0.594-0.594-0.594-1.406t0.594-1.406l14-14q0.594-0.594 1.406-0.594t1.406 0.594 0.594 1.406v28q0 0.812-0.594 1.406t-1.406 0.594z"></path>
  </symbol>
  <symbol id="iconChevronUp" viewBox="0 0 32 32">
    <path d="M0 23q0-0.812 0.594-1.406l14-14q0.594-0.594 1.406-0.594t1.406 0.594l14 14q0.594 0.594 0.594 1.406t-0.594 1.406-1.406 0.594h-28q-0.812 0-1.406-0.594t-0.594-1.406z"></path>
  </symbol>
  <symbol id="iconHeart" viewBox="0 0 32 32">
    <path d="M23.6 2c-3.363 0-6.258 2.736-7.599 5.594-1.342-2.858-4.237-5.594-7.601-5.594-4.637 0-8.4 3.764-8.4 8.401 0 9.433 9.516 11.906 16.001 21.232 6.13-9.268 15.999-12.1 15.999-21.232 0-4.637-3.763-8.401-8.4-8.401z"></path>
  </symbol>
  <symbol id="iconStar" viewBox="0 0 32 32">
    <path d="M32 12.408l-11.056-1.607-4.944-10.018-4.944 10.018-11.056 1.607 8 7.798-1.889 11.011 9.889-5.199 9.889 5.199-1.889-11.011 8-7.798z"></path>
  </symbol>
  <symbol id="iconIpfs" viewBox="0 0 32 32">
    <path fill="#469ea2" style="fill: var(--color1, #469ea2)" d="M2.186 23.914l13.806 7.971 13.806-7.971v-15.943l-13.806-7.971-13.806 7.971v15.943z"></path><path fill="#6acad1" style="fill: var(--color2, #6acad1)" d="M14.578 1.907l-10.026 5.785c0.016 0.18 0.016 0.362 0 0.542l10.009 5.785c0.845-0.625 1.998-0.625 2.843 0l10.009-5.785c-0.016-0.18-0.016-0.362 0-0.542l-9.993-5.785c-0.845 0.625-1.998 0.625-2.843 0v0zM28.384 9.828l-10.026 5.851c0.111 1.041-0.459 2.036-1.413 2.465l0.016 11.505c0.162 0.072 0.316 0.16 0.46 0.263l10.009-5.785c-0.111-1.041 0.459-2.036 1.413-2.465v-11.571c-0.16-0.075-0.314-0.163-0.46-0.263v0zM3.599 9.894c-0.144 0.103-0.298 0.191-0.46 0.263v11.571c0.968 0.415 1.544 1.42 1.413 2.465l10.009 5.785c0.144-0.103 0.298-0.192 0.46-0.263v-11.571c-0.968-0.415-1.544-1.42-1.413-2.465l-10.009-5.785z"></path><path fill="#469ea2" style="fill: var(--color1, #469ea2)" d="M15.992 1.726l12.343 7.133v14.25l-12.343 7.133-12.343-7.133v-14.266l12.343-7.117zM15.992 0.033l-13.806 7.971v15.943l13.806 7.971 13.806-7.971v-15.943l-13.806-7.971z"></path><path fill="#469ea2" style="fill: var(--color1, #469ea2)" d="M16.090 18.654h-0.197c-0.685 0.002-1.342-0.27-1.827-0.754s-0.756-1.142-0.754-1.827v-0.197c-0.002-0.685 0.27-1.342 0.754-1.827s1.142-0.756 1.827-0.754h0.197c0.685-0.002 1.342 0.27 1.827 0.754s0.756 1.142 0.754 1.827v0.197c0.002 0.685-0.27 1.342-0.754 1.827s-1.142 0.756-1.827 0.754v0zM16.090 29.255h-0.197c-0.934-0.003-1.795 0.5-2.252 1.315l2.35 1.348 2.35-1.348c-0.456-0.814-1.318-1.318-2.252-1.315v0zM29.814 21.284h-0.099c-0.685-0.002-1.342 0.27-1.827 0.754s-0.756 1.142-0.754 1.827v0.197c-0.002 0.438 0.111 0.869 0.329 1.249l2.35-1.364v-2.663zM27.464 6.656c-0.216 0.381-0.329 0.811-0.329 1.249v0.197c-0.002 0.685 0.27 1.342 0.754 1.827s1.142 0.756 1.827 0.754h0.099v-2.679l-2.35-1.348zM15.992 0.033l-2.35 1.348c0.454 0.819 1.315 1.328 2.252 1.331h0.197c0.934 0.003 1.795-0.5 2.252-1.315l-2.35-1.364zM4.536 6.64l-2.35 1.364v2.679h0.099c0.685 0.002 1.342-0.27 1.827-0.754s0.756-1.142 0.754-1.827v-0.197c-0.006-0.442-0.118-0.877-0.329-1.266v0zM2.285 21.284h-0.099v2.663l2.35 1.364c0.216-0.381 0.329-0.811 0.329-1.249v-0.197c0.002-0.685-0.27-1.342-0.754-1.827s-1.142-0.756-1.827-0.754v0z"></path> <path fill="#083b54" opacity="0.15" style="fill: var(--color3, #083b54)" d="M15.992 32v-15.959l-13.806-7.971v15.959z"></path><path fill="#083b54" opacity="0.05" style="fill: var(--color3, #083b54)" d="M29.814 23.881v-15.943l-13.806 7.971v15.959z"></path>
  </symbol>
  <symbol id="iconPlus" viewBox="0 0 32 32">
    <path d="M25.333 17.333v-2.667c0-0.729-0.604-1.333-1.333-1.333h-5.333v-5.333c0-0.729-0.604-1.333-1.333-1.333h-2.667c-0.729 0-1.333 0.604-1.333 1.333v5.333h-5.333c-0.729 0-1.333 0.604-1.333 1.333v2.667c0 0.729 0.604 1.333 1.333 1.333h5.333v5.333c0 0.729 0.604 1.333 1.333 1.333h2.667c0.729 0 1.333-0.604 1.333-1.333v-5.333h5.333c0.729 0 1.333-0.604 1.333-1.333zM32 16c0 8.833-7.167 16-16 16s-16-7.167-16-16 7.167-16 16-16 16 7.167 16 16z"></path>
  </symbol>
  <symbol id="iconQuote" viewBox="0 0 32 32">
    <path d="M7.024 13.003c3.862 0 6.993 3.131 6.993 6.993s-3.131 6.993-6.993 6.993-6.993-3.131-6.993-6.993l-0.031-0.999c0-7.724 6.262-13.986 13.986-13.986v3.996c-2.668 0-5.177 1.039-7.064 2.926-0.363 0.363-0.695 0.75-0.994 1.156 0.357-0.056 0.723-0.086 1.096-0.086zM25.007 13.003c3.862 0 6.993 3.131 6.993 6.993s-3.131 6.993-6.993 6.993-6.993-3.131-6.993-6.993l-0.031-0.999c0-7.724 6.262-13.986 13.986-13.986v3.996c-2.668 0-5.177 1.039-7.064 2.926-0.363 0.363-0.695 0.75-0.994 1.156 0.357-0.056 0.723-0.086 1.096-0.086z"></path>
  </symbol>
  <symbol id="iconQuestion" viewBox="0 0 32 32">
    <path d="M14 22h4v4h-4zM22 8c1.105 0 2 0.895 2 2v6l-6 4h-4v-2l6-4v-2h-10v-4h12zM16 3c-3.472 0-6.737 1.352-9.192 3.808s-3.808 5.72-3.808 9.192c0 3.472 1.352 6.737 3.808 9.192s5.72 3.808 9.192 3.808c3.472 0 6.737-1.352 9.192-3.808s3.808-5.72 3.808-9.192c0-3.472-1.352-6.737-3.808-9.192s-5.72-3.808-9.192-3.808zM16 0v0c8.837 0 16 7.163 16 16s-7.163 16-16 16c-8.837 0-16-7.163-16-16s7.163-16 16-16z"></path>
  </symbol>
  <symbol id="iconLink" viewBox="0 0 32 32">
    <path d="M29.187 2.933l-0.12-0.121c-2.813-2.812-7.415-2.812-10.228 0l-6.516 6.517c-2.812 2.812-2.812 7.415 0 10.227l0.12 0.12c0.234 0.234 0.482 0.446 0.739 0.641l2.386-2.386c-0.278-0.164-0.542-0.361-0.78-0.599l-0.121-0.121c-1.527-1.527-1.527-4.012 0-5.539l6.517-6.516c1.527-1.527 4.012-1.527 5.539 0l0.121 0.12c1.527 1.527 1.527 4.012 0 5.539l-2.948 2.948c0.512 1.264 0.754 2.611 0.733 3.955l4.559-4.559c2.812-2.812 2.812-7.415-0-10.227zM19.557 12.323c-0.234-0.234-0.482-0.446-0.739-0.641l-2.386 2.385c0.278 0.164 0.542 0.361 0.78 0.599l0.121 0.121c1.527 1.527 1.527 4.012 0 5.539l-6.517 6.517c-1.527 1.527-4.012 1.527-5.539 0l-0.121-0.121c-1.527-1.527-1.527-4.012 0-5.539l2.948-2.948c-0.512-1.264-0.754-2.611-0.733-3.955l-4.559 4.559c-2.812 2.812-2.812 7.415 0 10.228l0.12 0.12c2.813 2.812 7.415 2.812 10.228 0l6.516-6.517c2.812-2.812 2.812-7.415 0-10.228l-0.12-0.12z"></path>
  </symbol>
  <symbol id="iconView" viewBox="0 0 20 20">
    <path d="M0.2 10c1.86-3.592 5.548-6.004 9.8-6.004s7.94 2.412 9.771 5.943l0.029 0.061c-1.86 3.592-5.548 6.004-9.8 6.004s-7.94-2.412-9.771-5.943l-0.029-0.061zM10 14c2.209 0 4-1.791 4-4s-1.791-4-4-4v0c-2.209 0-4 1.791-4 4s1.791 4 4 4v0zM10 12c-1.105 0-2-0.895-2-2s0.895-2 2-2v0c1.105 0 2 0.895 2 2s-0.895 2-2 2v0z"></path>
  </symbol>
  <symbol id="iconWechat" viewBox="0 0 32 32">
    <path d="M9.062 9.203c0-0.859-0.562-1.422-1.422-1.422-0.844 0-1.703 0.562-1.703 1.422 0 0.844 0.859 1.406 1.703 1.406 0.859 0 1.422-0.562 1.422-1.406zM20.672 17.125c0-0.562-0.562-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.859 0 1.422-0.562 1.422-1.141zM16.984 9.203c0-0.859-0.562-1.422-1.406-1.422-0.859 0-1.703 0.562-1.703 1.422 0 0.844 0.844 1.406 1.703 1.406 0.844 0 1.406-0.562 1.406-1.406zM26.906 17.125c0-0.562-0.578-1.125-1.422-1.125-0.562 0-1.125 0.562-1.125 1.125 0 0.578 0.562 1.141 1.125 1.141 0.844 0 1.422-0.562 1.422-1.141zM22.75 10.922c-0.359-0.047-0.719-0.063-1.094-0.063-5.375 0-9.625 4.016-9.625 8.953 0 0.828 0.125 1.625 0.359 2.375-0.359 0.031-0.703 0.047-1.063 0.047-1.422 0-2.547-0.281-3.969-0.562l-3.953 1.984 1.125-3.406c-2.828-1.984-4.531-4.547-4.531-7.656 0-5.391 5.094-9.625 11.328-9.625 5.563 0 10.453 3.391 11.422 7.953zM32 19.687c0 2.547-1.688 4.813-3.969 6.516l0.859 2.828-3.109-1.703c-1.141 0.281-2.281 0.578-3.406 0.578-5.391 0-9.625-3.688-9.625-8.219s4.234-8.219 9.625-8.219c5.094 0 9.625 3.688 9.625 8.219z"></path>
  </symbol>
  <symbol id="iconTwitter" viewBox="0 0 32 32">
    <path d="M32.003 6.075c-1.175 0.525-2.444 0.875-3.769 1.031 1.356-0.813 2.394-2.1 2.887-3.631-1.269 0.75-2.675 1.3-4.169 1.594-1.2-1.275-2.906-2.069-4.794-2.069-3.625 0-6.563 2.938-6.563 6.563 0 0.512 0.056 1.012 0.169 1.494-5.456-0.275-10.294-2.888-13.531-6.862-0.563 0.969-0.887 2.1-0.887 3.3 0 2.275 1.156 4.287 2.919 5.463-1.075-0.031-2.087-0.331-2.975-0.819 0 0.025 0 0.056 0 0.081 0 3.181 2.263 5.838 5.269 6.437-0.55 0.15-1.131 0.231-1.731 0.231-0.425 0-0.831-0.044-1.237-0.119 0.838 2.606 3.263 4.506 6.131 4.563-2.25 1.762-5.075 2.813-8.156 2.813-0.531 0-1.050-0.031-1.569-0.094 2.913 1.869 6.362 2.95 10.069 2.95 12.075 0 18.681-10.006 18.681-18.681 0-0.287-0.006-0.569-0.019-0.85 1.281-0.919 2.394-2.075 3.275-3.394z"></path>
  </symbol>
  <symbol id="iconClose" viewBox="0 0 32 32">
    <path d="M32 3.221l-12.779 12.779 12.779 12.779-3.221 3.221-12.779-12.779-12.779 12.779-3.221-3.221 12.779-12.779-12.779-12.779 3.221-3.221 12.779 12.779 12.779-12.779z"></path>
  </symbol>
  <symbol id="iconArticles" viewBox="0 0 32 32">
    <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path>
  </symbol>
  <symbol id="iconAsk" viewBox="0 0 32 32">
    <path d="M25.353 1.668c1.385 0 2.509 1.121 2.509 2.502v12.258l0.24-0.585-14.231 14.423 0.597-0.249h-10.048c-1.386 0-2.508-1.116-2.508-2.493v-26.689l-0.837 0.834h24.278zM0.238 0v27.523c0 2.299 1.872 4.161 4.182 4.161h10.399l14.717-14.916v-12.599c0-2.301-1.873-4.169-4.183-4.169h-25.115zM26.56 21.784l-0.403 0.402 3.088 3.076 2.518-2.508-3.088-3.076-2.114 2.106zM28.27 20.883l2.282 2.272v-0.803l-1.712 1.704h0.807l-2.282-2.273v0.804l1.711-1.705h-0.807zM20.286 28.034l-0.123 0.121-0.034 0.169-0.57 2.841-0.167 0.836 3.86-0.769 0.123-0.122 6.677-6.651-3.088-3.076-0.403 0.402-6.274 6.25zM26.56 22.588l2.281 2.272v-0.803l-6.274 6.249 0.292-0.156-2.852 0.569 0.671 0.669 0.57-2.841-0.156 0.291 6.274-6.249-0.806 0zM14.757 21.415c0.631 0 1.143 0.509 1.143 1.138v0.302c0 0.628-0.508 1.138-1.143 1.138-0.632 0-1.144-0.51-1.144-1.138v-0.302c-0-0.628 0.508-1.138 1.144-1.138zM9.446 12.309s0.090 0.786 0.972 0.786c0.882 0 0.934-0.786 0.934-0.786-0.058-2.546 1.126-3.756 3.551-3.635 1.614 0.182 2.45 1.089 2.506 2.725-0.112 0.729-0.725 1.671-1.815 2.821-1.444 1.455-2.166 2.757-2.166 3.908v1.18s0.111 0.703 0.909 0.703c0.798 0 0.909-0.703 0.909-0.703v-0.819c0-0.961 0.691-2.116 2.076-3.454 1.449-1.329 2.168-2.544 2.168-3.635-0.119-3.027-1.703-4.604-4.763-4.727-3.521-0.059-5.282 1.82-5.282 5.637z"></path>
  </symbol>
  <symbol id="iconRss" viewBox="0 0 32 32">
    <path d="M29 0h-26c-1.65 0-3 1.35-3 3v26c0 1.65 1.35 3 3 3h26c1.65 0 3-1.35 3-3v-26c0-1.65-1.35-3-3-3zM8.719 25.975c-1.5 0-2.719-1.206-2.719-2.706 0-1.488 1.219-2.712 2.719-2.712 1.506 0 2.719 1.225 2.719 2.712 0 1.5-1.219 2.706-2.719 2.706zM15.544 26c0-2.556-0.994-4.962-2.794-6.762-1.806-1.806-4.2-2.8-6.75-2.8v-3.912c7.425 0 13.475 6.044 13.475 13.475h-3.931zM22.488 26c0-9.094-7.394-16.5-16.481-16.5v-3.912c11.25 0 20.406 9.162 20.406 20.413h-3.925z"></path>
  </symbol>
  <symbol id="iconAdopt" viewBox="0 0 32 32">
    <path d="M16.356 25.244c-6.933 0-12.622-5.689-12.622-12.622s5.689-12.622 12.622-12.622 12.622 5.689 12.622 12.622c0 6.933-5.689 12.622-12.622 12.622zM16.356 2.133c-5.689 0-10.489 4.8-10.489 10.489 0 5.867 4.8 10.489 10.489 10.489s10.489-4.622 10.489-10.489c0-5.689-4.622-10.489-10.489-10.489z"></path>
    <path d="M17.244 6.4l1.422 2.667c0.178 0.356 0.356 0.533 0.711 0.533l3.022 0.356c0.889 0.178 1.067 1.067 0.533 1.778l-2.133 2.133c-0.178 0.178-0.356 0.533-0.356 0.889l0.533 2.844c0.178 0.889-0.711 1.422-1.422 1.067l-2.667-1.422c-0.356-0.178-0.711-0.178-0.889 0l-2.844 1.422c-0.711 0.356-1.6-0.178-1.422-1.067l0.533-2.844c0-0.356 0-0.711-0.356-0.889l-2.133-2.133c-0.533-0.533-0.356-1.6 0.533-1.778l3.022-0.356c0.356 0 0.533-0.178 0.711-0.533l1.422-2.667c0.356-0.889 1.422-0.889 1.778 0z"></path>
    <path d="M21.867 31.644l-5.511-3.2-5.511 3.378c-1.244 0.533-2.489-0.356-2.489-1.6v-8l7.644 1.778 8.356-1.778v8c0 1.067-1.244 1.956-2.489 1.422z"></path>
  </symbol>
  <symbol id="iconChainBook" viewBox="0 0 32 32">
    <path d="M13.494 16.4c0.329-0.183 0.862-0.181 1.191 0.003l13.169 7.391c0.329 0.185 0.329 0.483 0 0.667l-13.168 7.371c-0.329 0.184-0.862 0.183-1.19-0.002l-13.218-7.435c-0.329-0.185-0.328-0.483 0.001-0.665l13.215-7.331z"></path>
    <path d="M13.494 10.942c0.329-0.183 0.862-0.181 1.191 0.003l13.169 7.391c0.329 0.185 0.329 0.483 0 0.667l-13.168 7.371c-0.329 0.184-0.862 0.183-1.19-0.002l-13.218-7.435c-0.329-0.185-0.328-0.483 0.001-0.665l13.215-7.331z"></path>
    <path d="M13.562 5.552c0.329-0.183 0.862-0.181 1.191 0.003l13.169 7.391c0.329 0.185 0.329 0.483 0 0.667l-13.168 7.371c-0.329 0.184-0.862 0.183-1.19-0.002l-13.218-7.435c-0.329-0.185-0.328-0.483 0.001-0.665l13.215-7.331z"></path>
    <path d="M13.534 0.158c0.329-0.183 0.862-0.181 1.191 0.003l13.169 7.391c0.329 0.185 0.329 0.483 0 0.667l-13.168 7.371c-0.329 0.184-0.862 0.183-1.19-0.002l-13.218-7.435c-0.329-0.185-0.328-0.483 0.001-0.665l13.215-7.331z"></path>
  </symbol>
  <symbol id="iconHome" viewBox="0 0 32 32">
    <path d="M32 18.451l-16-12.42-16 12.42v-5.064l16-12.42 16 12.42zM28 18v12h-8v-8h-8v8h-8v-12l12-9z"></path>
  </symbol>
  <symbol id="iconUser" viewBox="0 0 32 32">
    <path d="M16 0c8.839 0 16 7.161 16 16 0 8.786-7.125 16-16 16-8.857 0-16-7.196-16-16 0-8.839 7.161-16 16-16zM27.054 24.125c1.661-2.286 2.661-5.089 2.661-8.125 0-7.554-6.161-13.714-13.714-13.714s-13.714 6.161-13.714 13.714c0 3.036 1 5.839 2.661 8.125 0.643-3.196 2.196-5.839 5.464-5.839 1.446 1.411 3.411 2.286 5.589 2.286s4.143-0.875 5.589-2.286c3.268 0 4.821 2.643 5.464 5.839zM22.857 12.571c0-3.786-3.071-6.857-6.857-6.857s-6.857 3.071-6.857 6.857 3.071 6.857 6.857 6.857 6.857-3.071 6.857-6.857z"></path>
  </symbol>
  <symbol id="iconTags" viewBox="0 0 34 32">
    <path d="M31.004 1.996h-6.991c-1.648 0-3.949 0.953-5.115 2.119l-11.742 11.742c-1.165 1.165-1.165 3.072 0 4.237l8.746 8.746c1.165 1.165 3.072 1.165 4.237 0l11.742-11.742c1.165-1.165 2.119-3.467 2.119-5.115v-6.991c0-1.648-1.348-2.996-2.996-2.996zM27.009 11.983c-1.655 0-2.996-1.341-2.996-2.996s1.341-2.996 2.996-2.996 2.996 1.341 2.996 2.996-1.341 2.996-2.996 2.996zM2.749 18.681l10.685 10.685c-1.132 0.598-2.573 0.422-3.523-0.527l-8.746-8.746c-1.165-1.165-1.165-3.072 0-4.237l11.742-11.742c1.165-1.165 3.467-2.119 5.115-2.119l-15.273 15.273c-0.388 0.388-0.388 1.024 0 1.412z"></path>
  </symbol>
  <symbol id="iconArticle" viewBox="0 0 32 32">
    <path d="M32 4h-32v-4h32zM20 12h-20v-4h20zM32 24h-32v-4h32zM24 32h-24v-4h24zM32 30c0 1.105-0.897 2-1.998 2-1.108 0-2.002-0.895-2.002-2s0.894-2 2.002-2c1.101 0 1.998 0.895 1.998 2z"></path>
  </symbol>
  <symbol id="iconTop" viewBox="0 0 32 32">
    <path d="M0 26h32v4h-32zM4 18h4v6h-4zM10 10h4v14h-4zM16 16h4v8h-4zM22 4h4v20h-4z"></path>
  </symbol>
  <symbol id="iconDomain" viewBox="0 0 24 24">
    <path d="M18 15v2.016h-2.016v-2.016h2.016zM18 11.016v1.969h-2.016v-1.969h2.016zM20.016 18.984v-9.984h-8.016v2.016h2.016v1.969h-2.016v2.016h2.016v2.016h-2.016v1.969h8.016zM9.984 6.984v-1.969h-1.969v1.969h1.969zM9.984 11.016v-2.016h-1.969v2.016h1.969zM9.984 15v-2.016h-1.969v2.016h1.969zM9.984 18.984v-1.969h-1.969v1.969h1.969zM6 6.984v-1.969h-2.016v1.969h2.016zM6 11.016v-2.016h-2.016v2.016h2.016zM6 15v-2.016h-2.016v2.016h2.016zM6 18.984v-1.969h-2.016v1.969h2.016zM12 6.984h9.984v14.016h-19.969v-18h9.984v3.984z"></path>
  </symbol>
  <symbol id="iconFangpian" viewBox="0 0 32 32">
    <path d="M16 0c3.696 5.266 7.319 10.605 10.944 15.941-3.477 5.484-7.355 10.569-10.825 16.059-3.808-5.194-7.312-10.691-11.063-15.941 3.563-5.438 7.313-10.69 10.944-16.059z"></path>
  </symbol>
  <symbol id="iconHeitao" viewBox="0 0 32 32">
    <path d="M30.633 19.942c0 4.062-2.815 7.644-7.005 7.644-2.655 0-4.894-1.407-5.789-3.39-0.256-0.512-0.288-0.768-0.576-0.768-0.256 0-0.224 0.576-0.224 0.64 0.224 3.646 1.503 5.565 3.454 7.228 0.384 0.352 0.128 0.704 0 0.704h-8.988c-0.128 0-0.416-0.352 0-0.704 1.951-1.631 3.262-3.582 3.454-7.228 0-0.064 0.032-0.64-0.224-0.64-0.288 0-0.32 0.256-0.576 0.768-0.864 2.015-3.134 3.39-5.789 3.39-4.158 0-7.005-3.582-7.005-7.644 0-5.021 4.094-8.636 6.653-11.034 3.134-2.974 6.621-6.877 7.9-8.86 0.032-0.064 0.096-0.064 0.128 0 1.247 1.983 4.766 5.885 7.9 8.86 2.591 2.431 6.685 6.013 6.685 11.034z"></path>
  </symbol>
  <symbol id="iconMeihua" viewBox="0 0 32 32">
    <path d="M14.080 23.696c-1.344 2.144-3.808 3.808-6.72 3.808-4.128 0.032-7.36-3.072-7.36-7.424 0-4.192 3.168-7.488 7.424-7.488 1.088 0 2.304 0.416 3.168 0.832 0 0 0.192 0.064 0.256-0.064 0.096-0.192-0.096-0.32-0.096-0.32-1.28-1.216-2.272-3.072-2.272-5.28-0.032-4.192 3.296-7.648 7.52-7.648 4.192 0 7.552 3.424 7.552 7.584 0 2.208-0.992 4.096-2.272 5.312 0 0-0.224 0.16-0.096 0.32 0.064 0.192 0.256 0.096 0.256 0.096 0.832-0.448 2.080-0.832 3.104-0.832 4.352 0 7.456 3.296 7.456 7.488 0 4.352-3.232 7.456-7.36 7.456-2.752 0-5.216-1.472-6.72-3.808-0.32-0.512-0.288-0.8-0.576-0.8-0.256 0-0.224 0.576-0.224 0.672 0.256 3.808 1.568 5.824 3.648 7.552 0.448 0.352 0.16 0.736 0 0.736h-9.472c-0.192 0-0.448-0.352-0.032-0.736 2.048-1.728 3.424-3.744 3.648-7.552 0-0.064 0.032-0.672-0.224-0.672-0.288-0.032-0.256 0.256-0.608 0.768z"></path>
  </symbol>
  <symbol id="iconQQZ" viewBox="0 0 32 32">
    <path d="M22.824 13.989l-8.348 6.287s3.351 0.522 8.404 0.461l-0.23-1.040 7.2-6.549c0.132-0.12 0.183-0.312 0.129-0.487s-0.203-0.299-0.377-0.314l-9.492-0.856-3.708-9.213c-0.068-0.169-0.226-0.279-0.401-0.279s-0.333 0.11-0.401 0.279l-3.708 9.213-9.492 0.856c-0.174 0.015-0.323 0.139-0.377 0.314s-0.004 0.366 0.129 0.487l7.2 6.549-2.158 9.742c-0.040 0.178 0.026 0.365 0.168 0.474 0.142 0.107 0.331 0.115 0.481 0.021l8.158-5.165 8.158 5.165c0.070 0.045 0.147 0.066 0.225 0.066 0.090 0 0.18-0.029 0.256-0.086 0.142-0.109 0.208-0.295 0.168-0.474l-1.707-7.704c0.732-0.386 1.538-1.040 1.538-1.040s-3.195 1.638-14.664 0.838l8.312-6.325s-0.327-0.534-10.744-0.914c-0.697-0.026 8.493-1.83 15.281-0.305z"></path>
  </symbol>
  <symbol id="iconTerminal" viewBox="0 0 32 32">
    <path d="M0 2v28h32v-28h-32zM30 28h-28v-24h28v24zM28 6h-24v20h24v-20zM14 16h-2v2h-2v2h-2v-2h2v-2h2v-2h-2v-2h-2v-2h2v2h2v2h2v2zM22 20h-6v-2h6v2z"></path>
  </symbol>
  <symbol id="iconPencil" viewBox="0 0 32 32">
    <path d="M28.664 0h-25.328c-1.842 0-3.336 1.494-3.336 3.336v25.328c0 1.842 1.494 3.336 3.336 3.336h25.328c1.842 0 3.336-1.494 3.336-3.336v-25.328c0-1.842-1.494-3.336-3.336-3.336zM30.078 28.536c0 0.731-0.595 1.326-1.326 1.326h-25.356c-0.731 0-1.326-0.595-1.326-1.326v-25.356c0-0.731 0.595-1.326 1.326-1.326h25.356c0.731 0 1.326 0.595 1.326 1.326v25.356z"></path>
    <path d="M1.53 16.36h-1.019c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.112-0.256 0.256-0.256h1.019c0.14 0 0.256 0.112 0.256 0.256 0 0.14-0.116 0.256-0.256 0.256zM28.676 16.36h-1.938c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.112-0.256 0.256-0.256h1.938c0.14 0 0.256 0.112 0.256 0.256-0.004 0.14-0.116 0.256-0.256 0.256zM24.797 16.36h-1.942c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.112-0.256 0.256-0.256h1.942c0.14 0 0.256 0.112 0.256 0.256 0 0.14-0.112 0.256-0.256 0.256zM20.922 16.36h-1.942c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.116-0.256 0.256-0.256h1.942c0.14 0 0.256 0.112 0.256 0.256 0 0.14-0.116 0.256-0.256 0.256zM17.043 16.36h-1.938c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.112-0.256 0.256-0.256h1.942c0.136 0.004 0.244 0.116 0.244 0.256-0.004 0.136-0.112 0.248-0.248 0.256zM13.168 16.36h-1.942c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.116-0.256 0.256-0.256h1.942c0.14 0 0.256 0.112 0.256 0.256-0.004 0.14-0.116 0.256-0.256 0.256zM9.288 16.36h-1.938c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.112-0.256 0.256-0.256h1.942c0.14 0 0.256 0.116 0.256 0.256-0.008 0.14-0.12 0.256-0.26 0.256zM5.409 16.36h-1.938c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.116-0.256 0.256-0.256h1.938c0.14 0 0.256 0.112 0.256 0.256 0 0.14-0.116 0.256-0.256 0.256zM31.632 16.36h-1.019c-0.14 0-0.256-0.112-0.256-0.256 0-0.14 0.112-0.256 0.256-0.256h1.019c0.136 0.004 0.244 0.116 0.244 0.256 0.004 0.136-0.104 0.248-0.244 0.256z"></path>
    <path d="M16.076 31.92c-0.14 0-0.256-0.116-0.256-0.256v-1.019c0-0.14 0.112-0.256 0.256-0.256 0.14 0 0.256 0.112 0.256 0.256v1.019c-0.004 0.144-0.116 0.256-0.256 0.256zM16.076 28.956c-0.14 0-0.256-0.116-0.256-0.256v-1.942c0.004-0.136 0.116-0.244 0.256-0.244 0.136 0 0.248 0.108 0.256 0.244v1.942c-0.004 0.144-0.116 0.256-0.256 0.256zM16.076 25.081c-0.14 0-0.256-0.116-0.256-0.256v-1.942c0.004-0.136 0.116-0.244 0.256-0.244 0.136 0 0.248 0.108 0.256 0.244v1.942c-0.004 0.14-0.116 0.256-0.256 0.256zM16.076 21.206c-0.14 0-0.256-0.116-0.256-0.256v-1.938c0.004-0.136 0.116-0.244 0.256-0.244 0.136 0 0.248 0.108 0.256 0.244v1.938c-0.004 0.14-0.116 0.256-0.256 0.256zM16.076 17.326c-0.14 0-0.256-0.112-0.256-0.256v-1.942c0-0.14 0.112-0.256 0.256-0.256 0.14 0 0.256 0.116 0.256 0.256v1.942c-0.004 0.14-0.116 0.256-0.256 0.256zM16.076 13.447c-0.14 0-0.256-0.116-0.256-0.256v-1.942c0-0.14 0.112-0.256 0.256-0.256 0.14 0 0.256 0.112 0.256 0.256v1.938c-0.004 0.148-0.116 0.26-0.256 0.26zM16.076 9.572c-0.14 0-0.256-0.116-0.256-0.256v-1.942c0-0.14 0.112-0.256 0.256-0.256 0.14 0 0.256 0.112 0.256 0.256v1.942c-0.004 0.14-0.116 0.256-0.256 0.256zM16.076 5.693c-0.14 0-0.256-0.112-0.256-0.256v-1.938c0-0.14 0.112-0.256 0.256-0.256 0.14 0 0.256 0.112 0.256 0.256v1.938c-0.004 0.14-0.116 0.256-0.256 0.256zM16.076 1.814c-0.14 0-0.256-0.112-0.256-0.256v-1.019c0-0.14 0.112-0.256 0.256-0.256 0.14 0 0.256 0.112 0.256 0.256v1.019c-0.004 0.144-0.116 0.256-0.256 0.256z"></path>
    <path d="M18.485 18.329c1.127 1.394 2.501 2.569 4.055 3.464 1.514 0.859 3.376 1.482 5.597 1.87 0.384 0.052 0.575 0.164 0.575 0.328 0 0.096-0.116 0.184-0.344 0.276s-0.891 0.196-1.978 0.316c-1.091 0.124-2.006 0.184-2.749 0.184-0.739 0-1.314-0.124-1.718-0.36-0.404-0.24-1.059-0.895-1.97-1.978-0.811-0.955-1.57-1.958-2.269-2.996-1.246 1.502-2.577 2.645-3.999 3.42-1.418 0.783-2.753 1.171-3.999 1.171-0.403 0-0.607-0.072-0.607-0.208 0-0.132 0.156-0.26 0.467-0.372 1.514-0.491 2.94-1.214 4.235-2.145 1.298-0.935 2.317-1.978 3.052-3.136-1.246-1.886-2.169-3.188-2.777-3.903-0.603-0.715-1.111-1.214-1.51-1.498-0.403-0.28-0.607-0.511-0.607-0.687s0.128-0.26 0.387-0.26c1.246 0 2.389 0.927 3.436 2.777 0.236 0.423 0.803 1.218 1.702 2.389 0.735-1.43 1.302-2.872 1.706-4.343 0.399-1.466 0.603-2.381 0.603-2.749 0-0.256-0.12-0.384-0.36-0.384-0.639 0-1.674 0.216-3.108 0.643-1.43 0.431-2.333 0.643-2.709 0.643s-0.751-0.1-1.127-0.304c-0.376-0.2-0.563-0.38-0.563-0.535s0.192-0.244 0.575-0.264c1.063-0.036 2.373-0.248 3.931-0.635 1.554-0.384 2.693-0.843 3.404-1.37 0.2-0.164 0.455-0.252 0.715-0.248 0.276 0 0.763 0.232 1.458 0.687s1.043 0.803 1.043 1.031c0 0.228-0.2 0.515-0.607 0.863-0.587 0.495-1.083 1.366-1.482 2.613-0.719 2.285-1.542 4.179-2.461 5.701zM5.197 12.596c0.751 0 1.418 0.18 2.005 0.535s0.879 0.863 0.879 1.51c0 0.651-0.184 0.975-0.551 0.975s-0.935-0.403-1.706-1.21c-0.763-0.799-1.151-1.302-1.151-1.502 0-0.204 0.172-0.308 0.523-0.308zM10.775 14.002c0.128 0 0.192 0.096 0.192 0.288s-0.080 0.463-0.248 0.811c-0.807 1.946-1.566 3.911-2.281 5.893-0.623 1.75-0.975 2.948-1.059 3.599s-0.26 0.979-0.523 0.979-0.631-0.387-1.083-1.171c-0.455-0.779-0.687-1.342-0.687-1.69 0-0.24 0.128-0.407 0.384-0.523 0.264-0.112 0.491-0.292 0.659-0.523 0.184-0.24 0.723-1.131 1.622-2.677 0.899-1.542 1.67-2.928 2.309-4.159 0.316-0.551 0.551-0.827 0.715-0.827zM7.315 6.636c0.455 0 0.963 0.076 1.526 0.236 0.559 0.156 0.959 0.419 1.194 0.799 0.24 0.376 0.356 0.703 0.356 0.987s-0.064 0.499-0.192 0.643c-0.124 0.144-0.304 0.224-0.495 0.22-0.348 0-0.915-0.399-1.69-1.194-0.779-0.799-1.167-1.282-1.167-1.446 0-0.16 0.152-0.244 0.467-0.244z"></path>
  </symbol>
  <symbol id="iconPhoto" viewBox="0 0 24 24">
    <path d="M2.196 19.609h10.877l-3.472-4.647-2.706 3.523-1.991-2.349zM0 10.928h15.268v10.877h-13.072c-1.174 0-2.196-1.021-2.196-2.196v-8.681zM4.391 2.196h2.145v2.196h-2.145v-2.196zM8.732 2.196h2.196v2.196h-2.196v-2.196zM2.196 2.196v2.196h-2.196c0-1.072 1.123-2.196 2.196-2.196zM17.464 19.609h2.145v2.196h-2.145v-2.196zM17.464 2.196h2.145v2.196h-2.145v-2.196zM0 6.536h2.196v2.196h-2.196v-2.196zM21.804 2.196c1.072 0 2.196 1.123 2.196 2.196h-2.196v-2.196zM21.804 6.536h2.196v2.196h-2.196v-2.196zM13.072 2.196h2.196v2.196h-2.196v-2.196zM24 19.609c0 1.072-1.123 2.196-2.196 2.196v-2.196h2.196zM21.804 10.928h2.196v2.145h-2.196v-2.145zM21.804 15.268h2.196v2.196h-2.196v-2.196z"></path>
  </symbol>
  <symbol id="iconPhotoActual" viewBox="0 0 24 24">
    <path d="M4.391 17.464h15.217l-4.902-6.536-3.779 4.902-2.757-3.268zM21.804 2.196c1.072 0 2.196 1.123 2.196 2.196v15.217c0 1.072-1.123 2.196-2.196 2.196h-19.609c-1.174 0-2.196-1.021-2.196-2.196v-15.217c0-1.072 1.123-2.196 2.196-2.196h19.609z"></path>
  </symbol>
  <symbol id="iconRevolve" viewBox="0 0 28 28">
    <path d="M15.581 8.18c-0.37-0.37-0.971-0.37-1.341 0l-5.149 5.149c-0.37 0.37-0.37 0.971 0 1.341l5.149 5.149c0.37 0.37 0.971 0.37 1.341 0l5.149-5.149c0.37-0.37 0.37-0.971 0-1.341l-5.149-5.149zM26.39 2.614l-1.485 1.485-0.016-0.077c-2.567-2.488-6.090-4.023-9.977-4.023-7.855 0-14.223 6.268-14.223 14s6.368 14 14.223 14c3.887 0 7.41-1.535 9.977-4.023l-2.839-2.839c-0.915 0.876-1.972 1.568-3.145 2.056-1.262 0.525-2.606 0.792-3.993 0.792s-2.731-0.266-3.993-0.792c-1.217-0.507-2.31-1.232-3.248-2.155-1.914-1.884-2.968-4.383-2.968-7.039s1.054-5.155 2.968-7.039c0.938-0.924 2.031-1.649 3.248-2.155 1.262-0.525 2.606-0.792 3.993-0.792s2.731 0.266 3.993 0.792c1.173 0.488 2.23 1.18 3.145 2.056l0.069 0.024-1.548 1.548c-0.34 0.34-0.099 0.923 0.382 0.923h5.819c0.298 0 0.54-0.242 0.54-0.54v-5.819c0-0.482-0.582-0.723-0.923-0.382z"></path>
  </symbol>
  <symbol id="iconDownload" viewBox="0 0 26 28">
    <path d="M20.003 23.002c0-0.547-0.453-1-1-1s-1 0.453-1 1 0.453 1 1 1 1-0.453 1-1zM24.004 23.002c0-0.547-0.453-1-1-1s-1 0.453-1 1 0.453 1 1 1 1-0.453 1-1zM26.004 19.501v5.001c0 0.828-0.672 1.5-1.5 1.5h-23.004c-0.828 0-1.5-0.672-1.5-1.5v-5.001c0-0.828 0.672-1.5 1.5-1.5h7.267l2.11 2.125c0.578 0.563 1.328 0.875 2.125 0.875s1.547-0.313 2.125-0.875l2.125-2.125h7.251c0.828 0 1.5 0.672 1.5 1.5zM20.925 10.609c0.156 0.375 0.078 0.813-0.219 1.094l-7.001 7.001c-0.188 0.203-0.453 0.297-0.703 0.297s-0.516-0.094-0.703-0.297l-7.001-7.001c-0.297-0.281-0.375-0.719-0.219-1.094 0.156-0.359 0.516-0.609 0.922-0.609h4.001v-7.001c0-0.547 0.453-1 1-1h4.001c0.547 0 1 0.453 1 1v7.001h4.001c0.406 0 0.766 0.25 0.922 0.609z"></path>
  </symbol>
  <symbol id="iconMore" viewBox="0 0 24 24">
    <path d="M21 15c1.655 0 3-1.345 3-3s-1.345-3-3-3-3 1.345-3 3 1.345 3 3 3zM12 15c1.655 0 3-1.345 3-3s-1.345-3-3-3-3 1.345-3 3 1.345 3 3 3zM3 15c1.655 0 3-1.345 3-3s-1.345-3-3-3-3 1.345-3 3 1.345 3 3 3z"></path>
  </symbol>
  <symbol id="iconThumbUp" viewBox="0 0 24 24">
    <path d="M23.016 9.984l-0.047 0.094h0.047v1.922c0 0.281-0.047 0.516-0.141 0.75l-3.047 7.031c-0.281 0.703-0.984 1.219-1.828 1.219h-9c-1.078 0-2.016-0.938-2.016-2.016v-9.984c0-0.563 0.234-1.031 0.609-1.406l6.563-6.609 1.078 1.078c0.281 0.281 0.422 0.609 0.422 1.031v0.328l-0.984 4.594h6.328c1.078 0 2.016 0.891 2.016 1.969zM0.984 21v-12h4.031v12h-4.031z"></path>
  </symbol>
  <symbol id="iconReply" viewBox="0 0 32 32">
    <path d="M19.583 9.75q-8.667 1.25-13.375 6.625t-6.208 12.958q6.417-9.083 19.583-9.083v7.25l12.417-12.417-12.417-12.417v7.083z"></path>
  </symbol>
  <symbol id="iconCheck" viewBox="0 0 32 32">
    <path d="M32 7.333l-21.333 21.333-10.667-10.667 4-4 6.667 6.667 17.333-17.333z"></path>
  </symbol>
  <symbol id="iconOriginal" viewBox="0 0 32 32">
    <path d="M26.182 0h-20.363c-1.606 0-2.909 1.338-2.909 2.988v28.046c0 0.756 0.807 1.222 1.431 0.817 3.418-2.215 11.771-8.052 11.771-8.052l11.534 8.029c0.625 0.41 1.444-0.044 1.444-0.804v-28.036c0-1.649-1.303-2.988-2.909-2.988zM23 11.303l-1.705 2.288c-0.314 0.419-0.471 0.942-0.441 1.465 0.045 0.748 0.105 1.824 0.142 2.497v0.030c-0.060 1.293-0.77 1.488-1.189 1.488-0.187 0-0.389-0.030-0.613-0.105-0.86-0.322-1.712-0.643-2.564-0.957-0.523-0.202-1.107-0.187-1.63 0.022l-2.161 0.882c-0.366 0.135-0.636 0.194-0.867 0.194-0.299 0-0.538-0.097-0.71-0.299-0.232-0.262-0.314-0.681-0.262-1.271 0.030-0.957 0.052-1.922 0.082-2.878 0.015-0.523-0.157-1.047-0.486-1.458-0.508-0.643-1.017-1.278-1.518-1.921-0.015-0.007-0.023-0.022-0.030-0.037-0.336-0.546-0.426-1.009-0.292-1.398 0.127-0.374 0.464-0.643 0.987-0.815l1.129-0.344c0.501-0.15 0.994-0.307 1.495-0.456 0.531-0.157 0.979-0.508 1.264-0.972l1.271-2.071c0.389-0.613 0.822-0.74 1.114-0.74 0.404 0 0.807 0.254 1.129 0.703 0.008 0 0.015 0.015 0.015 0.015 0.516 0.785 1.032 1.563 1.548 2.355 0.307 0.456 0.763 0.793 1.293 0.935l2.265 0.613c0.008 0 0.015 0.007 0.022 0.007 0.568 0.202 0.92 0.508 1.039 0.905 0.112 0.389 0 0.837-0.329 1.323z"></path>
  </symbol>
<symbol id="icon-wymusic" viewBox="0 0 32 32">
<path d="M19.637 0.19c0.879-0.253 1.821-0.241 2.709-0.037 1.019 0.242 1.984 0.71 2.814 1.348 0.303 0.23 0.577 0.517 0.716 0.877 0.216 0.533 0.158 1.17-0.16 1.65-0.278 0.431-0.75 0.731-1.258 0.796-0.406 0.056-0.832-0.031-1.182-0.247-0.197-0.116-0.347-0.294-0.544-0.409-0.53-0.336-1.141-0.601-1.779-0.586-0.449 0.005-0.845 0.268-1.149 0.578-0.285 0.294-0.43 0.728-0.336 1.132 0.219 0.825 0.437 1.65 0.656 2.475 1.573 0.081 3.145 0.497 4.496 1.318 1.314 0.813 2.501 1.844 3.443 3.072 0.799 1.041 1.405 2.23 1.775 3.49 0.401 1.357 0.531 2.788 0.427 4.198-0.087 1.163-0.316 2.319-0.71 3.418-1.020 2.676-2.91 5.022-5.342 6.543-1.784 1.127-3.833 1.806-5.922 2.066-1.442 0.18-2.912 0.181-4.347-0.065-2.949-0.487-5.712-1.957-7.809-4.080-2.084-2.088-3.535-4.798-4.121-7.689-0.433-2.108-0.413-4.31 0.067-6.409 0.587-2.588 1.883-5.009 3.706-6.937 1.487-1.583 3.323-2.835 5.339-3.644 0.208-0.079 0.412-0.173 0.633-0.208 0.472-0.083 0.976 0.029 1.363 0.314 0.523 0.369 0.811 1.040 0.724 1.674-0.072 0.647-0.531 1.231-1.143 1.452-2.036 0.761-3.842 2.121-5.142 3.863-1.162 1.546-1.92 3.392-2.174 5.309-0.257 1.898-0.028 3.858 0.652 5.648 0.982 2.617 2.936 4.868 5.426 6.15 1.499 0.777 3.187 1.182 4.876 1.171 1.389-0.018 2.782-0.241 4.088-0.724 1.148-0.426 2.224-1.056 3.139-1.872 0.853-0.756 1.562-1.669 2.104-2.671 0.271-0.511 0.522-1.037 0.675-1.597 0.452-1.6 0.53-3.333 0.047-4.935-0.4-1.344-1.222-2.541-2.273-3.461-0.465-0.406-0.961-0.779-1.493-1.093-0.47-0.264-0.984-0.444-1.507-0.567 0.365 1.428 0.756 2.85 1.126 4.276 0.063 0.342 0.126 0.684 0.185 1.027 0.054 1.472-0.462 2.955-1.412 4.081-0.885 1.061-2.141 1.808-3.499 2.064-1.464 0.292-3.039 0.016-4.297-0.795-1.201-0.761-2.088-1.967-2.555-3.301-0.265-0.747-0.397-1.536-0.423-2.327-0.080-1.72 0.37-3.478 1.354-4.9 1.156-1.698 2.979-2.865 4.934-3.435-0.144-0.55-0.291-1.1-0.437-1.651-0.377-1.188-0.297-2.522 0.266-3.639 0.304-0.623 0.756-1.166 1.278-1.618 0.582-0.498 1.261-0.891 2.002-1.094zM14.971 13.13c-0.524 0.55-0.892 1.246-1.050 1.989-0.142 0.675-0.143 1.378-0.015 2.054 0.156 0.747 0.542 1.478 1.182 1.919 0.496 0.352 1.143 0.459 1.735 0.344 1.096-0.192 1.99-1.201 2.020-2.316-0.042-0.276-0.087-0.553-0.165-0.822-0.409-1.548-0.822-3.095-1.229-4.644-0.926 0.286-1.807 0.767-2.477 1.475z"></path>
</symbol>
<symbol id="icon-codepen" viewBox="0 0 32 32">
<path d="M32 9.682l-0.004 13.032v0.012c0.001 0.004-0.001 0.008-0.004 0.009l-15.614 9.044c-0.109 0.064-0.241 0.102-0.382 0.102s-0.271-0.038-0.384-0.104l0.004 0.002-15.236-8.789c-0.229-0.134-0.381-0.379-0.381-0.66v0-12.626c0-0.28 0.151-0.525 0.377-0.657l0.004-0.002 15.236-8.825c0.109-0.064 0.241-0.102 0.382-0.102s0.272 0.038 0.385 0.104l-0.004-0.002 15.24 8.8c0.229 0.134 0.381 0.379 0.381 0.66 0 0 0 0.001 0 0.001v-0zM17.524 4.571v7.494l4.176 2.411 6.491-3.747-10.667-6.158zM14.476 4.571l-10.667 6.179 6.43 3.726 4.236-2.454v-7.451zM14.476 20.734l-4.184-2.448-5.72 3.347 9.905 5.796v-6.695zM27.429 21.646l-5.758-3.361-4.147 2.421v6.722l9.905-5.782zM28.952 19.048v-4.571l-3.81 2.286 3.81 2.286zM6.857 16.762l-3.81-2.286v4.571l3.81-2.286zM12.952 16.762l3.048 1.524 3.048-1.524-3.048-1.524-3.048 1.524z"></path>
</symbol>
<symbol id="icon-qqmusic" viewBox="0 0 32 32">
<path d="M18.053 0.29c-0.615-0.081-1.326-0.128-2.048-0.128-0.002 0-0.003 0-0.005 0h0c-8.813 0-16.001 7.113-16.001 15.838 0 8.723 7.186 15.838 16.001 15.838 8.812 0 15.999-7.113 15.999-15.838 0-6.771-4.278-12.572-10.354-14.83-0.007 1.103-0.058 1.382-0.428 2.041-0.941 1.779-2.738 2.88-4.962 2.965-0.771 0.084-1.369 0.169-1.369 0.169 0 0.086 2.994 5.335 6.33 11.096 2.138 3.727 2.31 4.234 2.226 5.843-0.172 2.88-2.482 5.335-5.647 6.268-0.685 0.169-1.37 0.255-2.567 0.169-1.455-0.084-1.711-0.084-2.823-0.676-1.455-0.762-2.567-1.863-3.081-3.219-0.513-1.27-0.428-3.133 0.257-4.489 0.599-1.186 2.052-2.626 3.337-3.302 1.711-0.848 4.106-1.271 5.475-0.848 0.343 0.084 0.684 0.17 0.684 0.084 0 0-0.256-0.508-0.684-1.101-0.428-0.592-2.31-3.302-4.277-6.013-1.97-2.794-3.594-5.081-3.68-5.251-0.172-0.337 0.342-1.44 1.027-2.032 0.42-0.393 0.899-0.732 1.419-1l0.035-0.016c0.855-0.508 1.455-0.676 4.364-1.354 0.268-0.067 0.524-0.137 0.771-0.211z"></path>
</symbol>
<symbol id="icon-steam" viewBox="0 0 32 32">
<path d="M32 16c0 8.839-7.174 16-16.026 16-7.342 0-13.523-4.923-15.419-11.639l6.142 2.535c0.413 2.071 2.252 3.639 4.445 3.639 2.529 0 4.639-2.090 4.529-4.742l5.452-3.884c3.361 0.084 6.181-2.639 6.181-6.032 0-3.329-2.71-6.032-6.045-6.032s-6.045 2.71-6.045 6.032v0.077l-3.819 5.529c-1-0.058-1.981 0.219-2.806 0.781l-8.587-3.548c0.658-8.239 7.555-14.716 15.974-14.716 8.852 0 16.026 7.161 16.026 16zM10.045 24.277l-1.968-0.813c0.368 0.751 0.981 1.335 1.733 1.656l0.022 0.008c1.735 0.723 3.729-0.103 4.452-1.832 0.348-0.839 0.355-1.761 0.006-2.6s-1-1.497-1.839-1.845c-0.832-0.348-1.723-0.335-2.51-0.039l2.032 0.839c1.277 0.529 1.884 1.994 1.348 3.271-0.535 1.284-2 1.884-3.277 1.355zM21.258 15.897c-2.219 0-4.026-1.806-4.026-4.019s1.806-4.019 4.026-4.019 4.026 1.806 4.026 4.019-1.8 4.019-4.026 4.019zM21.265 14.89c1.671 0 3.026-1.355 3.026-3.019 0-1.671-1.355-3.019-3.026-3.019s-3.026 1.355-3.026 3.019c0.006 1.665 1.361 3.019 3.026 3.019z"></path>
</symbol>
<symbol id="iconPad" viewBox="0 0 32 32">
<path d="M6.76 10.118c-0.758 0-1.378 0.62-1.378 1.378v17.741c0 0.758 0.62 1.378 1.378 1.378h23.862c0.758 0 1.378-0.62 1.378-1.378v-17.741c0-0.758-0.62-1.378-1.378-1.378h-23.862zM6.814 19.68c0.399 0 0.721 0.323 0.721 0.721s-0.323 0.721-0.721 0.721c-0.398 0-0.721-0.323-0.721-0.721s0.323-0.721 0.721-0.721zM8.138 12.271h21.493v16.238h-21.493v-16.238z"></path>
<path d="M0 26.625v-23.862c0-0.758 0.62-1.378 1.378-1.378h17.741c0.758 0 1.378 0.62 1.378 1.378v8.313h-2.106v-7.322h-16.238v21.493h2.668v2.756h-3.443c-0.758 0-1.378-0.62-1.378-1.378z"></path>
<path d="M22.077 2.439c0.614-0.018 1.219 0.092 1.78 0.314 0.564 0.224 1.081 0.56 1.514 0.993s0.769 0.949 0.993 1.514c0.223 0.56 0.332 1.166 0.314 1.78l-1.322-0.036c0.013-0.435-0.064-0.862-0.221-1.256-0.155-0.39-0.393-0.753-0.702-1.063s-0.672-0.547-1.063-0.702c-0.394-0.157-0.822-0.234-1.257-0.221l-0.036-1.322z"></path>
<path d="M24.413 6.396l3.263 0.107-1.724 2.912z"></path>
</symbol>
<symbol id="time" viewBox="0 0 32 32">
  <path d="M14.967 19.976l-3.522-3.522c-0.31-0.31-0.723-0.481-1.162-0.481s-0.852 0.171-1.162 0.481c-0.31 0.31-0.481 0.723-0.482 1.162s0.171 0.852 0.481 1.161l4.684 4.684c0.31 0.31 0.723 0.481 1.162 0.481 0.382 0 0.744-0.13 1.036-0.368l0.104-0 0.074-0.166 7.341-7.34c0.639-0.64 0.639-1.682-0-2.323-0.31-0.31-0.723-0.482-1.162-0.482s-0.852 0.171-1.162 0.482l-6.229 6.23z"></path>
  <path d="M26.498 13.681c0.244 0.679 0.42 1.38 0.528 2.094l0.072 0.475 3.408-0.124-0.077-0.585c-0.136-1.037-0.382-2.056-0.737-3.039l-0.186-0.51-3.187 1.19 0.18 0.5z"></path>
  <path d="M24.538 10.258l0.101 0.132c0.084 0.152 0.189 0.291 0.312 0.411 0.358 0.482 0.68 0.993 0.956 1.526l0.219 0.424 3.196-1.195-0.263-0.533c-0.355-0.721-0.77-1.411-1.24-2.064-0.242-0.676-0.888-1.159-1.647-1.159-0.966 0-1.749 0.783-1.749 1.749 0 0.244 0.050 0.476 0.14 0.687l-0.027 0.021z"></path>
  <path d="M30.55 17.141l-0.012-0.546-3.398 0.123 0.008 0.528c0.001 0.067 0.002 0.134 0.002 0.202 0 0.685-0.062 1.368-0.188 2.042l-0.088 0.476 3.269 0.97 0.116-0.575c0.195-0.958 0.292-1.935 0.292-2.913-0-0.102-0-0.204-0.002-0.306z"></path>
  <path d="M26.599 20.919c-0.544 1.663-1.477 3.176-2.715 4.413-2.098 2.099-4.916 3.267-7.884 3.267-2.967 0-5.786-1.168-7.883-3.267s-3.266-4.916-3.266-7.884c0-2.967 1.168-5.786 3.266-7.883 1.569-1.57 3.559-2.633 5.727-3.058l-0.005 2.978 8.222-4.726-8.204-4.757-0.007 3.053c-3.082 0.456-5.93 1.895-8.14 4.104-2.737 2.738-4.263 6.418-4.263 10.29s1.526 7.553 4.263 10.289c2.738 2.738 6.418 4.263 10.29 4.263 3.872 0 7.553-1.525 10.291-4.263 1.631-1.631 2.857-3.627 3.564-5.822l0.168-0.524-3.26-0.968-0.163 0.496z"></path>
</symbol>
<symbol id="sortasc" viewBox="0 0 32 32">
  <path d="M26.535 23.445q0-1.125-0.786-2.071t-1.839-0.946q-0.929 0-1.482 0.661t-0.554 1.679 0.652 1.696 1.866 0.679q0.893 0 1.518-0.482t0.625-1.214zM15.642 25.713q0 0.214-0.179 0.429l-5.696 5.696q-0.179 0.161-0.411 0.161-0.214 0-0.411-0.161l-5.714-5.714q-0.268-0.286-0.125-0.625 0.143-0.357 0.536-0.357h3.429v-24.57q0-0.25 0.161-0.411t0.411-0.161h3.429q0.25 0 0.411 0.161t0.161 0.411v24.57h3.429q0.25 0 0.411 0.161t0.161 0.411zM29.035 24.481q0 1.107-0.232 2.17t-0.732 2.036-1.214 1.705-1.759 1.17-2.277 0.438q-1.107 0-1.929-0.286-0.429-0.143-0.75-0.268l0.696-2.018q0.268 0.125 0.554 0.196 0.661 0.232 1.339 0.232 1.5 0 2.402-1.045t1.188-2.598h-0.036q-0.375 0.411-1.098 0.661t-1.509 0.25q-1.893 0-3.089-1.277t-1.196-3.080q0-1.875 1.286-3.179t3.232-1.304q2.196 0 3.661 1.688t1.464 4.509zM28.499 11.679v2.036h-8.375v-2.036h2.982v-7.714q0-0.125 0.009-0.339t0.009-0.304v-0.286h-0.036l-0.125 0.214q-0.143 0.232-0.464 0.554l-1.107 1.036-1.464-1.536 3.429-3.304h2.196v11.679h2.946z"></path>
</symbol>
<symbol id="icon-nickname" viewBox="0 0 37 32">
  <path d="M18.286 20.196c0 1.554-1.018 2.661-2.286 2.661h-9.143c-1.268 0-2.286-1.107-2.286-2.661 0-2.768 0.679-5.839 3.5-5.839 0.875 0.5 2.054 1.357 3.357 1.357s2.482-0.857 3.357-1.357c2.821 0 3.5 3.071 3.5 5.839zM15.482 10.911c0 2.25-1.821 4.054-4.054 4.054s-4.054-1.804-4.054-4.054c0-2.232 1.821-4.054 4.054-4.054s4.054 1.821 4.054 4.054zM32 18.857v1.143c0 0.321-0.25 0.571-0.571 0.571h-10.286c-0.321 0-0.571-0.25-0.571-0.571v-1.143c0-0.321 0.25-0.571 0.571-0.571h10.286c0.321 0 0.571 0.25 0.571 0.571zM32 14.357v1c0 0.357-0.286 0.643-0.643 0.643h-10.143c-0.357 0-0.643-0.286-0.643-0.643v-1c0-0.357 0.286-0.643 0.643-0.643h10.143c0.357 0 0.643 0.286 0.643 0.643zM32 9.714v1.143c0 0.321-0.25 0.571-0.571 0.571h-10.286c-0.321 0-0.571-0.25-0.571-0.571v-1.143c0-0.321 0.25-0.571 0.571-0.571h10.286c0.321 0 0.571 0.25 0.571 0.571zM34.286 26.857v-21.714c0-0.304-0.268-0.571-0.571-0.571h-30.857c-0.304 0-0.571 0.268-0.571 0.571v21.714c0 0.304 0.268 0.571 0.571 0.571h6.286v-1.714c0-0.321 0.25-0.571 0.571-0.571h1.143c0.321 0 0.571 0.25 0.571 0.571v1.714h13.714v-1.714c0-0.321 0.25-0.571 0.571-0.571h1.143c0.321 0 0.571 0.25 0.571 0.571v1.714h6.286c0.304 0 0.571-0.268 0.571-0.571zM36.571 5.143v21.714c0 1.571-1.286 2.857-2.857 2.857h-30.857c-1.571 0-2.857-1.286-2.857-2.857v-21.714c0-1.571 1.286-2.857 2.857-2.857h30.857c1.571 0 2.857 1.286 2.857 2.857z"></path>
</symbol>
<symbol id="remove" viewBox="0 0 32 32">
  <path d="M5 10v20c0 1.1 0.9 2 2 2h18c1.1 0 2-0.9 2-2v-20h-22zM11 28h-2v-14h2v14zM15 28h-2v-14h2v14zM19 28h-2v-14h2v14zM23 28h-2v-14h2v14z"></path>
  <path d="M27.5 4h-6.5v-2.5c0-0.825-0.675-1.5-1.5-1.5h-7c-0.825 0-1.5 0.675-1.5 1.5v2.5h-6.5c-0.825 0-1.5 0.675-1.5 1.5v2.5h26v-2.5c0-0.825-0.675-1.5-1.5-1.5zM19 4h-6v-1.975h6v1.975z"></path>
</symbol>
<symbol id="refresh" viewBox="0 0 32 32">
  <path d="M27.802 5.197c-2.925-3.194-7.13-5.197-11.803-5.197-8.837 0-16 7.163-16 16h3c0-7.18 5.82-13 13-13 3.844 0 7.298 1.669 9.678 4.322l-4.678 4.678h11v-11l-4.198 4.197zM29 16c0 7.18-5.82 13-13 13-3.844 0-7.298-1.669-9.678-4.322l4.678-4.678h-11v11l4.197-4.197c2.925 3.194 7.13 5.197 11.803 5.197 8.837 0 16-7.163 16-16h-3z"></path>
</symbol>
<symbol id="email" viewBox="0 0 32 32">
  <path d="M0 25c0 1.473 1.193 2.667 2.667 2.667h26.667c1.473 0 2.667-1.193 2.667-2.667l-0-18c0-1.473-1.193-2.667-2.667-2.667l-26.667 0c-1.473 0-2.667 1.193-2.667 2.667v18zM9.813 16.020l-6.1-6.14c-0.506-0.507-0.506-1.327 0-1.833 0.507-0.507 1.327-0.507 1.833 0l9.733 9.746c0.393 0.387 1.041 0.387 1.427 0l9.746-9.746c0.507-0.507 1.327-0.507 1.833 0s0.507 1.327 0 1.833l-6.107 6.14 6.107 6.099c0.507 0.507 0.507 1.327 0 1.833s-1.327 0.507-1.833 0l-6.1-6.093c0 0-1.906 1.94-2.253 2.287-0.541 0.527-1.287 0.854-2.101 0.854-0.827 0-1.573-0.333-2.113-0.874-0.353-0.347-2.247-2.266-2.247-2.266l-6.094 6.093c-0.506 0.507-1.326 0.507-1.833 0-0.506-0.507-0.506-1.327 0-1.833l6.101-6.1z"></path>
</symbol>
<symbol id="edit" viewBox="0 0 32 32">
  <path d="M5 0c-2.761 0-5 2.239-5 5 0 1.126 0.372 2.164 1 3l2 2 7-7-2-2c-0.836-0.628-1.874-1-3-1zM30 23l2 9-9-2-18.5-18.5 7-7 18.5 18.5zM9.638 11.362l14 14 1.724-1.724-14-14-1.724 1.724z"></path>
</symbol>
<symbol id="icon360" viewBox="0 0 32 32">
<path d="M17.003 3.288c-0.080 0-0.080 0 0 0zM0 19.248v0zM22.937 19.569c1.123 0 2.005 0.882 2.005 2.005 0 0.401-0.16 0.802-0.401 1.123 1.123-1.845 1.684-4.010 1.684-6.256 0-6.737-5.454-12.271-12.271-12.271s-12.19 5.454-12.19 12.271c0 2.246 0.561 4.251 1.604 6.095-0.080-0.321-0.16-0.642-0.16-0.962 0-1.123 0.882-2.005 2.005-2.005 0.722 0 1.363 0.401 1.684 0.962-0.722-1.203-1.123-2.647-1.123-4.090 0-4.571 3.689-8.261 8.261-8.261s8.341 3.689 8.341 8.261c0 1.524-0.401 2.967-1.123 4.17 0.321-0.642 0.962-1.043 1.684-1.043zM6.897 20.612s0-0.080 0 0c0-0.080 0 0 0 0z"></path>
<path d="M24.942 21.574c0-1.123-0.882-2.005-2.005-2.005-0.722 0-1.363 0.401-1.684 0.962-1.444 2.486-4.090 4.17-7.138 4.17s-5.694-1.684-7.138-4.090c-0.321-0.642-0.962-1.043-1.764-1.043-1.123 0-2.005 0.882-2.005 2.005 0 0.401 0.16 0.802 0.321 1.123 2.085 3.609 6.015 6.015 10.506 6.015s8.341-2.406 10.506-5.935c0.241-0.401 0.401-0.802 0.401-1.203zM4.812 23.499v0zM4.17 23.258s0.080 0.080 0.16 0.080c-0.080 0-0.080-0.080-0.16-0.080zM4.411 23.419c0.080 0 0.16 0.080 0.321 0.080-0.080-0.080-0.241-0.080-0.321-0.080zM7.138 21.253v0zM7.058 21.013v0zM21.013 21.253v0.321c-0.080-0.16-0.080-0.241 0-0.321zM21.013 20.932v0zM23.258 23.499v0zM24.301 23.018c-0.080 0.080-0.16 0.16-0.241 0.16 0.080-0.080 0.16-0.080 0.241-0.16zM23.98 23.258c-0.080 0-0.16 0.080-0.241 0.16 0.080-0.080 0.16-0.16 0.241-0.16zM23.659 23.338c-0.080 0-0.241 0.080-0.321 0.080 0.16 0 0.241 0 0.321-0.080zM24.381 22.857c0.080-0.080 0.16-0.16 0.16-0.241-0.080 0.16-0.080 0.241-0.16 0.241z"></path>
<path d="M21.173 21.173c0 1.123 0.882 2.005 2.005 2.005s2.005-0.882 2.005-2.005-0.882-2.005-2.005-2.005-2.005 0.882-2.005 2.005z"></path>
<path d="M20.932 21.574c0 1.123 0.882 2.005 2.005 2.005s2.005-0.882 2.005-2.005-0.882-2.005-2.005-2.005-2.005 0.882-2.005 2.005z"></path>
<path d="M2.967 21.173c0 1.123 0.882 2.005 2.005 2.005s2.005-0.882 2.005-2.005-0.882-2.005-2.005-2.005-2.005 0.882-2.005 2.005z"></path>
<path d="M3.208 21.574c0 1.123 0.882 2.005 2.005 2.005s2.005-0.882 2.005-2.005-0.882-2.005-2.005-2.005-2.005 0.882-2.005 2.005zM28.070 26.707c0 0.722 0.401 1.363 0.962 1.684 0.642 0.321 1.363 0.321 2.005 0s0.962-0.962 0.962-1.684c0-0.722-0.401-1.363-0.962-1.684-0.642-0.321-1.363-0.321-2.005 0-0.561 0.321-0.962 0.962-0.962 1.684z"></path>
</symbol>
<symbol id="iconShenma" viewBox="0 0 32 32">
<path d="M20.898 4.528c0.056-0.037 0.131-0.063 0.231-0.069 0.231-0.025 2.832-0.019 2.832-0.006 0.075 0.669-0.038 1.338-0.138 1.994-0.031 0.2-0.163 0.506-0.050 0.681 0.125 0.206 0.563 0.238 0.775 0.269 1.963 0.281 4.126 1.219 5.301 2.882 0.394 0.556 0.669 1.181 1.081 1.725 0.125 0.163 1.063-0.563 1.069 0.063 0.006 0.506-0.094 1-0.194 1.494-0.019 0.094-0.038 0.213-0.131 0.263-0.044 0.025-0.1 0.037-0.15 0.044-0.238 0.025-0.463-0.019-0.694-0.044-0.094-0.006-0.375-0.063-0.425 0.056-0.338 0.863-0.625 1.75-1.113 2.544-0.813 1.35-1.813 2.625-3.101 3.551-0.825 0.681-1.775 1.188-2.726 1.675-0.475 0.244-0.956 0.481-1.425 0.738-0.456 0.25-0.563 0.844-0.6 1.313-0.050 0.531-0.025 1.075-0.106 1.6-0.031 0.2-0.106 0.175-0.313 0.188-0.288 0.019-0.569 0.031-0.856 0.044-0.569 0.019-1.144 0.025-1.713 0.012-0.138 0-0.413 0.044-0.525-0.044-0.119-0.088-0.113-0.306-0.113-0.438 0-0.588 0.1-1.156 0.188-1.738 0.012-0.094 0.156-0.844-0.006-0.838-0.619 0.019-1.232-0.050-1.844-0.1-1.381-0.044-2.857-0.7-3.451-2.019-0.513-1.138-0.113-2.663 0.738-3.519 0.45-0.456 0.869-0.919 1.394-1.306 1.013-0.744 2.044-1.206 3.207-1.65 0.469-0.175 0.931-0.406 1.269-0.769 0.4-0.431 0.4-0.869 0.469-1.413 0.069-0.588 0.313-1.169 0.263-1.763-0.719-0.063-1.532 0.031-2.238 0.181-0.744 0.156-1.469 0.469-2.019 0.994-0.444 0.425-0.756 1.006-0.819 1.625-0.025 0.275 0.006 0.556 0.119 0.806s0.294 0.488 0.263 0.775c-0.875-0.256-1.563-0.8-1.75-1.732-0.244-1.206 0.256-2.35 1.181-3.126 0.994-0.838 2.338-1.163 3.551-1.519 0.406-0.119 0.813-0.25 1.225-0.338 0.325-0.069 0.688-0.075 0.894-0.375 0.138-0.2 0.138-0.463 0.144-0.7 0.006-0.463 0.050-0.919 0.119-1.375 0.025-0.281 0.012-0.519 0.188-0.638zM23.311 10.298c-0.1 0.031-0.238 1.807-0.263 2.013-0.056 0.394 0.175 0.613 0.581 0.55 0.925-0.131 1.85-0.3 2.776-0.45 0.294-0.050 0.719 0 0.738-0.313 0.019-0.263-0.231-0.488-0.4-0.644-0.269-0.25-0.563-0.469-0.881-0.644-0.706-0.4-1.738-0.763-2.55-0.513zM22.642 14.555c-0.156 0.012-0.25 1.55-0.263 1.707-0.113 1.019-0.269 2.044-0.419 3.063-0.025 0.156-0.125 0.419-0.025 0.569 0.131 0.2 0.481 0.056 0.65-0.019 0.813-0.35 1.65-0.713 2.394-1.219 0.713-0.481 1.294-1.144 1.7-1.9 0.206-0.388 0.369-0.794 0.488-1.213 0.056-0.213 0.106-0.425 0.144-0.644 0.025-0.156 0.131-0.45-0.006-0.575-0.125-0.119-0.431-0.088-0.588-0.081-1.369 0.044-2.713 0.2-4.076 0.313zM15.709 17.268c-0.344 0.513-0.381 1.156-0.275 1.75 0.081 0.463 0.488 0.85 0.85 1.113 0.35 0.256 0.756 0.431 1.188 0.506 0.288 0.050 0.781 0.15 0.963-0.156 0.063-0.113 0.088-0.238 0.106-0.363 0.219-1.475 0.444-2.951 0.669-4.42 0.019-0.1 0.125-0.438 0.025-0.525-0.106-0.094-0.531 0.031-0.65 0.075-1.106 0.413-2.2 1.019-2.876 2.019zM5.295 5.972c0.6-0.244 1.225-0.488 1.882-0.506 0.819-0.031 1.638-0.019 2.457 0.056 0.469 0.006 0.825 0.431 0.906 0.869 0.069 0.325-0.125 0.625-0.263 0.906-0.1 0.213-0.363 0.15-0.55 0.169-1.982-0.013-3.963 0.006-5.945-0.013 0.038-0.163 0.069-0.344 0.194-0.469 0.4-0.375 0.794-0.806 1.319-1.013z"></path>
<path d="M3.301 10.229c0.306-0.056 0.631-0.081 0.913-0.113 1.056-0.138 2.132-0.244 3.201-0.238 1.019 0.006 2.113-0.056 3.026 0.463 1.775 1.006 0.581 3.382-0.225 4.607-0.481 0.731 0.219 1.694 0.694 2.232 0.238 0.269 0.706 0.513 0.894 0.788 0.356 0.513-0.563 1.619-0.806 2.063-0.169 0.3-0.344 0.281-0.625 0.144-0.519-0.269-1.069-0.488-1.582-0.763-0.231-0.131-0.481-0.213-0.744-0.256-0.469 1.675-0.519 3.463-0.725 5.188-0.031 0.238-0.288 3.144-0.431 3.151-0.488 0.012-0.981 0.019-1.469 0.019-0.419 0-1.019 0.106-1.425-0.012-0.463-0.138-0.356-1.006-0.288-1.35 0.25-1.181 0.475-2.369 0.706-3.563 0.2-1.056 0.588-2.238 0.506-3.319 0.019 0.281-4.632 1.281-4.92 1.363 0.144-0.463 0.288-0.931 0.431-1.394 0.1-0.325 0.081-0.806 0.281-1.094 0.194-0.275 0.65-0.388 0.963-0.494 1.094-0.369 2.119-0.694 3.144-1.232 0.775-0.406 1.532-0.863 2.163-1.482 0.438-0.431 0.963-1.2 0.881-1.857-0.2-1.513-2.694-1.119-3.669-0.988-0.219 0.031-2.588 0.369-2.588 0.375-0.006-0.519 0.325-1.232 0.619-1.644 0.244-0.369 0.644-0.519 1.075-0.594z"></path>
</symbol>
<symbol id="iconSogou" viewBox="0 0 32 32">
<path d="M22.401 30.32l1.319 1.68c2.081-0.901 3.901-2.16 5.401-3.801l-1.261-1.757c-1.48 1.719-3.3 3.039-5.44 3.879h-0.019z"></path>
<path d="M16 29.599c-7.7 0-13.94-6.159-13.94-13.8 0-7.599 6.24-13.759 13.94-13.759s13.941 6.2 13.941 13.8c0 3.4-1.261 6.521-3.343 8.92l1.26 1.681c2.543-2.803 4.141-6.523 4.141-10.601 0-8.78-7.16-15.84-16-15.84s-16 7.081-16 15.8c0 8.76 7.16 15.84 16 15.84 2.28 0 4.44-0.461 6.401-1.32l-1.281-1.68c-1.6 0.6-3.32 0.959-5.12 0.959z"></path>
<path d="M24 16.861c-3-2.48-7.12-2.801-10.401-4.741-1-0.639-0.197-1.86 0.803-1.9 3.599-0.6 7.159 0.84 10.519 2l0.201-3.54c-4.201-1.52-8.76-2.5-13.201-1.8-1.6 0.4-3.2 0.9-4.339 2.080-1.561 1.6-1.281 4.48 0.519 5.76 2.981 2.34 6.901 2.681 10.161 4.48 1.28 0.52 0.74 2.24-0.521 2.36-3.9 0.74-7.74-0.961-11.1-2.8-0.040 1.36-0.080 2.68-0.080 4 4.26 1.879 9 2.759 13.6 2.039 1.56-0.3 3.16-0.8 4.3-1.939 1.639-1.6 1.481-4.681-0.44-6h-0.020z"></path>
</symbol>
<symbol id="iconBaidu" viewBox="0 0 32 32">
<path d="M5.756 16.863c3.479-0.749 2.999-4.91 2.9-5.82-0.171-1.4-1.821-3.849-4.057-3.652-2.812 0.248-3.223 4.319-3.223 4.319-0.383 1.879 0.909 5.899 4.38 5.152zM12.214 9.877c1.919 0 3.471-2.213 3.471-4.945 0-2.719-1.546-4.932-3.466-4.932s-3.48 2.201-3.48 4.933c0 2.732 1.559 4.945 3.479 4.945zM20.491 10.205c2.573 0.347 4.215-2.399 4.548-4.479 0.333-2.066-1.333-4.479-3.146-4.892-1.826-0.421-4.079 2.498-4.305 4.399-0.24 2.333 0.333 4.652 2.892 4.981zM30.665 13.709c0-0.994-0.817-3.989-3.879-3.989-3.059 0-3.479 2.826-3.479 4.825 0 1.906 0.157 4.559 3.979 4.479 3.805-0.093 3.39-4.319 3.39-5.318zM26.8 22.421s-3.979-3.079-6.299-6.398c-3.146-4.901-7.618-2.906-9.109-0.421-1.493 2.51-3.812 4.081-4.139 4.501-0.333 0.413-4.798 2.826-3.804 7.224 1 4.399 4.479 4.319 4.479 4.319s2.559 0.253 5.545-0.413 5.545 0.16 5.545 0.16 6.94 2.333 8.861-2.146c1.898-4.492-1.080-6.811-1.080-6.811z"></path>
</symbol>
<symbol id="iconBing" viewBox="0 0 32 32">
<path d="M4.808 0l6.393 2.248v22.499l9.004-5.193-4.413-2.073-2.787-6.933 14.187 4.984v7.247l-15.987 9.223-6.396-3.56v-28.44z"></path>
</symbol>
<symbol id="iconGoogle" viewBox="0 0 32 32">
<path d="M16.319 13.713v5.487h9.075c-0.369 2.356-2.744 6.9-9.075 6.9-5.463 0-9.919-4.525-9.919-10.1s4.456-10.1 9.919-10.1c3.106 0 5.188 1.325 6.375 2.469l4.344-4.181c-2.788-2.612-6.4-4.188-10.719-4.188-8.844 0-16 7.156-16 16s7.156 16 16 16c9.231 0 15.363-6.494 15.363-15.631 0-1.050-0.113-1.85-0.25-2.65l-15.113-0.006z"></path>
</symbol>
<symbol id="iconYahoo" viewBox="0 0 32 32">
<path d="M16.038 2.175c-5.656 0-11-0.744-16.038-2.175 0 11.306 0 29.163 0 32 5.044-1.431 10.387-2.175 16.038-2.175 5.587 0 10.919 0.725 15.962 2.175 0-10.887 0-20.306 0-32-5.044 1.45-10.369 2.175-15.962 2.175zM24.9 4.906l-0.194 0.306c-0.181 0.287-0.344 0.531-0.569 0.875-0.3 0.45-0.863 1.344-1.538 2.494-0.188 0.319-0.419 0.7-0.656 1.113-0.456 0.769-0.969 1.637-1.375 2.325-0.169 0.294-0.337 0.594-0.512 0.894-0.45 0.781-0.913 1.588-1.356 2.363-0.456 0.806-0.906 1.6-1.356 2.387v0.794c0 1.1 0.025 2.3 0.063 3.369 0.019 0.488 0.038 1.356 0.063 2.275 0.025 1.094 0.050 2.225 0.081 2.8l0.006 0.175v0.019l-0.188-0.050c-0.075-0.019-0.144-0.038-0.219-0.056-0.225-0.050-0.469-0.087-0.706-0.113-0.144-0.012-0.294-0.019-0.444-0.019 0 0 0 0 0 0s0 0 0 0c-0.15 0-0.3 0.006-0.444 0.019-0.238 0.025-0.481 0.063-0.706 0.113-0.075 0.019-0.15 0.038-0.219 0.056l-0.188 0.050v-0.019l0.006-0.175c0.025-0.569 0.056-1.706 0.081-2.8 0.019-0.919 0.044-1.788 0.063-2.275 0.044-1.075 0.063-2.269 0.063-3.369v-0.794c-0.45-0.794-0.9-1.581-1.356-2.387-0.444-0.781-0.906-1.581-1.35-2.363-0.175-0.3-0.344-0.6-0.512-0.894-0.4-0.694-0.919-1.563-1.375-2.325-0.244-0.406-0.475-0.794-0.656-1.113-0.675-1.15-1.238-2.037-1.537-2.494-0.225-0.344-0.388-0.588-0.569-0.875l-0.194-0.306 0.35 0.1c0.444 0.125 0.9 0.188 1.387 0.188s0.956-0.063 1.394-0.188l0.106-0.031 0.056 0.094c0.863 1.556 3.181 5.369 4.569 7.65 0.475 0.787 0.856 1.406 1.044 1.725 0 0 0 0 0-0.006 0 0 0 0 0 0.006 0.188-0.313 0.569-0.938 1.044-1.725 1.387-2.275 3.706-6.088 4.569-7.65l0.056-0.094 0.106 0.031c0.438 0.125 0.906 0.188 1.394 0.188s0.944-0.063 1.387-0.188l0.331-0.1z"></path>
</symbol></defs></svg>
<div class="fn__none" itemscope="" itemtype="http://schema.org/Article">
    <img itemprop="image" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/1537288023455_1537340696166.jpeg">
    <p itemprop="description">[图片] 这一部分与前面的两部分不太一样，他通过实际操作来完成一个完整的案例。并且引入一些常见的设计模式，开篇介绍了薪水支付系统的初步规格说明，相当于需求分析。 对于钟点工，按照他们雇员记录中每小时报酬字段的值对他们进行支付。每天提交工作时间卡，其中记录了日期以及工作小时数。如果一天超过八小时，超过的部分会按照正常报酬 ..</p>
</div>
<header class="nav">
    <h1>
        <span class="fn__none">黑客派 Give the codes a soul.</span>
        <a href="https://hacpai.com/">
            <svg>
                <use xlink:href="#iconLogo"></use>
            </svg>
        </a>
    </h1>
    <nav class="nav-tabs">
        <a href="https://hacpai.com/" class="nav__item">
            <svg>
                <use xlink:href="#iconHome"></use>
            </svg> 首页</a>
                <a href="https://hacpai.com/domain/play" class="nav__item">
                    <svg>
                        <use xlink:href="#iconDomain"></use>
                    </svg> 领域</a>

        <a href="https://hacpai.com/qna" class="nav__item">
            <svg>
                <use xlink:href="#iconAsk"></use>
            </svg> 问答</a>
        <a href="https://hacpai.com/chainbook" class="nav__item">
            <svg>
                <use xlink:href="#iconChainBook"></use>
            </svg> 链书</a>
        <a href="https://hacpai.com/top" class="nav__item">
            <svg>
                <use xlink:href="#iconTop"></use>
            </svg> 榜单</a>
        <a href="https://hacpai.com/recent" class="nav__item">
            <svg>
                <use xlink:href="#refresh"></use>
            </svg> 最新</a>
    </nav>
    <form action="https://www.google.com/search" method="get" target="_blank" class="quick-search">
        <input class="quickSearchInput input" type="text" name="q" placeholder="Search HacPai via Google" required="required">
        <input name="sitesearch" type="hidden" value="https://hacpai.com">
        <input type="submit" value="" class="fn__none">
    </form>
    <div class="user-nav">
            <span id="navLogin" class="nav__item fn__left commonGoLogin">登录</span>
            <span id="navRegister" class="nav__item fn__left commonGoRegister">注册</span>
    </div>
</header>
<div class="article__wrapper article__body" style="height: auto !important;">

<nav class="breadcrumb">
                <a href="https://hacpai.com/">首页</a>
            
            <span class="fn__space5"></span>&gt;<span class="fn__space5"></span>
                <a href="https://hacpai.com/tags">标签</a>
            
            <span class="fn__space5"></span>&gt;<span class="fn__space5"></span>
                <a class="ft-a-title" href="https://hacpai.com/tag/reading">阅读</a>
            
</nav>

    <div class="fn__flex">
        <h2 class="article-title fn__flex-1" itemprop="name">
            <a href="https://hacpai.com/article/1554268298675" rel="nofollow">
                [阅读] 敏捷软件开发 —— 薪水支付案例研究（一）
            </a>
        </h2>
        <div class="article__info fn__flex-inline">
                <div class="tooltipped__n tooltipped info__item" aria-label="语音预览">
                    <div id="articleAudio" data-url="https://img.hacpai.com/audio/article/1554268298675.mp3" data-author="lizhongyue248">
                        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 16 31">
                            <path d="M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z"></path>
                        </svg>
                    </div>
                </div>
                <a href="https://hacpai.com/forward?goto=https%3A%2F%2Fechocow.cn%2Farticles%2F2019%2F04%2F03%2F1554263896709.html" aria-label="Blog 源" class="tooltipped tooltipped__n info__item" target="_blank" rel="nofollow"><img width="24" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/b3log.png"></a>
                <a href="https://hacpai.com/forward?goto=http%3A%2F%2F127.0.0.1%3A8080%2Fipfs%2FQmXVZUmBNYDVgX6onEVsMtaqXgtNqnG1frxD4ciksUpqtQ" rel="nofollow" target="_blank" aria-label="IPFS" class="tooltipped tooltipped__n info__item">
                    <svg>
                        <use xlink:href="#iconIpfs"></use>
                    </svg>
                </a>
                <a class="ft__original7 tooltipped tooltipped__n info__item" href="https://hacpai.com/article/1544941500253" target="_blank" aria-label="原创指数 70">
                    <svg>
                        <use xlink:href="#iconOriginal"></use>
                    </svg>
                </a>
        </div>
    </div>

        <div class="ft-fade">
            本贴最后更新于 <b>244</b> 天前，其中的信息可能已经时移俗易
        </div>
        <article class="vditor-reset article-content" data-link="https://hacpai.com/article/1554268298675" data-author="lizhongyue248">
            <p><span class="vditor-reset__preview"><img src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/20180314.jpg" alt="" style="background-image: none; background-color: transparent;"><div class="fn__flex-inline">
<svg><use xlink:href="#iconPhoto"></use></svg>
<span class="fn__space5"></span>738 x 415<span class="fn__space5"></span><span class="fn__space5"></span>
<svg><use xlink:href="#iconPhotoActual"></use></svg>
<span class="fn__space5"></span>960 x 540</div></span></p><p><!-- 黑客派PC帖子内嵌 -->
<script async="" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/f(2).txt"></script>
<ins class="adsbygoogle" style="display: block; height: 280px;" data-ad-client="ca-pub-5357405790190342" data-ad-slot="8316640078" data-ad-format="auto" data-full-width-responsive="true" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:738px;background-color:transparent;"><ins id="aswift_0_anchor" style="display:block;border:none;height:280px;margin:0;padding:0;position:relative;visibility:visible;width:738px;background-color:transparent;"><iframe width="738" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left: 0px; position: absolute; top: 0px; border: 0px; width: 738px; height: 280px; overflow: visible;" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/saved_resource.html"></iframe></ins></ins></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p> 
<p>这一部分与前面的两部分不太一样，他通过实际操作来完成一个完整的案例。并且引入一些常见的设计模式，开篇介绍了薪水支付系统的初步规格说明，相当于需求分析。</p> 
<ul> 
 <li>对于钟点工，按照他们雇员记录中<strong>每小时报酬字段</strong>的值对他们进行支付。每天提交工作时间卡，其中记录了<strong>日期以及工作小时数</strong>。如果一天超过八小时，超过的部分会按照<strong>正常报酬的 1.5 倍</strong>进行支付，<strong>每周五</strong>对他们进交付。</li> 
 <li>有些雇员完全以<strong>月薪</strong>进行交付。<strong>每个月的最后一个工作日</strong>对他们进行交付，在他们的雇员记录中有一个<strong>月薪字段</strong>。</li> 
 <li>带薪雇员，根据销售情况，支付<strong>一定量的酬金</strong>。他们会提交销售凭条，其中记录了<strong>销售的日期</strong>和<strong>数量</strong>，在他们的雇员记录中有一个<strong>酬金字段</strong>。<strong>每隔一周的周五</strong>对他们进行交付。</li> 
 <li>加入协会的雇员，有一个<strong>每周应付款项字段</strong>。将会从他们<strong>薪水中扣除</strong>。协会有时也会<strong>针对单个协会成员征收服务费用</strong>。协会每周会提交这些<strong>服务费用</strong>，服务费用必须要从<strong>相应雇员的下个月的薪水总额中扣除</strong>。</li> 
 <li>应用程序<strong>每个工作日运行一次</strong>，并在<strong>当天</strong>为相应的雇员进行交付，系统会被告知雇员的<strong>支付日期</strong>，这样他会计算从雇员<strong>上次支付日期到规定的本次支付日期间应支付的数额</strong>。</li> 
</ul> 
<h2 id="toc_h2_0">COMMAND 模式和 ACTIVE OBJECT 模式</h2> 
<blockquote> 
 <p>没有人天生就具有命令他人的权利。</p> 
</blockquote> 
<p>先从简单的入手，COMMAND 模式是最简单、最优雅但同时也是适用性最广的设计模式。</p> 
<h3 id="toc_h3_1">COMMAND 模式</h3> 
<p>他非常简单，看一下下面的接口</p> 
<pre><div class="vditor-copy"><textarea>public interface Command {
    //　书中为　do()，但是　do　是　java　的关键字，无法作为函数名
    public void execute();
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-kd">public</span> <span class="highlight-kd">interface</span> <span class="highlight-nc">Command</span> <span class="highlight-o">{</span>
    <span class="highlight-c1">//　书中为　do()，但是　do　是　java　的关键字，无法作为函数名
</span><span class="highlight-c1"></span>    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">execute</span><span class="highlight-o">();</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>正如看到的一样，他只是封装了一个没有任何变量的函数。从严格的面向对象的意义上来说，这种做法是被强烈反对的————因为他具有功能分解的味道，他把函数层面的任务提升到了类的层面。然而这正是他有趣的地方。</p> 
<p>作者举了一个<em>复印机软件的例子</em>，其中通过对依稀的一些的简单的 command　的封装。解除了系统的逻辑互联关系和实际链接的设备之间的耦合。</p> 
<p>另外一个例子是<strong>创建和执行事务操作</strong>，例如在对数据库进行操作之前，对数据进行 validate 操作。他很好的解除了从用户获取数据代码、验证并操作数据的代码以及业务对象本身之间的耦合关系。</p> 
<p>第三个例子是<em>回退</em>，可以对某个命令进行撤销操作。</p> 
<h3 id="toc_h3_2">ACTIVE OBJECT 模式</h3> 
<p>他是实现多线程的一项古老的技术，他可以自动完成动作或改变状态，隔离了方法执行和方法调用的过程，提高了并行性，对内部拥有控制线程的主动对象，降低了异步访问的复杂性。</p> 
<p>我们需要一个例子，看看以下的代码：</p> 
<pre><div class="vditor-copy"><textarea>public interface Command {
    /**
     * 执行
     */
    public void execute();
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-kd">public</span> <span class="highlight-kd">interface</span> <span class="highlight-nc">Command</span> <span class="highlight-o">{</span>
    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 执行
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">execute</span><span class="highlight-o">();</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>建立一个<code>ActiveObjectEngine</code></p> 
<pre><div class="vditor-copy"><textarea>/**
 * 维护一个 Command 对象的链表
 *
 * @author echo
 */
public class ActiveObjectEngine {
    private LinkedList&lt;Command&gt; itsCommands = new LinkedList&lt;&gt;();

    /**
     * 添加命令
     *
     * @param command 命令
     */
    public void addCommand(Command command) {
        itsCommands.add(command);
    }

    /**
     * 遍历链表，执行并去除每个命令
     */
    public void run() {
        while (!itsCommands.isEmpty()){
            Command command = itsCommands.getFirst();
            itsCommands.removeFirst();
            command.execute();
        }
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * 维护一个 Command 对象的链表
</span><span class="highlight-cm"> *
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">ActiveObjectEngine</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">LinkedList</span><span class="highlight-o">&lt;</span><span class="highlight-n">Command</span><span class="highlight-o">&gt;</span> <span class="highlight-n">itsCommands</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">LinkedList</span><span class="highlight-o">&lt;&gt;();</span>

    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 添加命令
</span><span class="highlight-cm">     *
</span><span class="highlight-cm">     * @param command 命令
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">addCommand</span><span class="highlight-o">(</span><span class="highlight-n">Command</span> <span class="highlight-n">command</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">itsCommands</span><span class="highlight-o">.</span><span class="highlight-na">add</span><span class="highlight-o">(</span><span class="highlight-n">command</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>

    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 遍历链表，执行并去除每个命令
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(!</span><span class="highlight-n">itsCommands</span><span class="highlight-o">.</span><span class="highlight-na">isEmpty</span><span class="highlight-o">()){</span>
            <span class="highlight-n">Command</span> <span class="highlight-n">command</span> <span class="highlight-o">=</span> <span class="highlight-n">itsCommands</span><span class="highlight-o">.</span><span class="highlight-na">getFirst</span><span class="highlight-o">();</span>
            <span class="highlight-n">itsCommands</span><span class="highlight-o">.</span><span class="highlight-na">removeFirst</span><span class="highlight-o">();</span>
            <span class="highlight-n">command</span><span class="highlight-o">.</span><span class="highlight-na">execute</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>以及一个实现</p> 
<pre><div class="vditor-copy"><textarea>/**
 * sleep 命令
 * 等待指定数目的毫秒，然后执行 wakeup 命令
 *
 * @author echo
 */
public class SleepCommand implements Command {
    private Command wakeupCommand;
    private ActiveObjectEngine engine;
    private long sleepTime;
    private long startTime = 0;
    private boolean started = false;

    public SleepCommand(int milliseconds, ActiveObjectEngine engine, Command wakeupCommand) {
        this.sleepTime = milliseconds;
        this.engine = engine;
        this.wakeupCommand = wakeupCommand;
    }

    /**
     * 执行时，检查自己是以前是已经执行过
     * 如果没有，记录下开始时间
     * 如果没有过延迟时间，就把自己再加到 ActiveObjectEngine 中
     * 如果过了延迟时间，就把 wakeup 命令对象加到 ActiveObjectEngine 中
     */
    @Override
    public void execute() {
        long currentTime = System.currentTimeMillis();
        if (!started) {
            // 未开始时
            started = true;
            startTime = currentTime;
            engine.addCommand(this);
        } else if ((currentTime - startTime) &lt; sleepTime) {
            // 没有过延迟时间
            engine.addCommand(this);
        } else {
            // 过了延迟时间,添加 -&gt; 执行
            engine.addCommand(wakeupCommand);
        }
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * sleep 命令
</span><span class="highlight-cm"> * 等待指定数目的毫秒，然后执行 wakeup 命令
</span><span class="highlight-cm"> *
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">SleepCommand</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Command</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">Command</span> <span class="highlight-n">wakeupCommand</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">ActiveObjectEngine</span> <span class="highlight-n">engine</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">long</span> <span class="highlight-n">sleepTime</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">long</span> <span class="highlight-n">startTime</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">boolean</span> <span class="highlight-n">started</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">SleepCommand</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">milliseconds</span><span class="highlight-o">,</span> <span class="highlight-n">ActiveObjectEngine</span> <span class="highlight-n">engine</span><span class="highlight-o">,</span> <span class="highlight-n">Command</span> <span class="highlight-n">wakeupCommand</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">sleepTime</span> <span class="highlight-o">=</span> <span class="highlight-n">milliseconds</span><span class="highlight-o">;</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">engine</span> <span class="highlight-o">=</span> <span class="highlight-n">engine</span><span class="highlight-o">;</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">wakeupCommand</span> <span class="highlight-o">=</span> <span class="highlight-n">wakeupCommand</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 执行时，检查自己是以前是已经执行过
</span><span class="highlight-cm">     * 如果没有，记录下开始时间
</span><span class="highlight-cm">     * 如果没有过延迟时间，就把自己再加到 ActiveObjectEngine 中
</span><span class="highlight-cm">     * 如果过了延迟时间，就把 wakeup 命令对象加到 ActiveObjectEngine 中
</span><span class="highlight-cm">     */</span>
    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">execute</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">long</span> <span class="highlight-n">currentTime</span> <span class="highlight-o">=</span> <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">currentTimeMillis</span><span class="highlight-o">();</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(!</span><span class="highlight-n">started</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-c1">// 未开始时
</span><span class="highlight-c1"></span>            <span class="highlight-n">started</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
            <span class="highlight-n">startTime</span> <span class="highlight-o">=</span> <span class="highlight-n">currentTime</span><span class="highlight-o">;</span>
            <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span> <span class="highlight-k">else</span> <span class="highlight-k">if</span> <span class="highlight-o">((</span><span class="highlight-n">currentTime</span> <span class="highlight-o">-</span> <span class="highlight-n">startTime</span><span class="highlight-o">)</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">sleepTime</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-c1">// 没有过延迟时间
</span><span class="highlight-c1"></span>            <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">this</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span> <span class="highlight-k">else</span> <span class="highlight-o">{</span>
            <span class="highlight-c1">// 过了延迟时间,添加 -&gt; 执行
</span><span class="highlight-c1"></span>            <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-n">wakeupCommand</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>然后一个测试</p> 
<pre><div class="vditor-copy"><textarea>class TestSleepCommand {
    private boolean commandExecuted = false;

    @Test
    void testSleep() {
        Command wakeup = () -&gt; commandExecuted = true;
        ActiveObjectEngine activeObjectEngine = new ActiveObjectEngine();
        SleepCommand sleepCommand = new SleepCommand(1000, activeObjectEngine, wakeup);
        activeObjectEngine.addCommand(sleepCommand);
        long start = System.currentTimeMillis();
        activeObjectEngine.run();
        long stop = System.currentTimeMillis();
        long sleepTime = stop - start;
        assertTrue(commandExecuted, "Command executed!");
        System.out.println("SleepTime " + sleepTime);
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-kd">class</span> <span class="highlight-nc">TestSleepCommand</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">boolean</span> <span class="highlight-n">commandExecuted</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>

    <span class="highlight-nd">@Test</span>
    <span class="highlight-kt">void</span> <span class="highlight-nf">testSleep</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Command</span> <span class="highlight-n">wakeup</span> <span class="highlight-o">=</span> <span class="highlight-o">()</span> <span class="highlight-o">-&gt;</span> <span class="highlight-n">commandExecuted</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
        <span class="highlight-n">ActiveObjectEngine</span> <span class="highlight-n">activeObjectEngine</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ActiveObjectEngine</span><span class="highlight-o">();</span>
        <span class="highlight-n">SleepCommand</span> <span class="highlight-n">sleepCommand</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">SleepCommand</span><span class="highlight-o">(</span><span class="highlight-n">1000</span><span class="highlight-o">,</span> <span class="highlight-n">activeObjectEngine</span><span class="highlight-o">,</span> <span class="highlight-n">wakeup</span><span class="highlight-o">);</span>
        <span class="highlight-n">activeObjectEngine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-n">sleepCommand</span><span class="highlight-o">);</span>
        <span class="highlight-kt">long</span> <span class="highlight-n">start</span> <span class="highlight-o">=</span> <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">currentTimeMillis</span><span class="highlight-o">();</span>
        <span class="highlight-n">activeObjectEngine</span><span class="highlight-o">.</span><span class="highlight-na">run</span><span class="highlight-o">();</span>
        <span class="highlight-kt">long</span> <span class="highlight-n">stop</span> <span class="highlight-o">=</span> <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">currentTimeMillis</span><span class="highlight-o">();</span>
        <span class="highlight-kt">long</span> <span class="highlight-n">sleepTime</span> <span class="highlight-o">=</span> <span class="highlight-n">stop</span> <span class="highlight-o">-</span> <span class="highlight-n">start</span><span class="highlight-o">;</span>
        <span class="highlight-n">assertTrue</span><span class="highlight-o">(</span><span class="highlight-n">commandExecuted</span><span class="highlight-o">,</span> <span class="highlight-s">"Command executed!"</span><span class="highlight-o">);</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"SleepTime "</span> <span class="highlight-o">+</span> <span class="highlight-n">sleepTime</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>具体的已经添加注释，在处理事件的时候，他不进行阻塞，常常在不符合执行条件的时候，他就把自己再次放回到 <code>ActiveObjectEngine</code> 之中。</p> 
<p>采用该技术的变体去构建多线程系统已经是很常见的实践，这种类型的线程被称为 run-to-completion （RTC），意味着 command 不会阻塞。</p> 
<p>我们来模拟一个例子</p> 
<pre><div class="vditor-copy"><textarea>public class DelayedTyper implements Command {
    private int itsDelay;
    private char itsChar;
    private static ActiveObjectEngine engine = new ActiveObjectEngine();
    private static boolean stop = false;

    public DelayedTyper(int delay, char c) {
        itsDelay = delay;
        itsChar = c;
    }

    public static void main(String[] args) {
        // 进行循环
        engine.addCommand(new DelayedTyper(100, '1'));
        engine.addCommand(new DelayedTyper(300, '3'));
        engine.addCommand(new DelayedTyper(500, '5'));
        engine.addCommand(new DelayedTyper(700, '7'));
        // 设置 stop，停止循环
        Command startCommand = () -&gt; stop = true;
        // 最后一个命令
        engine.addCommand(new SleepCommand(20000, engine, startCommand));
        engine.run();
    }

    /**
     * 打印在构造时传入的字符
     */
    @Override
    public void execute() {
        System.out.print(itsChar);
        if (!stop) {
            delayAndRepeat();
        }
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;">
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">DelayedTyper</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Command</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">itsDelay</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">char</span> <span class="highlight-n">itsChar</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kd">static</span> <span class="highlight-n">ActiveObjectEngine</span> <span class="highlight-n">engine</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">ActiveObjectEngine</span><span class="highlight-o">();</span>
    <span class="highlight-kd">private</span> <span class="highlight-kd">static</span> <span class="highlight-kt">boolean</span> <span class="highlight-n">stop</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">DelayedTyper</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">delay</span><span class="highlight-o">,</span> <span class="highlight-kt">char</span> <span class="highlight-n">c</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">itsDelay</span> <span class="highlight-o">=</span> <span class="highlight-n">delay</span><span class="highlight-o">;</span>
        <span class="highlight-n">itsChar</span> <span class="highlight-o">=</span> <span class="highlight-n">c</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">// 进行循环
</span><span class="highlight-c1"></span>        <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">DelayedTyper</span><span class="highlight-o">(</span><span class="highlight-n">100</span><span class="highlight-o">,</span> <span class="highlight-sc">'1'</span><span class="highlight-o">));</span>
        <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">DelayedTyper</span><span class="highlight-o">(</span><span class="highlight-n">300</span><span class="highlight-o">,</span> <span class="highlight-sc">'3'</span><span class="highlight-o">));</span>
        <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">DelayedTyper</span><span class="highlight-o">(</span><span class="highlight-n">500</span><span class="highlight-o">,</span> <span class="highlight-sc">'5'</span><span class="highlight-o">));</span>
        <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">DelayedTyper</span><span class="highlight-o">(</span><span class="highlight-n">700</span><span class="highlight-o">,</span> <span class="highlight-sc">'7'</span><span class="highlight-o">));</span>
        <span class="highlight-c1">// 设置 stop，停止循环
</span><span class="highlight-c1"></span>        <span class="highlight-n">Command</span> <span class="highlight-n">startCommand</span> <span class="highlight-o">=</span> <span class="highlight-o">()</span> <span class="highlight-o">-&gt;</span> <span class="highlight-n">stop</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
        <span class="highlight-c1">// 最后一个命令
</span><span class="highlight-c1"></span>        <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">addCommand</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">SleepCommand</span><span class="highlight-o">(</span><span class="highlight-n">20000</span><span class="highlight-o">,</span> <span class="highlight-n">engine</span><span class="highlight-o">,</span> <span class="highlight-n">startCommand</span><span class="highlight-o">));</span>
        <span class="highlight-n">engine</span><span class="highlight-o">.</span><span class="highlight-na">run</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>

    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 打印在构造时传入的字符
</span><span class="highlight-cm">     */</span>
    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">execute</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">print</span><span class="highlight-o">(</span><span class="highlight-n">itsChar</span><span class="highlight-o">);</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(!</span><span class="highlight-n">stop</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">delayAndRepeat</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>COMMAND 模式的简单性掩盖了他的多功能性，但是它可能是不符合面向对象的思维范式的，因为他对函数的关注查过了类，但是在实际开发中，他确实是非常有用的。</p> 
<h2 id="toc_h2_3">TEMPLATE METHOD 模式和 STRATEGY 模式：继承与委托</h2> 
<blockquote> 
 <p>业精于勤</p> 
</blockquote> 
<p>“业精于勤，荒于嬉；行成于思，毁于随。”一本外国的书引入了我们中国的《进学解》，让人意外。这句话很好理解，学业由于勤奋而专精，由于玩乐而荒废；德行由于独立思考而有所成就，由于因循随俗而败坏。在软件开发中，使用继承我们可以基于差异编程，通过集成可以建立完整的软件结构分类。</p> 
<p>但是继承的过度使用是非常糟糕的，代价十分昂贵</p> 
<blockquote> 
 <p>优先使用对象组合而不是类继承</p> 
</blockquote> 
<h3 id="toc_h3_4">TEMPLATE METHOD 模式</h3> 
<h4 id="toc_h4_5">华氏度转摄氏度</h4> 
<p>他是通过继承来解决问题。现在我们有一个程序如下：</p> 
<pre><div class="vditor-copy"><textarea>/**
 * 输入华氏度转化为摄氏度
 * 
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:01
 */
public class Ftocraw {
    public static void main(String[] args) throws Exception {
        // 初始化流
        InputStreamReader isr = new InputStreamReader(System.in);
        BufferedReader br = new BufferedReader(isr);
        boolean done = false;
        // 主循环中完成工作
        while (!done) {
            String fabrString = br.readLine();
            if (fabrString == null || fabrString.length() == 0) {
                done = true;
            } else {
                double fahr = Double.parseDouble(fabrString);
                double celcius = 5.0 / 9.0 * (fahr - 32);
                System.out.println("F=" + fahr + ", C=" + celcius);
            }
        }
        System.out.println("ftoc exit!");
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * 输入华氏度转化为摄氏度
</span><span class="highlight-cm"> * 
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:01
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Ftocraw</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-kd">throws</span> <span class="highlight-n">Exception</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">// 初始化流
</span><span class="highlight-c1"></span>        <span class="highlight-n">InputStreamReader</span> <span class="highlight-n">isr</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">InputStreamReader</span><span class="highlight-o">(</span><span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">in</span><span class="highlight-o">);</span>
        <span class="highlight-n">BufferedReader</span> <span class="highlight-n">br</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">BufferedReader</span><span class="highlight-o">(</span><span class="highlight-n">isr</span><span class="highlight-o">);</span>
        <span class="highlight-kt">boolean</span> <span class="highlight-n">done</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
        <span class="highlight-c1">// 主循环中完成工作
</span><span class="highlight-c1"></span>        <span class="highlight-k">while</span> <span class="highlight-o">(!</span><span class="highlight-n">done</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">String</span> <span class="highlight-n">fabrString</span> <span class="highlight-o">=</span> <span class="highlight-n">br</span><span class="highlight-o">.</span><span class="highlight-na">readLine</span><span class="highlight-o">();</span>
            <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">fabrString</span> <span class="highlight-o">==</span> <span class="highlight-kc">null</span> <span class="highlight-o">||</span> <span class="highlight-n">fabrString</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">()</span> <span class="highlight-o">==</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">done</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
            <span class="highlight-o">}</span> <span class="highlight-k">else</span> <span class="highlight-o">{</span>
                <span class="highlight-kt">double</span> <span class="highlight-n">fahr</span> <span class="highlight-o">=</span> <span class="highlight-n">Double</span><span class="highlight-o">.</span><span class="highlight-na">parseDouble</span><span class="highlight-o">(</span><span class="highlight-n">fabrString</span><span class="highlight-o">);</span>
                <span class="highlight-kt">double</span> <span class="highlight-n">celcius</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span><span class="highlight-o">.</span><span class="highlight-na">0</span> <span class="highlight-o">/</span> <span class="highlight-n">9</span><span class="highlight-o">.</span><span class="highlight-na">0</span> <span class="highlight-o">*</span> <span class="highlight-o">(</span><span class="highlight-n">fahr</span> <span class="highlight-o">-</span> <span class="highlight-n">32</span><span class="highlight-o">);</span>
                <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"F="</span> <span class="highlight-o">+</span> <span class="highlight-n">fahr</span> <span class="highlight-o">+</span> <span class="highlight-s">", C="</span> <span class="highlight-o">+</span> <span class="highlight-n">celcius</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"ftoc exit!"</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>他是一个简单且正常运行的主循环结构。我们可以应用 TEMPLATE METHOD 模式把这个基本结构从 <code>floc</code> 程序中分离出来。</p> 
<p><strong>我们把所有的通用代码放入一个抽象基类的实现方法中，这个实现方法完成这个通用算法，但是将所有的实现细节都交付给该积累的抽象方法，修改后的如下：</strong></p> 
<pre><div class="vditor-copy"><textarea>/**
 * 描绘了一个通用的主循环应用程序
 * 
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:10
 */
public abstract class Application {
    private boolean isDone = false;
    protected abstract void init();
    protected abstract void idle();
    protected abstract void cleanup();

    public void run() {
        // 初始化
        init();
        // 执行
        while (!done()) {
            idle();
        }
        // 清除
        cleanup();
    }
    
    protected boolean done() {
        return isDone;
    }

    protected void setDone(boolean done) {
        isDone = done;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;">
<span class="highlight-cm">/**
</span><span class="highlight-cm"> * 描绘了一个通用的主循环应用程序
</span><span class="highlight-cm"> * 
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:10
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">abstract</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Application</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">boolean</span> <span class="highlight-n">isDone</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kd">abstract</span> <span class="highlight-kt">void</span> <span class="highlight-nf">init</span><span class="highlight-o">();</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kd">abstract</span> <span class="highlight-kt">void</span> <span class="highlight-nf">idle</span><span class="highlight-o">();</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kd">abstract</span> <span class="highlight-kt">void</span> <span class="highlight-nf">cleanup</span><span class="highlight-o">();</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">// 初始化
</span><span class="highlight-c1"></span>        <span class="highlight-n">init</span><span class="highlight-o">();</span>
        <span class="highlight-c1">// 执行
</span><span class="highlight-c1"></span>        <span class="highlight-k">while</span> <span class="highlight-o">(!</span><span class="highlight-n">done</span><span class="highlight-o">())</span> <span class="highlight-o">{</span>
            <span class="highlight-n">idle</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
        <span class="highlight-c1">// 清除
</span><span class="highlight-c1"></span>        <span class="highlight-n">cleanup</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
    
    <span class="highlight-kd">protected</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">done</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">isDone</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">protected</span> <span class="highlight-kt">void</span> <span class="highlight-nf">setDone</span><span class="highlight-o">(</span><span class="highlight-kt">boolean</span> <span class="highlight-n">done</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">isDone</span> <span class="highlight-o">=</span> <span class="highlight-n">done</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>现在，我们可以通过继承 <code>Application</code> 来重写 <code>floc</code> 类，只需要实现抽象方法即可，修改后的如下：</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:15
 */
public class FtocTemplateMethod extends Application {
    private InputStreamReader inputStreamReader;
    private BufferedReader bufferedReader;

    public static void main(String[] args) {
        new FtocTemplateMethod().run();
    }

    @Override
    protected void init() {
        inputStreamReader = new InputStreamReader(System.in);
        bufferedReader = new BufferedReader(inputStreamReader);
    }

    @Override
    protected void idle() {
        String fahrString = readLineAndReturnNullIfError();
        if (fahrString == null || fahrString.length() == 0) {
            setDone();
        } else {
            double fahr = Double.parseDouble(fahrString);
            double celcius = 5.0 / 9.0 * (fahr - 32);
            System.out.println("F=" + fahr + ", C=" + celcius);
        }
    }
    
    /**
     * 异常处理
     * 
     * @return 读取结果
     */
    private String readLineAndReturnNullIfError() {
        String s;
        try {
            s = bufferedReader.readLine();
        } catch (IOException e) {
            e.printStackTrace();
            s = null;
        }
        return s;
    }

    @Override
    protected void cleanup() {
        System.out.println("ftoc exit!");
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:15
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">FtocTemplateMethod</span> <span class="highlight-kd">extends</span> <span class="highlight-n">Application</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">InputStreamReader</span> <span class="highlight-n">inputStreamReader</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">BufferedReader</span> <span class="highlight-n">bufferedReader</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">new</span> <span class="highlight-n">FtocTemplateMethod</span><span class="highlight-o">().</span><span class="highlight-na">run</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">void</span> <span class="highlight-nf">init</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">inputStreamReader</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">InputStreamReader</span><span class="highlight-o">(</span><span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">in</span><span class="highlight-o">);</span>
        <span class="highlight-n">bufferedReader</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">BufferedReader</span><span class="highlight-o">(</span><span class="highlight-n">inputStreamReader</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">void</span> <span class="highlight-nf">idle</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">String</span> <span class="highlight-n">fahrString</span> <span class="highlight-o">=</span> <span class="highlight-n">readLineAndReturnNullIfError</span><span class="highlight-o">();</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">fahrString</span> <span class="highlight-o">==</span> <span class="highlight-kc">null</span> <span class="highlight-o">||</span> <span class="highlight-n">fahrString</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">()</span> <span class="highlight-o">==</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">setDone</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span> <span class="highlight-k">else</span> <span class="highlight-o">{</span>
            <span class="highlight-kt">double</span> <span class="highlight-n">fahr</span> <span class="highlight-o">=</span> <span class="highlight-n">Double</span><span class="highlight-o">.</span><span class="highlight-na">parseDouble</span><span class="highlight-o">(</span><span class="highlight-n">fahrString</span><span class="highlight-o">);</span>
            <span class="highlight-kt">double</span> <span class="highlight-n">celcius</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span><span class="highlight-o">.</span><span class="highlight-na">0</span> <span class="highlight-o">/</span> <span class="highlight-n">9</span><span class="highlight-o">.</span><span class="highlight-na">0</span> <span class="highlight-o">*</span> <span class="highlight-o">(</span><span class="highlight-n">fahr</span> <span class="highlight-o">-</span> <span class="highlight-n">32</span><span class="highlight-o">);</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"F="</span> <span class="highlight-o">+</span> <span class="highlight-n">fahr</span> <span class="highlight-o">+</span> <span class="highlight-s">", C="</span> <span class="highlight-o">+</span> <span class="highlight-n">celcius</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
    
    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 异常处理
</span><span class="highlight-cm">     * 
</span><span class="highlight-cm">     * @return 读取结果
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">String</span> <span class="highlight-nf">readLineAndReturnNullIfError</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">String</span> <span class="highlight-n">s</span><span class="highlight-o">;</span>
        <span class="highlight-k">try</span> <span class="highlight-o">{</span>
            <span class="highlight-n">s</span> <span class="highlight-o">=</span> <span class="highlight-n">bufferedReader</span><span class="highlight-o">.</span><span class="highlight-na">readLine</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">IOException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
            <span class="highlight-n">s</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">s</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">void</span> <span class="highlight-nf">cleanup</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"ftoc exit!"</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>这就是 TEMPLATE METHOD 模式的一个简单应用。在这个特定的简单的程序中，我们很容易理解。但是我们真的需要这样吗？<strong>其实，上面的这个是一个滥用模式的好礼自，在这个特定程序中，使用 TEMPLATE METHOD 模式是荒谬的，他使得程序变得复杂庞大，他的意义不大，因为俄他的代价高于他所带来的好处。</strong></p> 
<h4 id="toc_h4_6">冒泡排序</h4> 
<p>设计模式是很好的东西，但是并不意味着必须要经常使用它们，下面我们看一个设计模式稍微有用些的例子。</p> 
<pre><div class="vditor-copy"><textarea>/**
 * 冒泡排序
 *
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:29
 */
public class BubbleSorter {
    static int operations = 0;

    public static int sort(int[] array) {
        operations = 0;
        if (array.length &lt;= 1) {
            return operations;
        }
        for (int nextToLast = array.length - 2; nextToLast &gt;= 0; nextToLast--) {
            for (int index = 0; index &lt;= nextToLast; index++) {
                compareAndSwap(array, index);
            }
        }
        return operations;
    }

    private static void compareAndSwap(int[] array, int index) {
        if (array[index] &gt; array[index + 1]) {
            swap(array, index);
        }
        operations++;
    }

    private static void swap(int[] array, int index) {
        int tmp = array[index];
        array[index] = array[index + 1];
        array[index + 1] = tmp;
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * 冒泡排序
</span><span class="highlight-cm"> *
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:29
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">BubbleSorter</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">static</span> <span class="highlight-kt">int</span> <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">int</span> <span class="highlight-nf">sort</span><span class="highlight-o">(</span><span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">array</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">.</span><span class="highlight-na">length</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">1</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">.</span><span class="highlight-na">length</span> <span class="highlight-o">-</span> <span class="highlight-n">2</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">&gt;=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">--)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">index</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">;</span> <span class="highlight-n">index</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
                <span class="highlight-n">compareAndSwap</span><span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">,</span> <span class="highlight-n">index</span><span class="highlight-o">);</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">private</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">compareAndSwap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">array</span><span class="highlight-o">,</span> <span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">])</span> <span class="highlight-o">{</span>
            <span class="highlight-n">swap</span><span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">,</span> <span class="highlight-n">index</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
        <span class="highlight-n">operations</span><span class="highlight-o">++;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">private</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">swap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">array</span><span class="highlight-o">,</span> <span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">tmp</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">tmp</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>这是一个非常普通的冒泡排序算法，现在我们使用 TEMPLATE METHOD 模式，把冒泡排序算法分离出来，放到一个抽象类中，如下：</p> 
<pre><div class="vditor-copy"><textarea>/**
 * 抽象
 * 
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:35
 */
public abstract class BubbleSorterAbstract {
    private int operations = 0;
    protected int length = 0;

    protected int doSort() {
        operations = 0;
        if (length &lt;= 1) {
            return operations;
        }
        for (int nextToLast = length - 2; nextToLast &gt;= 0; nextToLast--) {
            for (int index = 0; index &lt;= nextToLast; index++) {
                if (outOfOrder(index)) {
                    swap(index);
                }
                operations++;
            }
        }
        return operations;
    }

    protected abstract void swap(int index);
    protected abstract boolean outOfOrder(int index);
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;">
<span class="highlight-cm">/**
</span><span class="highlight-cm"> * 抽象
</span><span class="highlight-cm"> * 
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:35
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">abstract</span> <span class="highlight-kd">class</span> <span class="highlight-nc">BubbleSorterAbstract</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">int</span> <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>

    <span class="highlight-kd">protected</span> <span class="highlight-kt">int</span> <span class="highlight-nf">doSort</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">length</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">1</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">=</span> <span class="highlight-n">length</span> <span class="highlight-o">-</span> <span class="highlight-n">2</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">&gt;=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">--)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">index</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">;</span> <span class="highlight-n">index</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
                <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-n">index</span><span class="highlight-o">))</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">swap</span><span class="highlight-o">(</span><span class="highlight-n">index</span><span class="highlight-o">);</span>
                <span class="highlight-o">}</span>
                <span class="highlight-n">operations</span><span class="highlight-o">++;</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">protected</span> <span class="highlight-kd">abstract</span> <span class="highlight-kt">void</span> <span class="highlight-nf">swap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">);</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kd">abstract</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">);</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>通过继承这个类，就可以完成一些变化的排序如下：</p> 
<pre><div class="vditor-copy"><textarea>/**
 * int 类型冒泡排序
 *
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:39
 */
public class IntBubbleSorter extends BubbleSorterAbstract {
    private int[] array = null;

    public int sort(int[] theArray) {
        array = theArray;
        length = array.length;
        return doSort();
    }

    @Override
    protected void swap(int index) {
        int tmp = array[index];
        array[index] = array[index + 1];
        array[index + 1] = tmp;
    }

    @Override
    protected boolean outOfOrder(int index) {
        return array[index] &gt; array[index+1];
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * int 类型冒泡排序
</span><span class="highlight-cm"> *
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:39
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">IntBubbleSorter</span> <span class="highlight-kd">extends</span> <span class="highlight-n">BubbleSorterAbstract</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">array</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">sort</span><span class="highlight-o">(</span><span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">theArray</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">array</span> <span class="highlight-o">=</span> <span class="highlight-n">theArray</span><span class="highlight-o">;</span>
        <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">;</span>
        <span class="highlight-k">return</span> <span class="highlight-n">doSort</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">void</span> <span class="highlight-nf">swap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">tmp</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">tmp</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">+</span><span class="highlight-n">1</span><span class="highlight-o">];</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<pre><div class="vditor-copy"><textarea>/**
 * double 类型冒泡排序
 * 
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:41
 */
public class DoubleBubbleSorter extends BubbleSorterAbstract {
    private double[] array = null;
    public int sort(double[] theArray) {
        array = theArray;
        length = array.length;
        return doSort();
    }

    @Override
    protected void swap(int index) {
        double tmp = array[index];
        array[index] = array[index + 1];
        array[index + 1] = tmp;
    }

    @Override
    protected boolean outOfOrder(int index) {
        return array[index] &gt; array[index+1];
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;">
<span class="highlight-cm">/**
</span><span class="highlight-cm"> * double 类型冒泡排序
</span><span class="highlight-cm"> * 
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:41
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">DoubleBubbleSorter</span> <span class="highlight-kd">extends</span> <span class="highlight-n">BubbleSorterAbstract</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">double</span><span class="highlight-o">[]</span> <span class="highlight-n">array</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">sort</span><span class="highlight-o">(</span><span class="highlight-kt">double</span><span class="highlight-o">[]</span> <span class="highlight-n">theArray</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">array</span> <span class="highlight-o">=</span> <span class="highlight-n">theArray</span><span class="highlight-o">;</span>
        <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">;</span>
        <span class="highlight-k">return</span> <span class="highlight-n">doSort</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">void</span> <span class="highlight-nf">swap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">double</span> <span class="highlight-n">tmp</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">tmp</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">protected</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">+</span><span class="highlight-n">1</span><span class="highlight-o">];</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>通过 TEMPLATE METHOD 模式的继承，把通用方法放在基类中，并且通过继承在不同的上下文中实现该通用算法。但是继承是一种非常强的关系，派生类不得不和基类绑定在一起。例如，其他类型的排序算法也要重新实现 <code>outOfOrder</code> 和 <code>swap</code>。</p> 
<p><em>Java 中有范型能够很好的解决上面的例子的问题。</em></p> 
<p>不过，STRATEGY 提供了一种可选的方案。</p> 
<h3 id="toc_h3_7">STRATEGY 模式</h3> 
<h4 id="toc_h4_8">华氏度转摄氏度</h4> 
<p>我们考虑刚才 华氏度转摄氏度 的例子，我们不再将通用的应用算法放进一个抽象基类中，而是放到一个 <code>ApplicationRunner</code> 具体类中。我们把通用算法必须要调用的抽象方法定义在一个 <code>Application</code> 接口中，再从这个接口中派生出 <code>FlocStrategy</code>，再传给具 <code>ApplicationRunner</code>，之后，就可以把具体工作委托给接口去完成。</p> 
<p>先来写 <code>Application</code> 接口</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 10:00
 */
public interface Application {
    public void init();
    public void idle();
    public void cleanup();
    public boolean done();
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 10:00
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">interface</span> <span class="highlight-nc">Application</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">init</span><span class="highlight-o">();</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">idle</span><span class="highlight-o">();</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">cleanup</span><span class="highlight-o">();</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">done</span><span class="highlight-o">();</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>看看 <code>ApplicationRunner</code></p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 09:59
 */
public class ApplicationRunner {
    public Application itsAppliction = null;

    public ApplicationRunner(Application itsAppliction) {
        this.itsAppliction = itsAppliction;
    }

    public void run() {
        itsAppliction.init();
        while (!itsAppliction.done()) {
            itsAppliction.idle();
        }
        itsAppliction.cleanup();
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 09:59
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">ApplicationRunner</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-n">Application</span> <span class="highlight-n">itsAppliction</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">ApplicationRunner</span><span class="highlight-o">(</span><span class="highlight-n">Application</span> <span class="highlight-n">itsAppliction</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">itsAppliction</span> <span class="highlight-o">=</span> <span class="highlight-n">itsAppliction</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">run</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">itsAppliction</span><span class="highlight-o">.</span><span class="highlight-na">init</span><span class="highlight-o">();</span>
        <span class="highlight-k">while</span> <span class="highlight-o">(!</span><span class="highlight-n">itsAppliction</span><span class="highlight-o">.</span><span class="highlight-na">done</span><span class="highlight-o">())</span> <span class="highlight-o">{</span>
            <span class="highlight-n">itsAppliction</span><span class="highlight-o">.</span><span class="highlight-na">idle</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
        <span class="highlight-n">itsAppliction</span><span class="highlight-o">.</span><span class="highlight-na">cleanup</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>然后使用 STRATEGY 模式来进行改造 华氏度转摄氏度 的例子</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 10:02
 */
public class FtocStrategy implements Application {
    private InputStreamReader inputStreamReader;
    private BufferedReader bufferedReader;
    private boolean isDone = false;

    public static void main(String[] args) {
        new ApplicationRunner(new FtocStrategy()).run();
    }

    @Override
    public void init() {
        inputStreamReader = new InputStreamReader(System.in);
        bufferedReader = new BufferedReader(inputStreamReader);
    }

    @Override
    public void idle() {
        String fahrString = readLineAndReturnNullIfError();
        if (fahrString == null || fahrString.length() == 0) {
            isDone = true;
        } else {
            double fahr = Double.parseDouble(fahrString);
            double celcius = 5.0 / 9.0 * (fahr - 32);
            System.out.println("F=" + fahr + ", C=" + celcius);
        }
    }

    @Override
    public void cleanup() {
        System.out.println("ftoc exit!");
    }

    @Override
    public boolean done() {
        return isDone;
    }

    /**
     * 异常处理
     *
     * @return 读取结果
     */
    private String readLineAndReturnNullIfError() {
        String s;
        try {
            s = bufferedReader.readLine();
        } catch (IOException e) {
            e.printStackTrace();
            s = null;
        }
        return s;
    }

}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;">
<span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 10:02
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">FtocStrategy</span> <span class="highlight-kd">implements</span> <span class="highlight-n">Application</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">InputStreamReader</span> <span class="highlight-n">inputStreamReader</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">BufferedReader</span> <span class="highlight-n">bufferedReader</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">boolean</span> <span class="highlight-n">isDone</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kt">void</span> <span class="highlight-nf">main</span><span class="highlight-o">(</span><span class="highlight-n">String</span><span class="highlight-o">[]</span> <span class="highlight-n">args</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">new</span> <span class="highlight-n">ApplicationRunner</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">FtocStrategy</span><span class="highlight-o">()).</span><span class="highlight-na">run</span><span class="highlight-o">();</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">init</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">inputStreamReader</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">InputStreamReader</span><span class="highlight-o">(</span><span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">in</span><span class="highlight-o">);</span>
        <span class="highlight-n">bufferedReader</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">BufferedReader</span><span class="highlight-o">(</span><span class="highlight-n">inputStreamReader</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">idle</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">String</span> <span class="highlight-n">fahrString</span> <span class="highlight-o">=</span> <span class="highlight-n">readLineAndReturnNullIfError</span><span class="highlight-o">();</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">fahrString</span> <span class="highlight-o">==</span> <span class="highlight-kc">null</span> <span class="highlight-o">||</span> <span class="highlight-n">fahrString</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">()</span> <span class="highlight-o">==</span> <span class="highlight-n">0</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">isDone</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span> <span class="highlight-k">else</span> <span class="highlight-o">{</span>
            <span class="highlight-kt">double</span> <span class="highlight-n">fahr</span> <span class="highlight-o">=</span> <span class="highlight-n">Double</span><span class="highlight-o">.</span><span class="highlight-na">parseDouble</span><span class="highlight-o">(</span><span class="highlight-n">fahrString</span><span class="highlight-o">);</span>
            <span class="highlight-kt">double</span> <span class="highlight-n">celcius</span> <span class="highlight-o">=</span> <span class="highlight-n">5</span><span class="highlight-o">.</span><span class="highlight-na">0</span> <span class="highlight-o">/</span> <span class="highlight-n">9</span><span class="highlight-o">.</span><span class="highlight-na">0</span> <span class="highlight-o">*</span> <span class="highlight-o">(</span><span class="highlight-n">fahr</span> <span class="highlight-o">-</span> <span class="highlight-n">32</span><span class="highlight-o">);</span>
            <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"F="</span> <span class="highlight-o">+</span> <span class="highlight-n">fahr</span> <span class="highlight-o">+</span> <span class="highlight-s">", C="</span> <span class="highlight-o">+</span> <span class="highlight-n">celcius</span><span class="highlight-o">);</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">cleanup</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">System</span><span class="highlight-o">.</span><span class="highlight-na">out</span><span class="highlight-o">.</span><span class="highlight-na">println</span><span class="highlight-o">(</span><span class="highlight-s">"ftoc exit!"</span><span class="highlight-o">);</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">done</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">isDone</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-cm">/**
</span><span class="highlight-cm">     * 异常处理
</span><span class="highlight-cm">     *
</span><span class="highlight-cm">     * @return 读取结果
</span><span class="highlight-cm">     */</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">String</span> <span class="highlight-nf">readLineAndReturnNullIfError</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">String</span> <span class="highlight-n">s</span><span class="highlight-o">;</span>
        <span class="highlight-k">try</span> <span class="highlight-o">{</span>
            <span class="highlight-n">s</span> <span class="highlight-o">=</span> <span class="highlight-n">bufferedReader</span><span class="highlight-o">.</span><span class="highlight-na">readLine</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span> <span class="highlight-k">catch</span> <span class="highlight-o">(</span><span class="highlight-n">IOException</span> <span class="highlight-n">e</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">e</span><span class="highlight-o">.</span><span class="highlight-na">printStackTrace</span><span class="highlight-o">();</span>
            <span class="highlight-n">s</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">s</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

<span class="highlight-o">}</span>
</code></pre> 
<p>他和 TEMPLATE METHOD 实现的相比怎么样呢？很明显，STRATEGY 模式代价更高一点，涉及到更多数量的类和间接层次，<code>ApplicationRunner</code> 委托指针的使用会造成比继承稍微多一点的运行时间和数据空间开销。<strong>但是另一方面，如果有许多不同的程序妖运行，就可以重用 <code>ApplicationRunner</code> 实例，并把许多不同的 <code>Application</code> 实现传给他，从而减小了通用算法和该算法所控制的及具体细节之间的耦合。</strong></p> 
<h4 id="toc_h4_9">冒泡排序</h4> 
<p>不过最烦人的问题是 STRATEGY 模式需要很多额外的类，我们来考虑一下使用 STRATEGY 模式实现 冒泡排序 看看。</p> 
<p>排序接口</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 10:13
 */
public interface SortHandle {
    public void swap(int index);
    public boolean outOfOrder(int index);
    public int length();
    public void setArray(Object array);
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 10:13
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">interface</span> <span class="highlight-nc">SortHandle</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">swap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">);</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">);</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">length</span><span class="highlight-o">();</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">setArray</span><span class="highlight-o">(</span><span class="highlight-n">Object</span> <span class="highlight-n">array</span><span class="highlight-o">);</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>他的一个实现</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 10:13
 */
public class IntSortHandle implements SortHandle {
    private int[] array = null;

    @Override
    public void swap(int index) {
        int tmp = array[index];
        array[index] = array[index + 1];
        array[index + 1] = tmp;
    }

    @Override
    public boolean outOfOrder(int index) {
        return (array[index] &gt; array[index + 1]);
    }

    @Override
    public int length() {
        return array.length;
    }

    @Override
    public void setArray(Object array) {
        this.array = (int[]) array;
    }
}
</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 10:13
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">IntSortHandle</span> <span class="highlight-kd">implements</span> <span class="highlight-n">SortHandle</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span><span class="highlight-o">[]</span> <span class="highlight-n">array</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">swap</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-kt">int</span> <span class="highlight-n">tmp</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">];</span>
        <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">]</span> <span class="highlight-o">=</span> <span class="highlight-n">tmp</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span><span class="highlight-o">]</span> <span class="highlight-o">&gt;</span> <span class="highlight-n">array</span><span class="highlight-o">[</span><span class="highlight-n">index</span> <span class="highlight-o">+</span> <span class="highlight-n">1</span><span class="highlight-o">]);</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">length</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">array</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Override</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">setArray</span><span class="highlight-o">(</span><span class="highlight-n">Object</span> <span class="highlight-n">array</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">array</span> <span class="highlight-o">=</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span><span class="highlight-o">[])</span> <span class="highlight-n">array</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>
</code></pre> 
<p>排序算法</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 10:12
 */
public class BubbleSorter {
    private int operations = 0;
    private int length = 0;
    private SortHandle itsSortHandle = null;

    public BubbleSorter(SortHandle itsSortHandle) {
        this.itsSortHandle = itsSortHandle;
    }

    public int sort(Object array) {
        itsSortHandle.setArray(array);
        length = itsSortHandle.length();
        operations = 0;
        if (length &lt;= 1) {
            return operations;
        }
        for (int nextToLast = length - 2; nextToLast &gt;= 0; nextToLast--) {
            for (int index = 0; index &lt;= nextToLast; index++) {
                if (itsSortHandle.outOfOrder(index)) {
                    itsSortHandle.swap(index);
                }
                operations++;
            }
        }
        return operations;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 10:12
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">BubbleSorter</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">SortHandle</span> <span class="highlight-n">itsSortHandle</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">BubbleSorter</span><span class="highlight-o">(</span><span class="highlight-n">SortHandle</span> <span class="highlight-n">itsSortHandle</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">itsSortHandle</span> <span class="highlight-o">=</span> <span class="highlight-n">itsSortHandle</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">sort</span><span class="highlight-o">(</span><span class="highlight-n">Object</span> <span class="highlight-n">array</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">setArray</span><span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">);</span>
        <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">();</span>
        <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">length</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">1</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">=</span> <span class="highlight-n">length</span> <span class="highlight-o">-</span> <span class="highlight-n">2</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">&gt;=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">--)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">index</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">;</span> <span class="highlight-n">index</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
                <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-n">index</span><span class="highlight-o">))</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">swap</span><span class="highlight-o">(</span><span class="highlight-n">index</span><span class="highlight-o">);</span>
                <span class="highlight-o">}</span>
                <span class="highlight-n">operations</span><span class="highlight-o">++;</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>和 TEMPLATE METHOD 不同的是，接口实现 <code>IntSortHandle</code> 对 <code>BubbleSorter</code> 一无所知，布依赖于任何实现方式。在 TEMPLATE METHOD 中，<code>swap</code> 和 <code>outOfOrder</code> 的实现依赖于冒泡排序算法，所以他部分违反了 <code>DIP</code>，而 STRATEGY 总不包含这样的依赖。所以可以在 <code>BubbleSorter</code> 之外的其他任何从 <code>SortHandle</code> 派生出来的类。</p> 
<h4 id="toc_h4_10">冒泡排序的变体</h4> 
<p>现在，我们创建冒泡排序的一个变体，如果他在一次对于数组的遍历中发现数组的元素已经是按序排列的话，就提前结束。创建一个 <code>QuickBubbleSorter</code></p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 10:27
 */
public class QuickBubbleSorter {
    private int operations = 0;
    private int length = 0;
    private SortHandle itsSortHandle = null;

    public QuickBubbleSorter(SortHandle itsSortHandle) {
        this.itsSortHandle = itsSortHandle;
    }

    public int sort(Object array) {
        itsSortHandle.setArray(array);
        length = itsSortHandle.length();
        operations = 0;
        if (length &lt;= 1) {
            return operations;
        }
        boolean thisPassInOrder = false;
        for (int nextToLast = length - 2; nextToLast &gt;= 0 &amp;&amp; !thisPassInOrder; nextToLast--) {
            thisPassInOrder = true;
            for (int index = 0; index &lt;= nextToLast; index++) {
                if (itsSortHandle.outOfOrder(index)) {
                    itsSortHandle.swap(index);
                    thisPassInOrder = false;
                }
                operations++;
            }
        }
        return operations;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 10:27
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">QuickBubbleSorter</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-kt">int</span> <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-n">SortHandle</span> <span class="highlight-n">itsSortHandle</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>

    <span class="highlight-kd">public</span> <span class="highlight-nf">QuickBubbleSorter</span><span class="highlight-o">(</span><span class="highlight-n">SortHandle</span> <span class="highlight-n">itsSortHandle</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">this</span><span class="highlight-o">.</span><span class="highlight-na">itsSortHandle</span> <span class="highlight-o">=</span> <span class="highlight-n">itsSortHandle</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>

    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">sort</span><span class="highlight-o">(</span><span class="highlight-n">Object</span> <span class="highlight-n">array</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">setArray</span><span class="highlight-o">(</span><span class="highlight-n">array</span><span class="highlight-o">);</span>
        <span class="highlight-n">length</span> <span class="highlight-o">=</span> <span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">length</span><span class="highlight-o">();</span>
        <span class="highlight-n">operations</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">length</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">1</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>
        <span class="highlight-kt">boolean</span> <span class="highlight-n">thisPassInOrder</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">=</span> <span class="highlight-n">length</span> <span class="highlight-o">-</span> <span class="highlight-n">2</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span> <span class="highlight-o">&gt;=</span> <span class="highlight-n">0</span> <span class="highlight-o">&amp;&amp;</span> <span class="highlight-o">!</span><span class="highlight-n">thisPassInOrder</span><span class="highlight-o">;</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">--)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">thisPassInOrder</span> <span class="highlight-o">=</span> <span class="highlight-kc">true</span><span class="highlight-o">;</span>
            <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">index</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">index</span> <span class="highlight-o">&lt;=</span> <span class="highlight-n">nextToLast</span><span class="highlight-o">;</span> <span class="highlight-n">index</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
                <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">outOfOrder</span><span class="highlight-o">(</span><span class="highlight-n">index</span><span class="highlight-o">))</span> <span class="highlight-o">{</span>
                    <span class="highlight-n">itsSortHandle</span><span class="highlight-o">.</span><span class="highlight-na">swap</span><span class="highlight-o">(</span><span class="highlight-n">index</span><span class="highlight-o">);</span>
                    <span class="highlight-n">thisPassInOrder</span> <span class="highlight-o">=</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
                <span class="highlight-o">}</span>
                <span class="highlight-n">operations</span><span class="highlight-o">++;</span>
            <span class="highlight-o">}</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">operations</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p><code>QuickBubbleSorter</code> 同样可以使用 <code>IntSortHandle</code>，或者任何其他从 <code>SortHandle</code> 派生出来的类。它完全遵循 DIP 原则，从而允许每个具体实现都可以被多个不同的通用算法操纵。</p> 
<p>相比起来，两个模式都可以 <strong>用来分离高层的算法和底层的具体实现细节，都允许高层的算法独立于他的具体实现细节重用。</strong> 此外 STRATEGY 模式也允许具体实现细节独立于高层的算法重用，不过要以一些额外的复杂性、内存以及运行时间开销作为代价。</p> 
<h2 id="toc_h2_11">FACADE 模式和 MEDIATOR 模式</h2> 
<blockquote> 
 <p>尊贵的符号外表下，隐藏着卑劣的梦想。</p> 
</blockquote> 
<p>FACADE 模式和 MEDIATOR 模式有着共同的目的，他们都把某种策略施加到另外一组对象上。</p> 
<ul> 
 <li>FACADE 模式从上面施加策略，使用是明显且受限的。 
  <ul> 
   <li>可以为一组具有复杂且全面的接口的对象提供一个简单且特定的接口，简单的说，就是应藏了具体的内部细节，提供一个非常简单且特定的接口来完成。FACADE 对其就施加了策略。</li> 
  </ul> </li> 
 <li>MEDIATOR 模式从下面施加策略，使用是不明显且不受限的。 
  <ul> 
   <li>无需被施加者允许或者知晓。</li> 
  </ul> </li> 
</ul> 
<h2 id="toc_h2_12">SINGLETON 模式和 MONOSTATE 模式</h2> 
<blockquote> 
 <p>这是对万物的祝福！除此之外再无其他</p> 
</blockquote> 
<p>这章的两个模式，是强制对象单一性的模式。</p> 
<h3 id="toc_h3_13">SINGLETON 模式</h3> 
<p>SINGLETON 模式 是一个很简单的模式，通过一个一些测试用例来看看。</p> 
<pre><div class="vditor-copy"><textarea>/**
 * 单例模式
 * 
 * @author echo
 * @version 1.0
 * @date 19-4-3 11:08
 */
public class Singleton {
    private static Singleton theInstance = null;
    private Singleton(){}
    public static Singleton instance() {
        if (theInstance == null) {
            theInstance = new Singleton();
        }
        return theInstance;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * 单例模式
</span><span class="highlight-cm"> * 
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 11:08
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Singleton</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kd">static</span> <span class="highlight-n">Singleton</span> <span class="highlight-n">theInstance</span> <span class="highlight-o">=</span> <span class="highlight-kc">null</span><span class="highlight-o">;</span>
    <span class="highlight-kd">private</span> <span class="highlight-nf">Singleton</span><span class="highlight-o">(){}</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-n">Singleton</span> <span class="highlight-nf">instance</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">if</span> <span class="highlight-o">(</span><span class="highlight-n">theInstance</span> <span class="highlight-o">==</span> <span class="highlight-kc">null</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">theInstance</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Singleton</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
        <span class="highlight-k">return</span> <span class="highlight-n">theInstance</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>测试</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 11:07
 */
class TestSimpleSingleton {
    @Test
    void testCreateSingleton() {
        Singleton s1 = Singleton.instance();
        Singleton s2 = Singleton.instance();
        assert s1 == s2;
    }
    
    @Test
    void testNoPublicConstructors() throws ClassNotFoundException {
        Class&lt;?&gt; singleton = Class.forName("four.singleton.Singleton");
        Constructor[] constructors = singleton.getConstructors();
        assert constructors.length == 0;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 11:07
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">class</span> <span class="highlight-nc">TestSimpleSingleton</span> <span class="highlight-o">{</span>
    <span class="highlight-nd">@Test</span>
    <span class="highlight-kt">void</span> <span class="highlight-nf">testCreateSingleton</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Singleton</span> <span class="highlight-n">s1</span> <span class="highlight-o">=</span> <span class="highlight-n">Singleton</span><span class="highlight-o">.</span><span class="highlight-na">instance</span><span class="highlight-o">();</span>
        <span class="highlight-n">Singleton</span> <span class="highlight-n">s2</span> <span class="highlight-o">=</span> <span class="highlight-n">Singleton</span><span class="highlight-o">.</span><span class="highlight-na">instance</span><span class="highlight-o">();</span>
        <span class="highlight-k">assert</span> <span class="highlight-n">s1</span> <span class="highlight-o">==</span> <span class="highlight-n">s2</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
    
    <span class="highlight-nd">@Test</span>
    <span class="highlight-kt">void</span> <span class="highlight-nf">testNoPublicConstructors</span><span class="highlight-o">()</span> <span class="highlight-kd">throws</span> <span class="highlight-n">ClassNotFoundException</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Class</span><span class="highlight-o">&lt;?&gt;</span> <span class="highlight-n">singleton</span> <span class="highlight-o">=</span> <span class="highlight-n">Class</span><span class="highlight-o">.</span><span class="highlight-na">forName</span><span class="highlight-o">(</span><span class="highlight-s">"four.singleton.Singleton"</span><span class="highlight-o">);</span>
        <span class="highlight-n">Constructor</span><span class="highlight-o">[]</span> <span class="highlight-n">constructors</span> <span class="highlight-o">=</span> <span class="highlight-n">singleton</span><span class="highlight-o">.</span><span class="highlight-na">getConstructors</span><span class="highlight-o">();</span>
        <span class="highlight-k">assert</span> <span class="highlight-n">constructors</span><span class="highlight-o">.</span><span class="highlight-na">length</span> <span class="highlight-o">==</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>可以看出，通过私有化构造函数，实现了 SINGLETON 模式</p> 
<p><strong>好处：</strong></p> 
<ol> 
 <li>跨平台：使用合适的中间件，可以把 SINGLETON 模式扩展为跨多个 JVM 和多个计算机工作。</li> 
 <li>适用于任何类：只要把一个类的构造函数私有化，并且增加相应的静态函数和变量，就可以把这个类变成 SINGLETON。</li> 
 <li>可以通过派生创建：给定一个类，可以创建他的一个 SINGLETON 子类。</li> 
 <li>延迟求值：如果 SINGLETON 从未使用过，那么就不会创建他。</li> 
</ol> 
<p><strong>代价：</strong></p> 
<ol> 
 <li>摧毁方法未定义：没有好的摧毁方法去摧毁一个 SINGLETON，或者解除其职责，可能会同时存在两个实例。</li> 
 <li>不能继承：从 SINGLETON 类派生出来的类不是 SINGLETON 的。</li> 
 <li>效率问题：每次调用 instance 都会执行 if 语句</li> 
 <li>不透明性：SINGLETON 使用者指定他们在使用一个 SINGLETON，因为他们必须调用 instance 方法。</li> 
</ol> 
<h3 id="toc_h3_14">MONOSTATE 模式</h3> 
<p>MONOSTATE 模式是获取单一对象的另外一种方法。它使用了一种完全不同的工作机制，看看下面的一个例子：</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 11:20
 */
public class Monostate {
    private static int itsX = 0;
    public Monostate(){}
    public void setX(int x) {
        itsX = x;
    }
    public int getX() {
        return itsX;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 11:20
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">Monostate</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">private</span> <span class="highlight-kd">static</span> <span class="highlight-kt">int</span> <span class="highlight-n">itsX</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span>
    <span class="highlight-kd">public</span> <span class="highlight-nf">Monostate</span><span class="highlight-o">(){}</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">setX</span><span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">x</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-n">itsX</span> <span class="highlight-o">=</span> <span class="highlight-n">x</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">int</span> <span class="highlight-nf">getX</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">itsX</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>测试用例</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 11:21
 */
class TestMonostate {
    @Test
    void testInstance() {
        Monostate monostate = new Monostate();
        for (int x = 0; x &lt; 10; x++) {
            monostate.setX(x);
            assert x == monostate.getX();
        }
    }

    @Test
    void testInstanceBehaveAsOne() {
        Monostate m1 = new Monostate();
        Monostate m2 = new Monostate();
        for (int x = 0; x &lt; 10; x++) {
            m1.setX(x);
            assert x == m2.getX();
        }
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 11:21
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">class</span> <span class="highlight-nc">TestMonostate</span> <span class="highlight-o">{</span>
    <span class="highlight-nd">@Test</span>
    <span class="highlight-kt">void</span> <span class="highlight-nf">testInstance</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Monostate</span> <span class="highlight-n">monostate</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Monostate</span><span class="highlight-o">();</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">x</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">x</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-n">x</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">monostate</span><span class="highlight-o">.</span><span class="highlight-na">setX</span><span class="highlight-o">(</span><span class="highlight-n">x</span><span class="highlight-o">);</span>
            <span class="highlight-k">assert</span> <span class="highlight-n">x</span> <span class="highlight-o">==</span> <span class="highlight-n">monostate</span><span class="highlight-o">.</span><span class="highlight-na">getX</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>

    <span class="highlight-nd">@Test</span>
    <span class="highlight-kt">void</span> <span class="highlight-nf">testInstanceBehaveAsOne</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-n">Monostate</span> <span class="highlight-n">m1</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Monostate</span><span class="highlight-o">();</span>
        <span class="highlight-n">Monostate</span> <span class="highlight-n">m2</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Monostate</span><span class="highlight-o">();</span>
        <span class="highlight-k">for</span> <span class="highlight-o">(</span><span class="highlight-kt">int</span> <span class="highlight-n">x</span> <span class="highlight-o">=</span> <span class="highlight-n">0</span><span class="highlight-o">;</span> <span class="highlight-n">x</span> <span class="highlight-o">&lt;</span> <span class="highlight-n">10</span><span class="highlight-o">;</span> <span class="highlight-n">x</span><span class="highlight-o">++)</span> <span class="highlight-o">{</span>
            <span class="highlight-n">m1</span><span class="highlight-o">.</span><span class="highlight-na">setX</span><span class="highlight-o">(</span><span class="highlight-n">x</span><span class="highlight-o">);</span>
            <span class="highlight-k">assert</span> <span class="highlight-n">x</span> <span class="highlight-o">==</span> <span class="highlight-n">m2</span><span class="highlight-o">.</span><span class="highlight-na">getX</span><span class="highlight-o">();</span>
        <span class="highlight-o">}</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>两个对象共享相同的变量，<code>itsX</code> 是静态的，但是方法不是静态的，这一点很重要。无论创建多少个 <code>Monostate</code> 对象的实例，他们都表现得<strong>像一个对象一样，甚至把当前的所有实例都销毁或者解除职责，也不会丢失数据。</strong></p> 
<p><strong>好处：</strong></p> 
<ol> 
 <li>透明性：使用 MONOSTATE 对象和使用常规对象没有什么区别，使用者不知道对象是 MONOSTATE。</li> 
 <li>可派生性：MONOSTATE 的派生类都是 MONOSTATE，事实上，MONOSTATE 的所有派生类都是同一个 MONOSTATE 的一部分，他们共享相同的静态变量。</li> 
 <li>多态性：由于 MONOSTATE 的方法不是静态的，所以可以在派生类中总重写。</li> 
</ol> 
<p><strong>代价</strong></p> 
<ol> 
 <li>不可转换性：不能通过派生类把常规类转换成 MONOSTATE 类。</li> 
 <li>效率问题：因为 MONOSTATE 是真正的对象，所以会导致许多的创建和销毁开销。</li> 
 <li>内存占用：即使从未使用过 MONOSTATE，他的变量也要占据内存空间。</li> 
 <li>平台局限性：MONOSTATE 不能跨多个 JVM 或者多个平台工作。</li> 
</ol> 
<p>两个模式，一个关注行为，一个。</p> 
<ul> 
 <li>SINGLETON 模式关注结构，强制结构上的单一性。防止创建出多个对象实例。如果希望通过派生去约束一个现存类，并且不介意他的所有调用这都必须要调用 <code>instance()</code> 方法来获取访问权，那么他是最合适的。</li> 
 <li>MONOSTATE 模式关注行为，强制行为上的单一性，而没有强加结构方面的限制。如果希望类的单一性本质对使用者透明，或者希望使用单一对象的多态派生对象，那么他是最合适的。</li> 
</ul> 
<p>MONOSTATE 的测试用例对 SINGLETON 类是有效的，但是 SINGLETON 的测试用例却不远不适用于 MONOSTATE 类。</p> 
<h2 id="toc_h2_15">NULL OBJECT 模式</h2> 
<blockquote> 
 <p>残缺即是完美，冷淡即是虚无，死亡即是圆满，没有即是更多。</p> 
</blockquote> 
<p>Java 中可能最常见的一个异常就是空指针异常了，使用 <code>if</code> 和 <code>try/catch</code> 都不是很优雅，现在我们俩看个 NULL OBJECT 模式的例子。</p> 
<p>先编写测试用例</p> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 11:42
 */
class TestEmployee {

    @Test
    void testNull() {
        // 不存在的数据
        Employee employee = DB.getEmployee("Bob");
        assert employee.isTimeToPay(new Date()) || Employee.NULL == employee;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 11:42
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">class</span> <span class="highlight-nc">TestEmployee</span> <span class="highlight-o">{</span>

    <span class="highlight-nd">@Test</span>
    <span class="highlight-kt">void</span> <span class="highlight-nf">testNull</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-c1">// 不存在的数据
</span><span class="highlight-c1"></span>        <span class="highlight-n">Employee</span> <span class="highlight-n">employee</span> <span class="highlight-o">=</span> <span class="highlight-n">DB</span><span class="highlight-o">.</span><span class="highlight-na">getEmployee</span><span class="highlight-o">(</span><span class="highlight-s">"Bob"</span><span class="highlight-o">);</span>
        <span class="highlight-k">assert</span> <span class="highlight-n">employee</span><span class="highlight-o">.</span><span class="highlight-na">isTimeToPay</span><span class="highlight-o">(</span><span class="highlight-k">new</span> <span class="highlight-n">Date</span><span class="highlight-o">())</span> <span class="highlight-o">||</span> <span class="highlight-n">Employee</span><span class="highlight-o">.</span><span class="highlight-na">NULL</span> <span class="highlight-o">==</span> <span class="highlight-n">employee</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>书写接口</p> 
<pre><div class="vditor-copy"><textarea>public interface Employee {
    public boolean isTimeToPay(Date payDate);
    public void pay();
    public static final Employee NULL = new Employee() {
        @Override
        public boolean isTimeToPay(Date payDate) {
            return false;
        }

        @Override
        public void pay() {

        }
    };
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-kd">public</span> <span class="highlight-kd">interface</span> <span class="highlight-nc">Employee</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">isTimeToPay</span><span class="highlight-o">(</span><span class="highlight-n">Date</span> <span class="highlight-n">payDate</span><span class="highlight-o">);</span>
    <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">pay</span><span class="highlight-o">();</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-kd">final</span> <span class="highlight-n">Employee</span> <span class="highlight-n">NULL</span> <span class="highlight-o">=</span> <span class="highlight-k">new</span> <span class="highlight-n">Employee</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>
        <span class="highlight-nd">@Override</span>
        <span class="highlight-kd">public</span> <span class="highlight-kt">boolean</span> <span class="highlight-nf">isTimeToPay</span><span class="highlight-o">(</span><span class="highlight-n">Date</span> <span class="highlight-n">payDate</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
            <span class="highlight-k">return</span> <span class="highlight-kc">false</span><span class="highlight-o">;</span>
        <span class="highlight-o">}</span>

        <span class="highlight-nd">@Override</span>
        <span class="highlight-kd">public</span> <span class="highlight-kt">void</span> <span class="highlight-nf">pay</span><span class="highlight-o">()</span> <span class="highlight-o">{</span>

        <span class="highlight-o">}</span>
    <span class="highlight-o">};</span>
<span class="highlight-o">}</span>

</code></pre> 
<pre><div class="vditor-copy"><textarea>/**
 * @author echo
 * @version 1.0
 * @date 19-4-3 11:43
 */
public class DB {
    public static Employee getEmployee(String name) {
        return Employee.NULL;
    }
}

</textarea><span aria-label="复制" onmouseover="this.setAttribute(&#39;aria-label&#39;, &#39;复制&#39;)" class="vditor-tooltipped vditor-tooltipped__w" onclick="this.previousElementSibling.select();document.execCommand(&#39;copy&#39;);this.setAttribute(&#39;aria-label&#39;, &#39;已复制&#39;)"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" width="32px" height="32px"> <path d="M28.681 11.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.379 0-2.5 1.121-2.5 2.5v23c0 1.378 1.121 2.5 2.5 2.5h19c1.378 0 2.5-1.122 2.5-2.5v-15.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 9.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268v0zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-19c-0.271 0-0.5-0.229-0.5-0.5v-23c0-0.271 0.229-0.5 0.5-0.5 0 0 11.499-0 11.5 0v7c0 0.552 0.448 1 1 1h7v15.5zM18.841 1.319c-1.612-1.182-2.393-1.319-2.841-1.319h-11.5c-1.378 0-2.5 1.121-2.5 2.5v23c0 1.207 0.86 2.217 2 2.45v-25.45c0-0.271 0.229-0.5 0.5-0.5h15.215c-0.301-0.248-0.595-0.477-0.873-0.681z"></path> </svg></span></div><code class="language-java highlight-chroma" style="max-height: 716px;"><span class="highlight-cm">/**
</span><span class="highlight-cm"> * @author echo
</span><span class="highlight-cm"> * @version 1.0
</span><span class="highlight-cm"> * @date 19-4-3 11:43
</span><span class="highlight-cm"> */</span>
<span class="highlight-kd">public</span> <span class="highlight-kd">class</span> <span class="highlight-nc">DB</span> <span class="highlight-o">{</span>
    <span class="highlight-kd">public</span> <span class="highlight-kd">static</span> <span class="highlight-n">Employee</span> <span class="highlight-nf">getEmployee</span><span class="highlight-o">(</span><span class="highlight-n">String</span> <span class="highlight-n">name</span><span class="highlight-o">)</span> <span class="highlight-o">{</span>
        <span class="highlight-k">return</span> <span class="highlight-n">Employee</span><span class="highlight-o">.</span><span class="highlight-na">NULL</span><span class="highlight-o">;</span>
    <span class="highlight-o">}</span>
<span class="highlight-o">}</span>

</code></pre> 
<p>我们通过使无效的数据成为一个匿名内部类是一个确保只有单一实例的方法，实际上并不存在。</p> 
<p>我突然想到了 jdk 8 的 optional～</p> 
<h2 id="toc_h2_16">总结</h2> 
<p></p><p><!-- 黑客派PC帖子内嵌 -->
<script async="" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/f(2).txt"></script>
<ins class="adsbygoogle" style="display: block; height: 0px;" data-ad-client="ca-pub-5357405790190342" data-ad-slot="8316640078" data-ad-format="auto" data-full-width-responsive="true" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display: inline-table; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 738px; background-color: transparent;"><ins id="aswift_1_anchor" style="display: block; border: none; height: 0px; margin: 0px; padding: 0px; position: relative; visibility: visible; width: 738px; background-color: transparent; overflow: hidden; opacity: 0;"><iframe width="738" height="280" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left: 0px; position: absolute; top: 0px; border: 0px; width: 738px; height: 280px; overflow: visible;" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/saved_resource(1).html"></iframe></ins></ins></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</p>相比来说，前半部分较难，后面比较简单。周六看完的，但是周三才实现部分代码，理解提高了一点，作业实在太多 =-= 脑壳疼，加油吧！<p></p>
        </article>



    <div class="article-tail">
        <div class="fn-flex">
            <ul class="tag-desc fn-flex-1 tag-desc--right">
<li data-id="1437417349186">
    <a href="https://hacpai.com/tag/reading">
    阅读
    </a>
    <div style="width: auto;min-width: auto;white-space: nowrap;">
        <div class="vditor-reset ft-13"></div>
        <span class="fn-right ft__fade">
                <span class="article-level0">33</span>
                引用
                •
                <span class="article-level0">133</span>
                回帖
        </span>
    </div>
</li>
            </ul>
            <details class="details action__item articleMenuBtn fn__flex-center">
                <summary>
                    <svg class="svg--small">
                        <use xlink:href="#iconArticle"></use>
                    </svg>
                </summary>
                <details-menu class="fn__layer"></details-menu>
            </details>
        </div>

        <div id="articleActionPanel" class="comment__action"></div>


        <div class="article__meta">
            <a rel="author" href="https://hacpai.com/member/lizhongyue248">
                <div class="avatar fn__left tooltipped__user" aria-name="lizhongyue248" style="background-image: url(&quot;https://img.hacpai.com/avatar/1537288023455_1537340696166.jpeg?imageView2/1/w/96/h/96/interlace/0/q/100&quot;);"></div>
                </a>

            <div id="articleMeta" class="fn__clear">
                <span class="tooltipped__w tooltipped meta__more articleParticipantsBtn ft-a-title" aria-label="更多" style="display: none;">
                    <svg class="fn__deg"><use xlink:href="#iconChevronDown"></use></svg>
                </span>

                <a rel="author" href="https://hacpai.com/member/lizhongyue248" class="article__stats article__stats--a tooltipped tooltipped__e" aria-label="2019-04-03 13:11:38">
                        <span class="article__cnt">lizhongyue248</span>
                        <time>7 个月前 </time>
                            <span class="via" data-ua=""></span>
                </a>


                    <a href="https://hacpai.com/city/%E8%B4%B5%E9%98%B3" target="_blank" class="article__stats article__stats--a">
                        <span class="article__cnt">贵阳</span>
                        位置
                    </a>

                <div id="articleStats">



    <div class="article__stats fn__pointer usersInteracts article__stats--a" data-type="article" data-kind="watch" data-oid="1554268298675">
        <span id="articleFollowCnt" class="article__cnt">1</span>
        关注
    </div>

    <div class="article__stats fn__pointer usersInteracts article__stats--a" data-type="article" data-kind="follow" data-oid="1554268298675">
        <span id="articleCollectCnt" class="article__cnt">1</span>
        收藏
    </div>

                </div>





            </div>
            <div class="fn__clear article__view">
                <span class="tooltipped__n tooltipped fn__flex-inline" aria-label="总访问计数">
                    <svg><use xlink:href="#iconTop"></use></svg>
                    <span class="article-level2">251</span>
                </span>

                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="登录用户浏览">
                    <svg><use xlink:href="#iconLogo"></use></svg> 30
                </span>

                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="谷歌搜索引擎抓取">
                    <svg><use xlink:href="#iconGoogle"></use></svg> 75
                </span>

                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="必应搜索引擎抓取">
                    <svg><use xlink:href="#iconBing"></use></svg> 21
                </span>


                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="百度搜索引擎抓取">
                    <svg><use xlink:href="#iconBaidu"></use></svg> 3
                </span>

                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="搜狗搜索引擎抓取">
                    <svg><use xlink:href="#iconSogou"></use></svg> 21
                </span>


                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="神马搜索引擎抓取">
                    <svg><use xlink:href="#iconShenma"></use></svg> 28
                </span>

                    <span class="fn__flex-inline tooltipped__n tooltipped" aria-label="其他访问">
                    <svg><use xlink:href="#iconMore"></use></svg> 68
                </span>
            </div>
        </div>
    </div>
</div>

<div class="article__wrapper" id="commentsPanel">
    <div class="article__cover" style="right: auto; left: 1016px; height: 654px;"></div>
        <div class="fn__flex">
                <div class="module">
                    <div class="module-header">
                        <h2>
                            相关帖子
                        </h2>
                    </div>
                    <div class="module-panel">
                        <ul class="module-list">
                                <li>
                                    <a href="https://hacpai.com/member/cttmayi">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="cttmayi" style="background-image: url(&quot;https://img.hacpai.com/avatar/1552237905987_1572106150057.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1573408775233">高效能人士的七个习惯 - 习惯一 (积极主动)</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/cttmayi">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="cttmayi" style="background-image: url(&quot;https://img.hacpai.com/avatar/1552237905987_1572106150057.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1573572218167">高效能人士的七个习惯 - 习惯二 (以终为始)</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/jingqueyimu">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="jingqueyimu" style="background-image: url(&quot;https://img.hacpai.com/avatar/1571154436952_1571156601627.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1573744412194">《深入理解 Java 虚拟机》读书笔记：Java 内存区域与内存溢出异常</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/cttmayi">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="cttmayi" style="background-image: url(&quot;https://img.hacpai.com/avatar/1552237905987_1572106150057.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1574014295806">高效能人士的七个习惯 - 习惯三 (要事第一)</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/jianzh5">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="jianzh5" style="background-image: url(&quot;https://img.hacpai.com/avatar/1571636432701_1571651223480.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1574069463709">2019 你应该读的这些书（豆瓣高分 8.0+）</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/jianzh5">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="jianzh5" style="background-image: url(&quot;https://img.hacpai.com/avatar/1571636432701_1571651223480.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1574238418656">腾讯 Techo 开发者大会 PPT 分享</a>
                                </li>
                                <li class="last">
                                    <a href="https://hacpai.com/member/jingqueyimu">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="jingqueyimu" style="background-image: url(&quot;https://img.hacpai.com/avatar/1571154436952_1571156601627.jpeg?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1575113857509">《深入理解 Java 虚拟机》读书笔记：垃圾收集器与内存分配策略</a>
                                </li>
                        </ul>
                    </div>
                </div>

                <div class="module">
                    <div class="module-header">
                        <h2>
                            随便看看
                        </h2>
                    </div>
                    <div class="module-panel">
                        <ul class="module-list">
                                <li>
                                    <a href="https://hacpai.com/member/Eddie">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="Eddie" style="background-image: url(&quot;https://img.hacpai.com/avatar/1409838173971_1474260929164.gif?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1573005361952">有没有人回答一下 D 的头像画的是什么东西</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/Blackman99">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="Blackman99" style="background-image: url(&quot;https://img.hacpai.com/avatar/1559640765219_1563872796353.png?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1575013510965">一个月花这么多钱喝咖啡过分吗</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/1005155422">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="1005155422" style="background-image: url(&quot;https://img.hacpai.com/avatar/1545732733342?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1574649431384">求助电脑中病毒了，比特币勒索</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/88250">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="88250" style="background-image: url(&quot;https://img.hacpai.com/avatar/1353745196354_1572999872077.png?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1357313927312">社区密码改为密文存储</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/wangzhijun97">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="wangzhijun97" style="background-image: url(&quot;https://img.hacpai.com/avatar/1565690542235?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1574040054245">【图组 (8P)】魔都，秋天的尾巴</a>
                                </li>
                                <li>
                                    <a href="https://hacpai.com/member/biehaiyang">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="biehaiyang" style="background-image: url(&quot;https://img.hacpai.com/avatar/1571824941874_1571881021952.png?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1571825828013">请问一个初级 Java 应该做什么？</a>
                                </li>
                                <li class="last">
                                    <a href="https://hacpai.com/member/Jat">
                                        <span class="avatar-small slogan tooltipped__user" aria-name="Jat" style="background-image: url(&quot;https://img.hacpai.com/avatar/1353811358882_1481125958263.png?imageView2/1/w/48/h/48/interlace/0/q/100&quot;);"></span>
                                        </a>
                                    <a class="title fn-ellipsis" href="https://hacpai.com/article/1354162728547">DNSPod VIP 体验卡</a>
                                </li>
                        </ul>
                    </div>
                </div>
        </div>


        <div class="module" id="comments">
            
            <div class="fn__flex module-header">
                <span class="fn__flex-1">
                    回帖
                </span>
                <span class="fn__flex-inline fn-none">
                <span class="tooltipped tooltipped__nw ft-a-title fn__flex-inline" id="exchangeCmtModeBtn" data-mode="0" aria-label="切换到实时回帖浏览模式">
                    <svg><use xlink:href="#sortasc"></use></svg>
                </span>
                <span class="fn__space5"></span>
                <span class="fn__space5"></span>
                <span class="tooltipped tooltipped__nw ft-a-title fn__flex-inline" id="commentGoBottom" aria-label="跳转到底部回帖">
                    <svg><use xlink:href="#iconChevronDown"></use></svg></span>
                </span>
            </div>
            <div class="list">
                    <div class="pagination pagination--top">
                    </div>
                <div class="comment__reply">
                        <div class="index__login fn__flex">
                            <div class="fn__flex-1 text">
                                <h2>
                                    欢迎来到黑客派
                                </h2>
                                <br>
                                <div class="ft-gray">
                                    我们正在构建一个小众社区，大家在这里相互信任，以平等 • 自由 • 奔放的价值观进行分享交流。最终，希望大家能够找到与自己志同道合的伙伴，共同成长。
                                </div>
                                <br>
                                <a href="https://hacpai.com/register" class="btn green">注册</a>
                                <span class="fn__space5"></span>
                                <a href="https://hacpai.com/article/1440573175609" class="btn red">关于</a>
                            </div>
                            <div class="fn__flex-1 bg"></div>
                        </div>
                        <div class="reply__text fn-flex-1 commentToggleEditorBtn">请输入回帖内容...
                        </div>
                </div>
                <ul class="hotkey commentList">
                </ul>
            </div>
                <div class="pagination">
                </div>
            
        </div>

</div>

<div id="heatBar">
    <i class="heat tooltipped tooltipped__w" style="width: 3px;" aria-label="帖子活跃度"></i>
</div>

    <div id="articleToC" style="right: auto; left: 1016px; display: none;">
        <ul class="article-toc"><li class="toc-h2 current"><a data-id="toc_h2_0" href="javascript:void(0)">COMMAND 模式和 ACTIVE OBJECT 模式</a></li><li class="toc-h3"><a data-id="toc_h3_1" href="javascript:void(0)">COMMAND 模式</a></li><li class="toc-h3"><a data-id="toc_h3_2" href="javascript:void(0)">ACTIVE OBJECT 模式</a></li><li class="toc-h2"><a data-id="toc_h2_3" href="javascript:void(0)">TEMPLATE METHOD 模式和 STRATEGY 模式：继承与委托</a></li><li class="toc-h3"><a data-id="toc_h3_4" href="javascript:void(0)">TEMPLATE METHOD 模式</a></li><li class="toc-h4"><a data-id="toc_h4_5" href="javascript:void(0)">华氏度转摄氏度</a></li><li class="toc-h4"><a data-id="toc_h4_6" href="javascript:void(0)">冒泡排序</a></li><li class="toc-h3"><a data-id="toc_h3_7" href="javascript:void(0)">STRATEGY 模式</a></li><li class="toc-h4"><a data-id="toc_h4_8" href="javascript:void(0)">华氏度转摄氏度</a></li><li class="toc-h4"><a data-id="toc_h4_9" href="javascript:void(0)">冒泡排序</a></li><li class="toc-h4"><a data-id="toc_h4_10" href="javascript:void(0)">冒泡排序的变体</a></li><li class="toc-h2"><a data-id="toc_h2_11" href="javascript:void(0)">FACADE 模式和 MEDIATOR 模式</a></li><li class="toc-h2"><a data-id="toc_h2_12" href="javascript:void(0)">SINGLETON 模式和 MONOSTATE 模式</a></li><li class="toc-h3"><a data-id="toc_h3_13" href="javascript:void(0)">SINGLETON 模式</a></li><li class="toc-h3"><a data-id="toc_h3_14" href="javascript:void(0)">MONOSTATE 模式</a></li><li class="toc-h2"><a data-id="toc_h2_15" href="javascript:void(0)">NULL OBJECT 模式</a></li><li class="toc-h2"><a data-id="toc_h2_16" href="javascript:void(0)">总结</a></li></ul>
    </div>

<footer class="footer">
    <div class="wrapper">
        <div class="footer-nav fn__flex">
            <div class="fn-flex-1">
                <a rel="help" href="https://hacpai.com/article/1440573175609">关于</a>
                <a href="https://hacpai.com/article/1488603534762">API</a>
                <a href="https://hacpai.com/article/1460083956075">广告投放</a>
                <a href="https://hacpai.com/statistic">数据统计</a>
                <a href="https://routinepanic.com/" target="_blank">协慌网</a>
            </div>

            <div class="ft__smaller">
                内容协议 <a rel="noopener noreferrer" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" target="_blank">CC BY-SA</a>
                 © 2019 <a rel="copyright noopener" href="https://b3log.org/" target="_blank">B3log 开源</a>
            </div>
        </div>
        <div class="fn__flex">
            <div class="fn__flex-1">
                <a href="https://github.com/88250/symphony" target="_blank" rel="noopener" class="tooltipped tooltipped__n footer__share" aria-label="本站基于 Sym 源码">
                    <svg class="icon-github">
                        <use xlink:href="#iconGithub"></use>
                    </svg>
                </a>
                <a target="_blank" rel="noopener" class="tooltipped tooltipped__n footer__share" aria-label="加入电报群" href="https://t.me/b3log">
                    <svg class="icon-telegram">
                        <use xlink:href="#iconTelegram"></use>
                    </svg>
                </a>
                <span class="ft__smaller">
                    为未来而构建的社区<!-- 你我都是孤独的坚持者，世界因为我们而改变 --> <span class="fn__space5"></span>
                    Give the codes a soul.
                </span>
            </div>

            <div class="ft__smaller">
                    <a href="http://www.miitbeian.gov.cn/" rel="noopener nofollow" target="_blank">滇ICP备14007358号-2</a> •
                <a href="https://sym.b3log.org/" rel="noopener" target="_blank">Sym</a>
                v3.6.0 • 588ms
            </div>
        </div>
    </div>
</footer>
<script>
    var Label = {
        commentReviewRequired: false,
        comment2ReviewRequired: false,
        reviewingLabel: '审核中',
        reviewLabel: '审核',
        sendLabel: '发送',
        advanceSearchLabel: '高级搜索',
        notFoundPostLabel: '帖子不存在',
        notFoundTagLabel: '标签不存在',
        notFoundUserLabel: '用户不存在',
        getNewChatLabel: '查看新的聊天内容',
        systemEmptyLabel: '暂时没有内容，请稍后再来看看',
        historyLabel: '历史',
        updateHistoryLabel: '编辑历史',
        thoughtLabel: '思绪',
        link26: 'https://hacpai.com/article/1558427377784',
        viewAllMsgLabel: '查看所有消息',
        deReplyLabel: '&nbsp;的回帖',
        openLabel: '展开',
        foldLabel: '折叠',
        offTopicLabel: '偏离主题',
        outdatedLabel: '已过时',
        link1: 'https://hacpai.com/article/1474030007391',
        link25: 'https://hacpai.com/article/1464416402922',
        comment2UseSceneLabel: '仅支持_斜体_、**加粗**以及超链接，请浏览<a href="https://hacpai.com/article/1555259445024" target="_blank">使用场景说明</a>了解更多细节',
        notificationComment2edLabel: '收到的评论',
        comment2ErrorLabel: '评论内容长度 4-4096',
        sc403Label: '因权限不足操作已被禁止',
        consoleDebugInfo1: '%cHacPai%c\n  平等、自由、奔放\n  Give the codes a soul.\n\n  b3log.org\n  Copyright © 2012-present',
        chickenEggLabel: '没有鸡，哪来的鸡蛋呢？',
        myFileLabel: '我的文件',
        lang: 'zh-cmn-Hans',
        iPadTipLabel: '⚠️ 第一次点击查看 hover 效果，第二次点击才是真正的点击',
        useHorizontalScreenLabel: '请使用横屏全屏模式进行浏览，以便获取最佳体验',
        updateArticlePollFailedLabel: '投票表单没有插入到正文中，如果不需要投票表单请先进行删除',
        insertLabel: '插入',
        updateLabel: '更新',
        removeLabel: '删除',
        addOptionLabel: '添加选项',
        isPublicLabel: '是否公开投票人',
        endTimeLabel: '投票如需定时结束，请完整设置年/月/日 时:分',
        typeLabel: '类型',
        optionLabel: '选项',
        titleLabel: '标题',
        multipleSelectionLabel: '多选',
        singleSelectionLabel: '单选',
        pollLabel: '投票',
        commentEditorPlaceholderLabel: '请输入回帖内容',
        confirmRemoveLabel: '确定删除么？',
        editLabel: '编辑',
        confirmLogoutLabel: '确定需要登出？',
        version: '3.6.0',
        moreLabel: '更多',
        hideLabel: '隐藏',
        chatLabel: '聊天',
        openOrgImgLabel: '查看原图',
        downloadLabel: '下载',
        revolveLabel: '旋转',
        nextPageLabel: '下一页',
        YCYLabel: '异次元空间',
        syntaxHighlighting: 'chroma',
        searchTimeTipLabel: '⚡️ 已找到 <strong>{count}</strong> 个相关结果（用时 <strong>{time}ms</strong>）',
        searchEmptyLabel: '暂时没有 [${key}] 相关的数据',
        statUserLabel: '用户',
        tagLabel: '标签',
        articleLabel: '帖子',
        updateNameTipLabel: '（修改用户名需消耗 {point} 积分）',
        certainLabel: '确定',
        deactivateAccountLabel: '永久停用账号',
        tipLabel: '提示',
        reportContentLabel: '请说明举报理由',
        miscLabel: '其他',
        reportSuccLabel: '举报成功',
        spamADLabel: '垃圾广告',
        pornographicLabel: '低俗色情',
        violationOfRegulationsLabel: '违法违规',
        allegedlyInfringingLabel: '涉嫌侵权',
        personalAttacksLabel: '人身攻击',
        posingAccountLabel: '冒充账号',
        spamADAccountLabel: '垃圾广告账号',
        personalInfoViolationLabel: '个人信息违规',
        reportLabel: '举报',
        noMessageLabel: '无消息',
        invalidQnAOfferPointLabel: '悬赏积分必须大于等于 20',
        submitLabel: '提交',
        nextStepLabel: '下一步',
        breezemoonLabel: '清风明月',
        breezemoonDescriptionLabel: '只与清风、明月为伴。',
        invalidUserNameLabel: '用户名仅允许使用数字或字母，最大长度 20',
        finshLabel: '完成',
        invalidEmailLabel: '邮箱地址格式有误',
        confirmPwdErrorLabel: '密码输入不一致',
        captchaErrorLabel: '验证码错误',
        imgMaxSize: 10485760,
        fileMaxSize: 20971520,
        miniPostfix: '.min',
        messageLabel: '消息',
        desktopNotificationTemplateLabel: '你有 ${count} 条未读消息',
        invalidPasswordLabel: '密码格式有误（数字及字母组合，长度 6-16）',
        loginNameErrorLabel: '登录名称长度 1-256',
        followLabel: '关注',
        unfollowLabel: '取消关注',
        symphonyLabel: '黑客派',
        cmtLabel: '回帖',
        collectLabel: '收藏',
        uncollectLabel: '取消收藏',
        copyLabel: '复制',
        copiedLabel: '已复制',
        servePath: 'https://hacpai.com',
        staticServePath: 'https://static.hacpai.com',
        isLoggedIn: false,
        funNeedLoginLabel: '登录后才能使用该功能',
        notificationCommentedLabel: '收到的回帖',
        notificationReplyLabel: '收到的回复',
        notificationAtLabel: '提及我的',
        notificationFollowingLabel: '我关注的',
        pointLabel: '积分',
        sameCityLabel: '同城',
        systemLabel: '系统',
        walletLabel: '钱包',
        newFollowerLabel: '新关注者',
        makeAsReadLabel: '标记为已读',
        commaLabel: '，',
        setEmotionLabel: '设置常用表情',
        year: '2019',
        mouseEffects: false,
        killBrowserLabel: '<div class="fn__clear vditor-reset">为了让浏览器更好的发展，人类更加的进步，拥有更好的体验，让我们放弃使用那些过时、不安全的浏览器。<p>你可以下载：</p><ul class="fn__left"><li><a href="http://www.google.com/chrome" target="_blank" rel="noopener">谷歌浏览器</a></li><li><a href="http://www.mozilla.com/" target="_blank" rel="noopener">火狐</a></li><li><a href="http://se.360.cn/" target="_blank" rel="noopener">360</a> 或者 <a href="https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8" target="_blank" rel="noopener">其它浏览器</a></li></ul><img class="fn__right" alt="Kill IE6" title="Kill IE6" src="/images/kill-browser.png"></div>',
        killBrowserTitleLabel: '让我们放弃使用那些过时、不安全的浏览器吧！',
        activityStartEatingSnakeTipLabel: '玩一局需要 【{point}】积分，确定开始么？',
        activityStartGobangTipLabel: '玩一局需要 【{point}】积分，确定开始么？',
        activityAskForDrawLabel: '对方请求和棋，是否同意？',
        newVersionAvailableLabel: '新版本可用',
        colonLabel: '：',
        upToDateLabel: '已是最新版',
        amountNotEmpty: '数额不能为空',
        updateFailLabel: '更新失败',
        updateSuccLabel: '更新成功',
        transferSuccLabel: '转账成功',
        invalidUserURLLabel: '链接需要符合 URL（协议://地址），最大长度 100',
        tagsErrorLabel: '最多包含 4 个标签，每个标签长度 1-9，请勿包含特殊符号',
        invalidUserQQLabel: 'QQ 号必须为数字，最大长度 12',
        invalidUserIntroLabel: '个人简介最大长度 255',
        invalidUserB3KeyLabel: 'B3 Key 最大长度 20',
        invalidUserB3ClientURLLabel: 'B3 博客接口最大长度 150',
        invalidUserNicknameLabel: '昵称最大长度 20',
        invalidPhoneLabel: '手机号有误',
        uploadLabel: '上传',
        helpLabel: '帮助',
        articleTitleErrorLabel: '帖子标题长度 1-255',
        articleContentErrorLabel: '帖子内容长度 4-{maxArticleContentLength}',
        recordDeniedLabel: '授权后才可以使用音频',
        recordDeviceNotFoundLabel: '录音设备加载失败',
        audioRecordingLabel: '[录音中]',
        uploadingLabel: '[上传中请稍候]',
        articleRewardPointErrorLabel: '打赏区积分必须为正整数',
        discussionLabel: '机要',
        commonAtUser: 'false',
        commentErrorLabel: '回帖内容长度 1-4096',
        notAllowCmtLabel: '该帖已关闭回帖',
        upLabel: '赞同',
        downLabel: '反对',
        removedLabel: '相关数据已被删除',
        stickConfirmLabel: '确定要消费 100 积分来置顶该帖子吗？',
        noRevisionLabel: '权限不足或内容没有发生过改变。',
        thankedLabel: '已感谢',
        thankLabel: '感谢',
        isAdminLoggedIn: false,
        adminLabel: '管理',
        thankSelfLabel: '老王，你家的瓜熟了~',
        replyLabel: '回复',
        referenceLabel: '引用',
        goCommentLabel: '跳转到回帖',
        commonUpdateCommentPermissionLabel: '更新回帖',
        noPermissionLabel: '该账号目前是<span class="ft-green">访客</span>，暂不能使用该功能，详情请浏览<a href="https://hacpai.com/article/1482057214675">社区信任体系</a>',
        rewardLabel: '打赏',
        closeLabel: '关闭',
        invalidAppRoleLabel: '角色有误',
        cancelLabel: '取消',
        wsToken: '',
        adGitHubRepo: '{"description":"node-express-MongoDB-typescript（后端），taro（小程序），react 全家桶（管理后台）；主要功能模块：博客，教程手册，电影等。","language":"CSS","full_name":"zhenquan321/blog-feng","avatar":"https://avatars.githubusercontent.com/u/17467632?v=4","stargazers_count":"5","html_url":"https://github.com/zhenquan321/blog-feng"}',
        userChannelURL: 'wss://hacpai.com:/user-channel?url=' + encodeURIComponent(window.location.href) + "&wsToken=",
        notificationCmtIds: '',
        articleAuthorName: 'lizhongyue248',
        userCommentViewMode: 0,
        thankArticleConfirmLabel: '确定赠送 20 积分给该帖作者以表谢意？',
        rewardConfirmLabel: '确定要打赏 0 积分给该帖子作者？',
        articleType: 0,
        csrfToken: '',
        articleOId: '1554268298675',
    }
</script>
 <!--[if le IE 8]>
 <script>
     document.getElementsByTagName(
             'div')[0].innerHTML = '<div class="dialog"><div class="dialog__bg"></div><div class="dialog__main" style="width:768px;top:' +
             (document.documentElement.clientHeight - 287) / 2 + 'px;left:' +
             (document.documentElement.clientWidth - 768) / 2 + 'px">'
             +
             '<div style="height: 20px" class="dialog__header fn__clear" onselectstart="return false;"><h2>让我们放弃使用那些过时、不安全的浏览器吧！</h2></div><div class="dialog__content"><div class="fn__clear vditor-reset">为了让浏览器更好的发展，人类更加的进步，拥有更好的体验，让我们放弃使用那些过时、不安全的浏览器。<p>你可以下载：</p><ul class="fn__left"><li><a href="http://www.google.com/chrome" target="_blank" rel="noopener">谷歌浏览器</a></li><li><a href="http://www.mozilla.com/" target="_blank" rel="noopener">火狐</a></li><li><a href="http://se.360.cn/" target="_blank" rel="noopener">360</a> 或者 <a href="https://www.baidu.com/s?wd=%E6%B5%8F%E8%A7%88%E5%99%A8" target="_blank" rel="noopener">其它浏览器</a></li></ul><img class="fn__right" alt="Kill IE6" title="Kill IE6" src="/images/kill-browser.png"></div></div></div></div>'
 </script>
 <![endif]-->



<!-- Generated by Latke (https://github.com/b3log/latke) in 590ms, 2019/12/04 12:15:22 --><ins class="adsbygoogle adsbygoogle-noablate" data-adsbygoogle-status="done" style="display: none !important;"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><ins id="aswift_2_anchor" style="display:block;border:none;height:0px;margin:0;padding:0;position:relative;visibility:visible;width:0px;background-color:transparent;"><iframe frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;border:0px;width:0px;height:0px;" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/saved_resource(2).html"></iframe></ins></ins></ins><div style="position: absolute;z-index: 130"></div><div style="position: absolute;z-index: 130"></div><iframe id="google_osd_static_frame_4264141928273" name="google_osd_static_frame" style="display: none; width: 0px; height: 0px;" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/saved_resource(3).html"></iframe></body><iframe id="google_esf" name="google_esf" src="./[阅读] 敏捷软件开发 —— 薪水支付案例研究（一） - 黑客派_files/zrt_lookup.html" data-ad-client="ca-pub-5357405790190342" style="display: none;"></iframe></html>